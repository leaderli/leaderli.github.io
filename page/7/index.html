<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="google-site-verification" content="9-iuFTrWxG-NMbBqeS359Y491i0G0HcZ44NiICCEs7s">
<meta name="baidu-site-verification" content="eQr4ptzetx">



















  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  

  
    
      
    

    
  

  
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext">
  






<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">

<link rel="stylesheet" href="/css/main.css?v=7.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.2.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.2.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.2.0">


  <link rel="mask-icon" href="/images/logo.svg?v=7.2.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.2.0',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  





  <meta name="description" content="与其感慨路难行，不如马上就出发">
<meta property="og:type" content="website">
<meta property="og:title" content="大狗哥传奇">
<meta property="og:url" content="https://leaderli.github.io/page/7/index.html">
<meta property="og:site_name" content="大狗哥传奇">
<meta property="og:description" content="与其感慨路难行，不如马上就出发">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="大狗哥传奇">
<meta name="twitter:description" content="与其感慨路难行，不如马上就出发">





  
  
  <link rel="canonical" href="https://leaderli.github.io/page/7/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>大狗哥传奇</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">大狗哥传奇</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
  <script type="text/javascript">
     var search_path = "<%= config.search.path %>";
     if (search_path.length == 0) {
     	search_path = "search.json";
     }
     var path = "<%= config.root %>" + search_path;
 </script>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://leaderli.github.io/2020/05/08/node入门/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lijun">
      <meta itemprop="description" content="与其感慨路难行，不如马上就出发">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="大狗哥传奇">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2020/05/08/node入门/" class="post-title-link" itemprop="url">node入门</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-05-08 13:53:02" itemprop="dateCreated datePublished" datetime="2020-05-08T13:53:02+08:00">2020-05-08</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-09-17 19:28:39" itemprop="dateModified" datetime="2020-09-17T19:28:39+08:00">2020-09-17</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/前端/" itemprop="url" rel="index"><span itemprop="name">前端</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="npm"><code>npm</code></h2>
<p>NPM &#x662F;&#x968F;&#x540C; NodeJS &#x4E00;&#x8D77;&#x5B89;&#x88C5;&#x7684;&#x5305;&#x7BA1;&#x7406;&#x5DE5;&#x5177;, <code>nodejs</code>&#x7684;&#x5305;&#x7BA1;&#x7406;&#x5668;&#xFF0C;&#x7528;&#x4E8E; node &#x63D2;&#x4EF6;&#x7BA1;&#x7406;&#xFF0C;&#x5305;&#x62EC;&#x5B89;&#x88C5;&#xFF0C;&#x5378;&#x8F7D;&#xFF0C;&#x7BA1;&#x7406;&#x4F9D;&#x8D56;&#x7B49;</p>
<h3 id="&#x7528;-npm-&#x547D;&#x4EE4;&#x5B89;&#x88C5;&#x6A21;&#x5757;">&#x7528; npm &#x547D;&#x4EE4;&#x5B89;&#x88C5;&#x6A21;&#x5757;</h3>
<p>npm &#x5B89;&#x88C5; Node.js &#x6A21;&#x5757;&#x8BED;&#x6CD5;&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install &lt;Module Name&gt;</span><br></pre></td></tr></table></figure>
<p>npm &#x7684;&#x5305;&#x5B89;&#x88C5;&#x5206;&#x4E3A;&#x672C;&#x5730;&#x5B89;&#x88C5;&#xFF08;local&#xFF09;&#x3001;&#x5168;&#x5C40;&#x5B89;&#x88C5;&#xFF08;global&#xFF09;&#x4E24;&#x79CD;&#xFF0C;&#x4ECE;&#x6572;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x6765;&#x770B;&#xFF0C;&#x5DEE;&#x522B;&#x53EA;&#x662F;&#x6709;&#x6CA1;&#x6709;-g &#x800C;&#x5DF2;&#xFF0C;&#x6BD4;&#x5982;</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install express          # &#x672C;&#x5730;&#x5B89;&#x88C5;</span><br><span class="line">npm install express -g   # &#x5168;&#x5C40;&#x5B89;&#x88C5;</span><br></pre></td></tr></table></figure>
<h4 id="&#x672C;&#x5730;&#x5B89;&#x88C5;">&#x672C;&#x5730;&#x5B89;&#x88C5;</h4>
<ol type="1">
<li>&#x5C06;&#x5B89;&#x88C5;&#x5305;&#x653E;&#x5728; ./node_modules &#x4E0B;&#xFF08;&#x8FD0;&#x884C; npm &#x547D;&#x4EE4;&#x65F6;&#x6240;&#x5728;&#x7684;&#x76EE;&#x5F55;&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709; node_modules &#x76EE;&#x5F55;&#xFF0C;&#x4F1A;&#x5728;&#x5F53;&#x524D;&#x6267;&#x884C; npm &#x547D;&#x4EE4;&#x7684;&#x76EE;&#x5F55;&#x4E0B;&#x751F;&#x6210; node_modules &#x76EE;&#x5F55;&#x3002;</li>
<li>&#x53EF;&#x4EE5;&#x901A;&#x8FC7; require() &#x6765;&#x5F15;&#x5165;&#x672C;&#x5730;&#x5B89;&#x88C5;&#x7684;&#x5305;&#x3002;</li>
<li>&#x53EF;&#x901A;&#x8FC7;<code>npm list</code>&#x67E5;&#x770B;&#x9879;&#x76EE;&#x5B89;&#x88C5;&#x7684;&#x6A21;&#x5757;</li>
</ol>
<h4 id="&#x5168;&#x5C40;&#x5B89;&#x88C5;">&#x5168;&#x5C40;&#x5B89;&#x88C5;</h4>
<ol type="1">
<li>&#x5C06;&#x5B89;&#x88C5;&#x5305;&#x653E;&#x5728; /usr/local &#x4E0B;&#x6216;&#x8005;&#x4F60; node &#x7684;&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#x3002;</li>
<li>&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x91CC;&#x4F7F;&#x7528;&#x3002;</li>
<li>&#x53EF;&#x901A;&#x8FC7;<code>npm root -g</code>&#x67E5;&#x770B;&#x6240;&#x6709;&#x5168;&#x5C40;&#x5B89;&#x88C5;&#x7684;&#x6A21;&#x5757;&#x7684;&#x76EE;&#x5F55;&#xFF1A;</li>
<li>&#x53EF;&#x901A;&#x8FC7;<code>npm list -g</code>&#x67E5;&#x770B;&#x5168;&#x5C40;&#x5B89;&#x88C5;&#x7684;&#x6A21;&#x5757;</li>
</ol>
<h3 id="&#x4F7F;&#x7528;-package.json">&#x4F7F;&#x7528; package.json</h3>
<p>package.json &#x4F4D;&#x4E8E;&#x6A21;&#x5757;&#x7684;&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x7528;&#x4E8E;&#x5B9A;&#x4E49;&#x5305;&#x7684;&#x5C5E;&#x6027;</p>
<p><code>npm init</code> &#x521D;&#x59CB;&#x5316;&#xFF0C;&#x751F;&#x6210;<code>package.json</code></p>
<h4 id="package.json-&#x5C5E;&#x6027;&#x8BF4;&#x660E;">Package.json &#x5C5E;&#x6027;&#x8BF4;&#x660E;</h4>
<blockquote>
<p>name - &#x5305;&#x540D;&#x3002; version - &#x5305;&#x7684;&#x7248;&#x672C;&#x53F7;&#x3002; description - &#x5305;&#x7684;&#x63CF;&#x8FF0;&#x3002; scripts &#x4F7F;&#x7528;<code>npm run command</code>&#x5B9E;&#x9645;&#x6267;&#x884C;&#x5176;&#x914D;&#x7F6E;&#x7684;&#x503C;&#x3002;&#x4F8B;&#x5982;<code>{&quot;dev&quot;: &quot;node build/dev-server.js&quot;}</code> homepage - &#x5305;&#x7684;&#x5B98;&#x7F51; url &#x3002; author - &#x5305;&#x7684;&#x4F5C;&#x8005;&#x59D3;&#x540D;&#x3002; contributors - &#x5305;&#x7684;&#x5176;&#x4ED6;&#x8D21;&#x732E;&#x8005;&#x59D3;&#x540D;&#x3002; dependencies - &#x4F9D;&#x8D56;&#x5305;&#x5217;&#x8868;&#x3002;&#x5982;&#x679C;&#x4F9D;&#x8D56;&#x5305;&#x6CA1;&#x6709;&#x5B89;&#x88C5;&#xFF0C;npm &#x4F1A;&#x81EA;&#x52A8;&#x5C06;&#x4F9D;&#x8D56;&#x5305;&#x5B89;&#x88C5;&#x5728; node_module &#x76EE;&#x5F55;&#x4E0B;&#x3002; repository - &#x5305;&#x4EE3;&#x7801;&#x5B58;&#x653E;&#x7684;&#x5730;&#x65B9;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x53EF;&#x4EE5;&#x662F; git &#x6216; svn&#xFF0C;git &#x53EF;&#x5728; Github &#x4E0A;&#x3002; main - main &#x5B57;&#x6BB5;&#x6307;&#x5B9A;&#x4E86;&#x7A0B;&#x5E8F;&#x7684;&#x4E3B;&#x5165;&#x53E3;&#x6587;&#x4EF6;&#xFF0C;require(&apos;moduleName&apos;) &#x5C31;&#x4F1A;&#x52A0;&#x8F7D;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x3002;&#x8FD9;&#x4E2A;&#x5B57;&#x6BB5;&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x662F;&#x6A21;&#x5757;&#x6839;&#x76EE;&#x5F55;&#x4E0B;&#x9762;&#x7684; index.js&#x3002; keywords - &#x5173;&#x952E;&#x5B57;</p>
</blockquote>
<p>&#x5B89;&#x88C5;&#x8F6F;&#x4EF6;&#x65F6;&#x53EF;&#x4EE5;&#x5C06;&#x6A21;&#x5757;&#x7684;&#x4F9D;&#x8D56;&#x5199;&#x5165;<code>package.json</code>&#x7684;&#x8282;&#x70B9;&#x4E0B;</p>
<ol type="1">
<li><code>-S</code> <code>-s</code> <code>--save</code> &#x5C06;&#x5B89;&#x88C5;&#x5305;&#x4FE1;&#x606F;&#x52A0;&#x5165;&#x5230;<code>dependencies</code></li>
<li><code>-D</code> <code>-d</code> <code>--save --dev</code> &#x5C06;&#x5B89;&#x88C5;&#x5305;&#x4FE1;&#x606F;&#x52A0;&#x5165;<code>devDependencies</code></li>
</ol>
<h2 id="&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;">&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;</h2>
<p>Node.js &#x57FA;&#x672C;&#x4E0A;&#x6240;&#x6709;&#x7684;&#x4E8B;&#x4EF6;&#x673A;&#x5236;&#x90FD;&#x662F;&#x7528;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x4E2D;&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x5B9E;&#x73B0;&#x3002; Node.js &#x5355;&#x7EBF;&#x7A0B;&#x7C7B;&#x4F3C;&#x8FDB;&#x5165;&#x4E00;&#x4E2A; while(true)&#x7684;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#xFF0C;&#x76F4;&#x5230;&#x6CA1;&#x6709;&#x4E8B;&#x4EF6;&#x89C2;&#x5BDF;&#x8005;&#x9000;&#x51FA;&#xFF0C;&#x6BCF;&#x4E2A;&#x5F02;&#x6B65;&#x4E8B;&#x4EF6;&#x90FD;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#x89C2;&#x5BDF;&#x8005;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x4E8B;&#x4EF6;&#x53D1;&#x751F;&#x5C31;&#x8C03;&#x7528;&#x8BE5;&#x56DE;&#x8C03;&#x51FD;&#x6570;. <img src="/images/node&#x5165;&#x95E8;_2020-05-09-17-16-32.png" alt="node&#x5165;&#x95E8;_2020-05-09-17-16-32.png"></p>
<p>Node.js &#x6709;&#x591A;&#x4E2A;&#x5185;&#x7F6E;&#x7684;&#x4E8B;&#x4EF6;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5F15;&#x5165; events &#x6A21;&#x5757;&#xFF0C;&#x5E76;&#x901A;&#x8FC7;&#x5B9E;&#x4F8B;&#x5316; EventEmitter &#x7C7B;&#x6765;&#x7ED1;&#x5B9A;&#x548C;&#x76D1;&#x542C;&#x4E8B;&#x4EF6;&#xFF0C;&#x5982;&#x4E0B;&#x5B9E;&#x4F8B;&#xFF1A;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x5F15;&#x5165; events &#x6A21;&#x5757;</span></span><br><span class="line"><span class="keyword">var</span> events = <span class="built_in">require</span>(<span class="string">&quot;events&quot;</span>);</span><br><span class="line"><span class="comment">// &#x521B;&#x5EFA; eventEmitter &#x5BF9;&#x8C61;</span></span><br><span class="line"><span class="keyword">var</span> eventEmitter = <span class="keyword">new</span> events.EventEmitter();</span><br></pre></td></tr></table></figure>
<p>&#x4EE5;&#x4E0B;&#x7A0B;&#x5E8F;&#x7ED1;&#x5B9A;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#xFF1A;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x7ED1;&#x5B9A;&#x4E8B;&#x4EF6;&#x53CA;&#x4E8B;&#x4EF6;&#x7684;&#x5904;&#x7406;&#x7A0B;&#x5E8F;</span></span><br><span class="line">eventEmitter.on(<span class="string">&quot;eventName&quot;</span>, eventHandler);</span><br></pre></td></tr></table></figure>
<p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7A0B;&#x5E8F;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#xFF1A;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x89E6;&#x53D1;&#x4E8B;&#x4EF6;</span></span><br><span class="line">eventEmitter.emit(<span class="string">&quot;eventName&quot;</span>);</span><br></pre></td></tr></table></figure>
<h2 id="stream&#x6D41;">Stream(&#x6D41;)</h2>
<p>Stream &#x662F;&#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x63A5;&#x53E3;&#xFF0C;Node &#x4E2D;&#x6709;&#x5F88;&#x591A;&#x5BF9;&#x8C61;&#x5B9E;&#x73B0;&#x4E86;&#x8FD9;&#x4E2A;&#x63A5;&#x53E3;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5BF9; http &#x670D;&#x52A1;&#x5668;&#x53D1;&#x8D77;&#x8BF7;&#x6C42;&#x7684; request &#x5BF9;&#x8C61;&#x5C31;&#x662F;&#x4E00;&#x4E2A; Stream&#xFF0C;&#x8FD8;&#x6709; stdout&#xFF08;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#xFF09;&#x3002; Node.js&#xFF0C;Stream &#x6709;&#x56DB;&#x79CD;&#x6D41;&#x7C7B;&#x578B;&#xFF1A;</p>
<ul>
<li>Readable - &#x53EF;&#x8BFB;&#x64CD;&#x4F5C;&#x3002;</li>
<li>Writable - &#x53EF;&#x5199;&#x64CD;&#x4F5C;&#x3002;</li>
<li>Duplex - &#x53EF;&#x8BFB;&#x53EF;&#x5199;&#x64CD;&#x4F5C;.</li>
<li>Transform - &#x64CD;&#x4F5C;&#x88AB;&#x5199;&#x5165;&#x6570;&#x636E;&#xFF0C;&#x7136;&#x540E;&#x8BFB;&#x51FA;&#x7ED3;&#x679C;&#x3002;</li>
</ul>
<p>&#x6240;&#x6709;&#x7684; Stream &#x5BF9;&#x8C61;&#x90FD;&#x662F; EventEmitter &#x7684;&#x5B9E;&#x4F8B;&#x3002;&#x5E38;&#x7528;&#x7684;&#x4E8B;&#x4EF6;&#x6709;&#xFF1A;</p>
<ul>
<li>data - &#x5F53;&#x6709;&#x6570;&#x636E;&#x53EF;&#x8BFB;&#x65F6;&#x89E6;&#x53D1;&#x3002;</li>
<li>end - &#x6CA1;&#x6709;&#x66F4;&#x591A;&#x7684;&#x6570;&#x636E;&#x53EF;&#x8BFB;&#x65F6;&#x89E6;&#x53D1;&#x3002;</li>
<li>error - &#x5728;&#x63A5;&#x6536;&#x548C;&#x5199;&#x5165;&#x8FC7;&#x7A0B;&#x4E2D;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x65F6;&#x89E6;&#x53D1;&#x3002;</li>
<li>finish - &#x6240;&#x6709;&#x6570;&#x636E;&#x5DF2;&#x88AB;&#x5199;&#x5165;&#x5230;&#x5E95;&#x5C42;&#x7CFB;&#x7EDF;&#x65F6;&#x89E6;&#x53D1;&#x3002;</li>
</ul>
<h3 id="&#x4ECE;&#x6D41;&#x4E2D;&#x8BFB;&#x53D6;&#x6570;&#x636E;">&#x4ECE;&#x6D41;&#x4E2D;&#x8BFB;&#x53D6;&#x6570;&#x636E;</h3>
<p>&#x521B;&#x5EFA; input.txt &#x6587;&#x4EF6;&#xFF0C;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A;</p>
<blockquote>
<p>&#x83DC;&#x9E1F;&#x6559;&#x7A0B;&#x5B98;&#x7F51;&#x5730;&#x5740;&#xFF1A;www.runoob.com &#x521B;&#x5EFA; main.js &#x6587;&#x4EF6;, &#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> data = <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x521B;&#x5EFA;&#x53EF;&#x8BFB;&#x6D41;</span></span><br><span class="line"><span class="keyword">var</span> readerStream = fs.createReadStream(<span class="string">&quot;input.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x8BBE;&#x7F6E;&#x7F16;&#x7801;&#x4E3A; utf8&#x3002;</span></span><br><span class="line">readerStream.setEncoding(<span class="string">&quot;UTF8&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x5904;&#x7406;&#x6D41;&#x4E8B;&#x4EF6; --&gt; data, end, and error</span></span><br><span class="line">readerStream.on(<span class="string">&quot;data&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">chunk</span>) </span>{</span><br><span class="line">  data += chunk;</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line">readerStream.on(<span class="string">&quot;end&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">  <span class="built_in">console</span>.log(data);</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line">readerStream.on(<span class="string">&quot;error&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>{</span><br><span class="line">  <span class="built_in">console</span>.log(err.stack);</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x5B8C;&#x6BD5;&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>&#x4EE5;&#x4E0A;&#x4EE3;&#x7801;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A;</p>
<blockquote>
<p>&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x5B8C;&#x6BD5; &#x83DC;&#x9E1F;&#x6559;&#x7A0B;&#x5B98;&#x7F51;&#x5730;&#x5740;&#xFF1A;www.runoob.com</p>
</blockquote>
<h3 id="&#x5199;&#x5165;&#x6D41;">&#x5199;&#x5165;&#x6D41;</h3>
<p>&#x521B;&#x5EFA; main.js &#x6587;&#x4EF6;, &#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> data = <span class="string">&quot;&#x83DC;&#x9E1F;&#x6559;&#x7A0B;&#x5B98;&#x7F51;&#x5730;&#x5740;&#xFF1A;www.runoob.com&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x53EF;&#x4EE5;&#x5199;&#x5165;&#x7684;&#x6D41;&#xFF0C;&#x5199;&#x5165;&#x5230;&#x6587;&#x4EF6; output.txt &#x4E2D;</span></span><br><span class="line"><span class="keyword">var</span> writerStream = fs.createWriteStream(<span class="string">&quot;output.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x4F7F;&#x7528; utf8 &#x7F16;&#x7801;&#x5199;&#x5165;&#x6570;&#x636E;</span></span><br><span class="line">writerStream.write(data, <span class="string">&quot;UTF8&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x6807;&#x8BB0;&#x6587;&#x4EF6;&#x672B;&#x5C3E;</span></span><br><span class="line">writerStream.end();</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x5904;&#x7406;&#x6D41;&#x4E8B;&#x4EF6; --&gt; data, end, and error</span></span><br><span class="line">writerStream.on(<span class="string">&quot;finish&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;&#x5199;&#x5165;&#x5B8C;&#x6210;&#x3002;&quot;</span>);</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line">writerStream.on(<span class="string">&quot;error&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>{</span><br><span class="line">  <span class="built_in">console</span>.log(err.stack);</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x5B8C;&#x6BD5;&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>&#x4EE5;&#x4E0A;&#x7A0B;&#x5E8F;&#x4F1A;&#x5C06; data &#x53D8;&#x91CF;&#x7684;&#x6570;&#x636E;&#x5199;&#x5165;&#x5230; output.txt &#x6587;&#x4EF6;&#x4E2D;&#x3002;&#x4EE3;&#x7801;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A;</p>
<blockquote>
<p>node main.js &#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x5B8C;&#x6BD5; &#x5199;&#x5165;&#x5B8C;&#x6210;&#x3002;</p>
</blockquote>
<p>&#x67E5;&#x770B; output.txt &#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9;&#xFF1A;</p>
<blockquote>
<p>cat output.txt &#x83DC;&#x9E1F;&#x6559;&#x7A0B;&#x5B98;&#x7F51;&#x5730;&#x5740;&#xFF1A;www.runoob.com</p>
</blockquote>
<h3 id="&#x7BA1;&#x9053;&#x6D41;">&#x7BA1;&#x9053;&#x6D41;</h3>
<p>&#x7BA1;&#x9053;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x8F93;&#x51FA;&#x6D41;&#x5230;&#x8F93;&#x5165;&#x6D41;&#x7684;&#x673A;&#x5236;&#x3002;&#x901A;&#x5E38;&#x6211;&#x4EEC;&#x7528;&#x4E8E;&#x4ECE;&#x4E00;&#x4E2A;&#x6D41;&#x4E2D;&#x83B7;&#x53D6;&#x6570;&#x636E;&#x5E76;&#x5C06;&#x6570;&#x636E;&#x4F20;&#x9012;&#x5230;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x6D41;&#x4E2D;&#x3002;</p>
<p>&#x8BBE;&#x7F6E; input.txt &#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A;</p>
<blockquote>
<p>&#x83DC;&#x9E1F;&#x6559;&#x7A0B;&#x5B98;&#x7F51;&#x5730;&#x5740;&#xFF1A;www.runoob.com &#x7BA1;&#x9053;&#x6D41;&#x64CD;&#x4F5C;&#x5B9E;&#x4F8B;</p>
</blockquote>
<p>&#x521B;&#x5EFA; main.js &#x6587;&#x4EF6;, &#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x53EF;&#x8BFB;&#x6D41;</span></span><br><span class="line"><span class="keyword">var</span> readerStream = fs.createReadStream(<span class="string">&quot;input.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x53EF;&#x5199;&#x6D41;</span></span><br><span class="line"><span class="keyword">var</span> writerStream = fs.createWriteStream(<span class="string">&quot;output.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x7BA1;&#x9053;&#x8BFB;&#x5199;&#x64CD;&#x4F5C;</span></span><br><span class="line"><span class="comment">// &#x8BFB;&#x53D6; input.txt &#x6587;&#x4EF6;&#x5185;&#x5BB9;&#xFF0C;&#x5E76;&#x5C06;&#x5185;&#x5BB9;&#x5199;&#x5165;&#x5230; output.txt &#x6587;&#x4EF6;&#x4E2D;</span></span><br><span class="line">readerStream.pipe(writerStream);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x5B8C;&#x6BD5;&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>&#x4EE3;&#x7801;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A;</p>
<blockquote>
<p>node main.js &#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x5B8C;&#x6BD5;</p>
</blockquote>
<p>&#x67E5;&#x770B; output.txt &#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9;&#xFF1A;</p>
<blockquote>
<p>cat output.txt &#x83DC;&#x9E1F;&#x6559;&#x7A0B;&#x5B98;&#x7F51;&#x5730;&#x5740;&#xFF1A;www.runoob.com</p>
</blockquote>
<h3 id="&#x7BA1;&#x9053;&#x6D41;&#x64CD;&#x4F5C;&#x5B9E;&#x4F8B;">&#x7BA1;&#x9053;&#x6D41;&#x64CD;&#x4F5C;&#x5B9E;&#x4F8B;</h3>
<p>&#x94FE;&#x5F0F;&#x6D41; &#x94FE;&#x5F0F;&#x662F;&#x901A;&#x8FC7;&#x8FDE;&#x63A5;&#x8F93;&#x51FA;&#x6D41;&#x5230;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x6D41;&#x5E76;&#x521B;&#x5EFA;&#x591A;&#x4E2A;&#x6D41;&#x64CD;&#x4F5C;&#x94FE;&#x7684;&#x673A;&#x5236;&#x3002;&#x94FE;&#x5F0F;&#x6D41;&#x4E00;&#x822C;&#x7528;&#x4E8E;&#x7BA1;&#x9053;&#x64CD;&#x4F5C;&#x3002; &#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x5C31;&#x662F;&#x7528;&#x7BA1;&#x9053;&#x548C;&#x94FE;&#x5F0F;&#x6765;&#x538B;&#x7F29;&#x548C;&#x89E3;&#x538B;&#x6587;&#x4EF6;&#x3002; &#x521B;&#x5EFA; compress.js &#x6587;&#x4EF6;, &#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> zlib = <span class="built_in">require</span>(<span class="string">&apos;zlib&apos;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x538B;&#x7F29; input.txt &#x6587;&#x4EF6;&#x4E3A; input.txt.gz</span></span><br><span class="line">fs.createReadStream(<span class="string">&apos;input.txt&apos;</span>)</span><br><span class="line">  .pipe(zlib.createGzip())</span><br><span class="line">  .pipe(fs.createWriteStream(<span class="string">&apos;input.txt.gz&apos;</span>));</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;&#x6587;&#x4EF6;&#x538B;&#x7F29;&#x5B8C;&#x6210;&#x3002;&quot;</span>);</span><br><span class="line">&#x4EE3;&#x7801;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A;</span><br><span class="line">$ node compress.js</span><br><span class="line">&#x6587;&#x4EF6;&#x538B;&#x7F29;&#x5B8C;&#x6210;&#x3002;</span><br><span class="line">&#x6267;&#x884C;&#x5B8C;&#x4EE5;&#x4E0A;&#x64CD;&#x4F5C;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E0B;&#x751F;&#x6210;&#x4E86; input.txt &#x7684;&#x538B;&#x7F29;&#x6587;&#x4EF6; input.txt.gz&#x3002;</span><br><span class="line">&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x6765;&#x89E3;&#x538B;&#x8BE5;&#x6587;&#x4EF6;&#xFF0C;&#x521B;&#x5EFA; decompress.js &#x6587;&#x4EF6;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;</span><br><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> zlib = <span class="built_in">require</span>(<span class="string">&apos;zlib&apos;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x89E3;&#x538B; input.txt.gz &#x6587;&#x4EF6;&#x4E3A; input.txt</span></span><br><span class="line">fs.createReadStream(<span class="string">&apos;input.txt.gz&apos;</span>)</span><br><span class="line">  .pipe(zlib.createGunzip())</span><br><span class="line">  .pipe(fs.createWriteStream(<span class="string">&apos;input.txt&apos;</span>));</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;&#x6587;&#x4EF6;&#x89E3;&#x538B;&#x5B8C;&#x6210;&#x3002;&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>&#x4EE3;&#x7801;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A;</p>
<blockquote>
<p>node decompress.js &#x6587;&#x4EF6;&#x89E3;&#x538B;&#x5B8C;&#x6210;&#x3002;</p>
</blockquote>
<h2 id="&#x6A21;&#x5757;&#x7CFB;&#x7EDF;">&#x6A21;&#x5757;&#x7CFB;&#x7EDF;</h2>
<p>&#x6A21;&#x5757;&#x662F; Node.js &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x57FA;&#x672C;&#x7EC4;&#x6210;&#x90E8;&#x5206;&#xFF0C;&#x6587;&#x4EF6;&#x548C;&#x6A21;&#x5757;&#x662F;&#x4E00;&#x4E00;&#x5BF9;&#x5E94;&#x7684;&#x3002;&#x6362;&#x8A00;&#x4E4B;&#xFF0C;&#x4E00;&#x4E2A; Node.js &#x6587;&#x4EF6;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#xFF0C;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x53EF;&#x80FD;&#x662F; JavaScript &#x4EE3;&#x7801;&#x3001;JSON &#x6216;&#x8005;&#x7F16;&#x8BD1;&#x8FC7;&#x7684; C/C++ &#x6269;&#x5C55;&#x3002;Node.js &#x63D0;&#x4F9B;&#x4E86; exports &#x548C; require &#x4E24;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x5176;&#x4E2D; exports &#x662F;&#x6A21;&#x5757;&#x516C;&#x5F00;&#x7684;&#x63A5;&#x53E3;&#xFF0C;require &#x7528;&#x4E8E;&#x4ECE;&#x5916;&#x90E8;&#x83B7;&#x53D6;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#x7684;&#x63A5;&#x53E3;&#xFF0C;&#x5373;&#x6240;&#x83B7;&#x53D6;&#x6A21;&#x5757;&#x7684; exports &#x5BF9;&#x8C61;&#x3002;</p>
<h3 id="require">require</h3>
<p>&#x5F15;&#x5165;&#x5176;&#x4ED6;&#x6A21;&#x5757;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">&quot;http&quot;</span>);</span><br><span class="line">http</span><br><span class="line">  .createServer(<span class="function"><span class="keyword">function</span> (<span class="params">request, response</span>) </span>{</span><br><span class="line">    <span class="comment">// &#x53D1;&#x9001; HTTP &#x5934;&#x90E8;</span></span><br><span class="line">    <span class="comment">// HTTP &#x72B6;&#x6001;&#x503C;: 200 : OK</span></span><br><span class="line">    <span class="comment">// &#x5185;&#x5BB9;&#x7C7B;&#x578B;: text/plain</span></span><br><span class="line">    response.writeHead(<span class="number">200</span>, { <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;text/plain&quot;</span> });</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x53D1;&#x9001;&#x54CD;&#x5E94;&#x6570;&#x636E; &quot;Hello World&quot;</span></span><br><span class="line">    response.end(<span class="string">&quot;Hello World\n&quot;</span>);</span><br><span class="line">  })</span><br><span class="line">  .listen(<span class="number">8888</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x7EC8;&#x7AEF;&#x6253;&#x5370;&#x5982;&#x4E0B;&#x4FE1;&#x606F;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;Server running at http://127.0.0.1:8888/&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>&#x5F15;&#x5165; json &#x6587;&#x4EF6;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> data = <span class="built_in">require</span>(<span class="string">&quot;./data.json&quot;</span>);</span><br></pre></td></tr></table></figure>
<h3 id="exports">exports</h3>
<p>&#x521B;&#x5EFA; hello.js &#x6587;&#x4EF6;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">exports.world = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line">};</span><br></pre></td></tr></table></figure>
<p>&#x5219;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x4EE3;&#x7801;&#x4E2D;&#x5F15;&#x7528;&#x8BE5;&#x6A21;&#x5757;&#x7684;&#x65B9;&#x6CD5;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> hello = <span class="built_in">require</span>(<span class="string">&quot;./hello&quot;</span>);</span><br><span class="line">hello.world();</span><br></pre></td></tr></table></figure>
<p>&#x5728;&#x4EE5;&#x4E0A;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;hello.js &#x901A;&#x8FC7; exports &#x5BF9;&#x8C61;&#x628A; world &#x4F5C;&#x4E3A;&#x6A21;&#x5757;&#x7684;&#x8BBF;&#x95EE;&#x63A5;&#x53E3;&#xFF0C;&#x5728; main.js &#x4E2D;&#x901A;&#x8FC7; require(&apos;./hello&apos;) &#x52A0;&#x8F7D;&#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#xFF0C;&#x7136;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8BBF;&#x95EE; hello.js &#x4E2D; exports &#x5BF9;&#x8C61;&#x7684;&#x6210;&#x5458;&#x51FD;&#x6570;&#x4E86;&#x3002; &#x6709;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x53EA;&#x662F;&#x60F3;&#x628A;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x5C01;&#x88C5;&#x5230;&#x6A21;&#x5757;&#x4E2D;&#xFF0C;&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">};</span><br></pre></td></tr></table></figure>
<p>&#x6A21;&#x5757;&#x63A5;&#x53E3;&#x7684;&#x552F;&#x4E00;&#x53D8;&#x5316;&#x662F;&#x4F7F;&#x7528; module.exports = Hello &#x4EE3;&#x66FF;&#x4E86; exports.world = function(){}&#x3002; &#x5728;&#x5916;&#x90E8;&#x5F15;&#x7528;&#x8BE5;&#x6A21;&#x5757;&#x65F6;&#xFF0C;&#x5176;&#x63A5;&#x53E3;&#x5BF9;&#x8C61;&#x5C31;&#x662F;&#x8981;&#x8F93;&#x51FA;&#x7684; Hello &#x5BF9;&#x8C61;&#x672C;&#x8EAB;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x539F;&#x5148;&#x7684; exports</p>
<h3 id="&#x6A21;&#x5757;&#x7684;&#x52A0;&#x8F7D;&#x8FC7;&#x7A0B;">&#x6A21;&#x5757;&#x7684;&#x52A0;&#x8F7D;&#x8FC7;&#x7A0B;</h3>
<p>&#x7531;&#x4E8E; Node.js &#x4E2D;&#x5B58;&#x5728; 4 &#x7C7B;&#x6A21;&#x5757;&#xFF08;&#x539F;&#x751F;&#x6A21;&#x5757;&#x548C; 3 &#x79CD;&#x6587;&#x4EF6;&#x6A21;&#x5757;&#xFF09;&#xFF0C;&#x5C3D;&#x7BA1; require &#x65B9;&#x6CD5;&#x6781;&#x5176;&#x7B80;&#x5355;&#xFF0C;&#x4F46;&#x662F;&#x5185;&#x90E8;&#x7684;&#x52A0;&#x8F7D;&#x5374;&#x662F;&#x5341;&#x5206;&#x590D;&#x6742;&#x7684;&#xFF0C;&#x5176;&#x52A0;&#x8F7D;&#x4F18;&#x5148;&#x7EA7;&#x4E5F;&#x5404;&#x81EA;&#x4E0D;&#x540C;&#x3002;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A; <img src="/images/node&#x5165;&#x95E8;_2020-05-12-20-57-08.png" alt="node&#x5165;&#x95E8;_2020-05-12-20-57-08.png"></p>
<h4 id="&#x4ECE;&#x6587;&#x4EF6;&#x6A21;&#x5757;&#x7F13;&#x5B58;&#x4E2D;&#x52A0;&#x8F7D;">&#x4ECE;&#x6587;&#x4EF6;&#x6A21;&#x5757;&#x7F13;&#x5B58;&#x4E2D;&#x52A0;&#x8F7D;</h4>
<p>&#x5C3D;&#x7BA1;&#x539F;&#x751F;&#x6A21;&#x5757;&#x4E0E;&#x6587;&#x4EF6;&#x6A21;&#x5757;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x4E0D;&#x540C;&#xFF0C;&#x4F46;&#x662F;&#x90FD;&#x4F1A;&#x4F18;&#x5148;&#x4ECE;&#x6587;&#x4EF6;&#x6A21;&#x5757;&#x7684;&#x7F13;&#x5B58;&#x4E2D;&#x52A0;&#x8F7D;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x7684;&#x6A21;&#x5757;&#x3002;</p>
<h4 id="&#x4ECE;&#x539F;&#x751F;&#x6A21;&#x5757;&#x52A0;&#x8F7D;">&#x4ECE;&#x539F;&#x751F;&#x6A21;&#x5757;&#x52A0;&#x8F7D;</h4>
<p>&#x539F;&#x751F;&#x6A21;&#x5757;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x4EC5;&#x6B21;&#x4E8E;&#x6587;&#x4EF6;&#x6A21;&#x5757;&#x7F13;&#x5B58;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x3002;require &#x65B9;&#x6CD5;&#x5728;&#x89E3;&#x6790;&#x6587;&#x4EF6;&#x540D;&#x4E4B;&#x540E;&#xFF0C;&#x4F18;&#x5148;&#x68C0;&#x67E5;&#x6A21;&#x5757;&#x662F;&#x5426;&#x5728;&#x539F;&#x751F;&#x6A21;&#x5757;&#x5217;&#x8868;&#x4E2D;&#x3002;&#x4EE5; http &#x6A21;&#x5757;&#x4E3A;&#x4F8B;&#xFF0C;&#x5C3D;&#x7BA1;&#x5728;&#x76EE;&#x5F55;&#x4E0B;&#x5B58;&#x5728;&#x4E00;&#x4E2A; http/http.js/http.node/http.json &#x6587;&#x4EF6;&#xFF0C;require(&quot;http&quot;) &#x90FD;&#x4E0D;&#x4F1A;&#x4ECE;&#x8FD9;&#x4E9B;&#x6587;&#x4EF6;&#x4E2D;&#x52A0;&#x8F7D;&#xFF0C;&#x800C;&#x662F;&#x4ECE;&#x539F;&#x751F;&#x6A21;&#x5757;&#x4E2D;&#x52A0;&#x8F7D;&#x3002; &#x539F;&#x751F;&#x6A21;&#x5757;&#x4E5F;&#x6709;&#x4E00;&#x4E2A;&#x7F13;&#x5B58;&#x533A;&#xFF0C;&#x540C;&#x6837;&#x4E5F;&#x662F;&#x4F18;&#x5148;&#x4ECE;&#x7F13;&#x5B58;&#x533A;&#x52A0;&#x8F7D;&#x3002;&#x5982;&#x679C;&#x7F13;&#x5B58;&#x533A;&#x6CA1;&#x6709;&#x88AB;&#x52A0;&#x8F7D;&#x8FC7;&#xFF0C;&#x5219;&#x8C03;&#x7528;&#x539F;&#x751F;&#x6A21;&#x5757;&#x7684;&#x52A0;&#x8F7D;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x52A0;&#x8F7D;&#x548C;&#x6267;&#x884C;&#x3002;</p>
<h4 id="&#x4ECE;&#x6587;&#x4EF6;&#x52A0;&#x8F7D;">&#x4ECE;&#x6587;&#x4EF6;&#x52A0;&#x8F7D;</h4>
<p>&#x5F53;&#x6587;&#x4EF6;&#x6A21;&#x5757;&#x7F13;&#x5B58;&#x4E2D;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x800C;&#x4E14;&#x4E0D;&#x662F;&#x539F;&#x751F;&#x6A21;&#x5757;&#x7684;&#x65F6;&#x5019;&#xFF0C;Node.js &#x4F1A;&#x89E3;&#x6790; require &#x65B9;&#x6CD5;&#x4F20;&#x5165;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x5E76;&#x4ECE;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#x52A0;&#x8F7D;&#x5B9E;&#x9645;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x52A0;&#x8F7D;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x5305;&#x88C5;&#x548C;&#x7F16;&#x8BD1;&#x7EC6;&#x8282;&#x5728;&#x524D;&#x4E00;&#x8282;&#x4E2D;&#x5DF2;&#x7ECF;&#x4ECB;&#x7ECD;&#x8FC7;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x5C06;&#x8BE6;&#x7EC6;&#x63CF;&#x8FF0;&#x67E5;&#x627E;&#x6587;&#x4EF6;&#x6A21;&#x5757;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x5176;&#x4E2D;&#xFF0C;&#x4E5F;&#x6709;&#x4E00;&#x4E9B;&#x7EC6;&#x8282;&#x503C;&#x5F97;&#x77E5;&#x6653;&#x3002; require &#x65B9;&#x6CD5;&#x63A5;&#x53D7;&#x4EE5;&#x4E0B;&#x51E0;&#x79CD;&#x53C2;&#x6570;&#x7684;&#x4F20;&#x9012;&#xFF1A;</p>
<ul>
<li>http&#x3001;fs&#x3001;path &#x7B49;&#xFF0C;&#x539F;&#x751F;&#x6A21;&#x5757;&#x3002;</li>
<li>./mod &#x6216;../mod&#xFF0C;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#x7684;&#x6587;&#x4EF6;&#x6A21;&#x5757;&#x3002;</li>
<li>/pathtomodule/mod&#xFF0C;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#x7684;&#x6587;&#x4EF6;&#x6A21;&#x5757;&#x3002;</li>
<li>mod&#xFF0C;&#x975E;&#x539F;&#x751F;&#x6A21;&#x5757;&#x7684;&#x6587;&#x4EF6;&#x6A21;&#x5757;&#x3002; &#x5728;&#x8DEF;&#x5F84; Y &#x4E0B;&#x6267;&#x884C; require(X) &#x8BED;&#x53E5;&#x6267;&#x884C;&#x987A;&#x5E8F;&#xFF1A;</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">1. &#x5982;&#x679C; X &#x662F;&#x5185;&#x7F6E;&#x6A21;&#x5757;</span><br><span class="line">   a. &#x8FD4;&#x56DE;&#x5185;&#x7F6E;&#x6A21;&#x5757;</span><br><span class="line">   b. &#x505C;&#x6B62;&#x6267;&#x884C;</span><br><span class="line">2. &#x5982;&#x679C; X &#x4EE5; &apos;/&apos; &#x5F00;&#x5934;</span><br><span class="line">   a. &#x8BBE;&#x7F6E; Y &#x4E3A;&#x6587;&#x4EF6;&#x6839;&#x8DEF;&#x5F84;</span><br><span class="line">3. &#x5982;&#x679C; X &#x4EE5; &apos;./&apos; &#x6216; &apos;/&apos; or &apos;../&apos; &#x5F00;&#x5934;</span><br><span class="line">   a. LOAD_AS_FILE(Y + X)</span><br><span class="line">   b. LOAD_AS_DIRECTORY(Y + X)</span><br><span class="line">4. LOAD_NODE_MODULES(X, dirname(Y))</span><br><span class="line">5. &#x629B;&#x51FA;&#x5F02;&#x5E38; &quot;not found&quot;</span><br><span class="line"></span><br><span class="line">LOAD_AS_FILE(X)</span><br><span class="line">1. &#x5982;&#x679C; X &#x662F;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;, &#x5C06; X &#x4F5C;&#x4E3A; JavaScript &#x6587;&#x672C;&#x8F7D;&#x5165;&#x5E76;&#x505C;&#x6B62;&#x6267;&#x884C;&#x3002;</span><br><span class="line">2. &#x5982;&#x679C; X.js &#x662F;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;, &#x5C06; X.js &#x4F5C;&#x4E3A; JavaScript &#x6587;&#x672C;&#x8F7D;&#x5165;&#x5E76;&#x505C;&#x6B62;&#x6267;&#x884C;&#x3002;</span><br><span class="line">3. &#x5982;&#x679C; X.json &#x662F;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;, &#x89E3;&#x6790; X.json &#x4E3A; JavaScript &#x5BF9;&#x8C61;&#x5E76;&#x505C;&#x6B62;&#x6267;&#x884C;&#x3002;</span><br><span class="line">4. &#x5982;&#x679C; X.node &#x662F;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;, &#x5C06; X.node &#x4F5C;&#x4E3A;&#x4E8C;&#x8FDB;&#x5236;&#x63D2;&#x4EF6;&#x8F7D;&#x5165;&#x5E76;&#x505C;&#x6B62;&#x6267;&#x884C;&#x3002;</span><br><span class="line"></span><br><span class="line">LOAD_INDEX(X)</span><br><span class="line">1. &#x5982;&#x679C; X/index.js &#x662F;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;,  &#x5C06; X/index.js &#x4F5C;&#x4E3A; JavaScript &#x6587;&#x672C;&#x8F7D;&#x5165;&#x5E76;&#x505C;&#x6B62;&#x6267;&#x884C;&#x3002;</span><br><span class="line">2. &#x5982;&#x679C; X/index.json &#x662F;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;, &#x89E3;&#x6790; X/index.json &#x4E3A; JavaScript &#x5BF9;&#x8C61;&#x5E76;&#x505C;&#x6B62;&#x6267;&#x884C;&#x3002;</span><br><span class="line">3. &#x5982;&#x679C; X/index.node &#x662F;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;,  &#x5C06; X/index.node &#x4F5C;&#x4E3A;&#x4E8C;&#x8FDB;&#x5236;&#x63D2;&#x4EF6;&#x8F7D;&#x5165;&#x5E76;&#x505C;&#x6B62;&#x6267;&#x884C;&#x3002;</span><br><span class="line"></span><br><span class="line">LOAD_AS_DIRECTORY(X)</span><br><span class="line">1. &#x5982;&#x679C; X/package.json &#x662F;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;,</span><br><span class="line">   a. &#x89E3;&#x6790; X/package.json, &#x5E76;&#x67E5;&#x627E; &quot;main&quot; &#x5B57;&#x6BB5;&#x3002;</span><br><span class="line">   b. let M = X + (json main &#x5B57;&#x6BB5;)</span><br><span class="line">   c. LOAD_AS_FILE(M)</span><br><span class="line">   d. LOAD_INDEX(M)</span><br><span class="line">2. LOAD_INDEX(X)</span><br><span class="line"></span><br><span class="line">LOAD_NODE_MODULES(X, START)</span><br><span class="line">1. let DIRS=NODE_MODULES_PATHS(START)</span><br><span class="line">2. for each DIR in DIRS:</span><br><span class="line">   a. LOAD_AS_FILE(DIR/X)</span><br><span class="line">   b. LOAD_AS_DIRECTORY(DIR/X)</span><br><span class="line"></span><br><span class="line">NODE_MODULES_PATHS(START)</span><br><span class="line">1. let PARTS = path split(START)</span><br><span class="line">2. let I = count of PARTS - 1</span><br><span class="line">3. let DIRS = []</span><br><span class="line">4. while I &gt;= 0,</span><br><span class="line">   a. if PARTS[I] = &quot;node_modules&quot; CONTINUE</span><br><span class="line">   b. DIR = path join(PARTS[0 .. I] + &quot;node_modules&quot;)</span><br><span class="line">   c. DIRS = DIRS + DIR</span><br><span class="line">   d. let I = I - 1</span><br><span class="line">5. return DIRS</span><br></pre></td></tr></table></figure>
<h2 id="&#x8DEF;&#x7531;">&#x8DEF;&#x7531;</h2>
<p>&#x8DEF;&#x7531;&#x7B80;&#x5355;&#x6765;&#x8BF4;&#x662F;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x7684; uri &#x5730;&#x5740;&#x4E0E;&#x76F8;&#x5BF9;&#x5E94;&#x7684; function &#x7684;&#x6620;&#x5C04;&#x8868;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">&quot;http&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> url = <span class="built_in">require</span>(<span class="string">&quot;url&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">start</span>(<span class="params">route</span>) </span>{</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">onRequest</span>(<span class="params">request, response</span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> pathname = url.parse(request.url).pathname;</span><br><span class="line">    <span class="comment">// true &#x8FD4;&#x56DE;dict</span></span><br><span class="line">    <span class="keyword">var</span> paramertes = url.parse(request.url, <span class="literal">true</span>).query;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;Request for &quot;</span> + pathname + <span class="string">&quot; received.&quot;</span>);</span><br><span class="line"></span><br><span class="line">    route(pathname);</span><br><span class="line"></span><br><span class="line">    response.writeHead(<span class="number">200</span>, { <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;text/plain&quot;</span> });</span><br><span class="line">    response.write(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line">    response.end();</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  http.createServer(onRequest).listen(<span class="number">8888</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;Server has started.&quot;</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">exports.start = start;</span><br></pre></td></tr></table></figure>
<p>&#x8DEF;&#x7531;&#x4E2D;&#x53EF;&#x4EE5;&#x6839;&#x636E;<code>pathname</code>&#x8C03;&#x7528;&#x5BF9;&#x5E94;&#x7684;&#x51FD;&#x6570;&#x53BB;&#x5904;&#x7406;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">route</span>(<span class="params">pathname</span>) </span>{</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;About to route a request for &quot;</span> + pathname);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">exports.route = route;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> server = <span class="built_in">require</span>(<span class="string">&quot;./server&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> router = <span class="built_in">require</span>(<span class="string">&quot;./router&quot;</span>);</span><br><span class="line"></span><br><span class="line">server.start(router.route);</span><br></pre></td></tr></table></figure>
<h3 id="&#x9519;&#x8BEF;&#x95EE;&#x9898;">&#x9519;&#x8BEF;&#x95EE;&#x9898;</h3>
<blockquote>
<p>npm &#x5B89;&#x88C5;&#x8F6F;&#x4EF6;&#x65F6; &#x62A5;&#x9519; reason: getaddrinfo EAI_AGAIN</p>
</blockquote>
<p>&#x5173;&#x95ED;&#x4EE3;&#x7406;&#x8F6F;&#x4EF6;&#x5373;&#x53EF;</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://leaderli.github.io/2020/04/25/java多线程/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lijun">
      <meta itemprop="description" content="与其感慨路难行，不如马上就出发">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="大狗哥传奇">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2020/04/25/java多线程/" class="post-title-link" itemprop="url">java多线程</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-04-25 13:25:31" itemprop="dateCreated datePublished" datetime="2020-04-25T13:25:31+08:00">2020-04-25</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-06-30 23:59:15" itemprop="dateModified" datetime="2020-06-30T23:59:15+08:00">2020-06-30</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="&#x7EBF;&#x7A0B;&#x72B6;&#x6001;">&#x7EBF;&#x7A0B;&#x72B6;&#x6001;</h2>
<h3 id="&#x65B0;&#x5EFA;new">&#x65B0;&#x5EFA;(NEW)</h3>
<p>&#x65B0;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x5BF9;&#x8C61;&#x3002;&#x5B9E;&#x73B0; Runnable &#x63A5;&#x53E3;&#x548C;&#x7EE7;&#x627F; Thread &#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x7C7B;&#xFF0C;new &#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x51FA;&#x6765;&#xFF0C;&#x7EBF;&#x7A0B;&#x5C31;&#x8FDB;&#x5165;&#x521D;&#x59CB;&#x72B6;&#x6001;&#x3002;</p>
<h3 id="&#x53EF;&#x8FD0;&#x884C;runnable">&#x53EF;&#x8FD0;&#x884C;(RUNNABLE)</h3>
<p>&#x7EBF;&#x7A0B;&#x5BF9;&#x8C61;&#x521B;&#x5EFA;&#x540E;&#xFF0C;&#x7531;&#x5176;&#x4ED6;&#x7EBF;&#x7A0B;(&#x6BD4;&#x5982; main &#x7EBF;&#x7A0B;)&#x8C03;&#x7528;&#x4E86; start &#x65B9;&#x6CD5;&#xFF0C;&#x8BE5;&#x72B6;&#x6001;&#x7684;&#x7EBF;&#x7A0B;&#x4F4D;&#x4E8E;&#x53EF;&#x8FD0;&#x884C;&#x7EBF;&#x7A0B;&#x6C60;&#x4E2D;&#xFF0C;&#x7B49;&#x5F85;&#x88AB;&#x7EBF;&#x7A0B;&#x8C03;&#x5EA6;&#x9009;&#x4E2D;&#xFF0C;&#x83B7;&#x53D6; CPU &#x7684;&#x4F7F;&#x7528;&#x6743;&#x3002;</p>
<pre><code>1. &#x53EF;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x53EA;&#x8BF4;&#x4F60;&#x6709;&#x8D44;&#x683C;&#x8FD0;&#x884C;&#xFF0C;CPU &#x8C03;&#x5EA6;&#x7A0B;&#x5E8F;&#x6CA1;&#x6709;&#x6311;&#x9009;&#x5230;&#xFF0C;&#x6C38;&#x8FDC;&#x5904;&#x4E8E;&#x53EF;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x3002;
2. &#x8C03;&#x7528;&#x7EBF;&#x7A0B;&#x7684; start &#x65B9;&#x6CD5;&#xFF0C;&#x6B64;&#x7EBF;&#x7A0B;&#x8FDB;&#x5165;&#x53EF;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x3002;
3. &#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x7684; sleep()&#x65B9;&#x6CD5;&#xFF0C;&#x5176;&#x4ED6;&#x7EBF;&#x7A0B; join &#x65B9;&#x6CD5;&#x7ED3;&#x675F;&#xFF0C;&#x6B64;&#x7EBF;&#x7A0B;&#x8FDB;&#x5165;&#x53EF;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x3002;
4. &#x9501;&#x6C60;&#x7684;&#x7EBF;&#x7A0B;&#x83B7;&#x53D6;&#x5230;&#x5BF9;&#x8C61;&#x9501;&#xFF0C;&#x6B64;&#x7EBF;&#x7A0B;&#x8FDB;&#x5165;&#x53EF;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x3002;
5. &#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x65F6;&#x95F4;&#x7247;&#x7528;&#x5B8C;&#x4E86;&#xFF0C;&#x6216;&#x8005;&#x8C03;&#x7528;&#x7EBF;&#x7A0B;&#x7684; yield &#x65B9;&#x6CD5;&#xFF0C;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x8FDB;&#x5165;&#x53EF;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x3002;</code></pre>
<h3 id="&#x8FD0;&#x884C;running">&#x8FD0;&#x884C;(RUNNING)</h3>
<p>&#x53EF;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x7684;&#x7EBF;&#x7A0B;&#x83B7;&#x53D6;&#x4E86; CPU &#x65F6;&#x95F4;&#x7247;(timeslice)&#xFF0C;&#x6267;&#x884C;&#x7A0B;&#x5E8F;&#x4EE3;&#x7801;&#x3002;&#x7EBF;&#x7A0B;&#x8C03;&#x5EA6;&#x7A0B;&#x5E8F;&#x4ECE;&#x53EF;&#x8FD0;&#x884C;&#x7EBF;&#x7A0B;&#x6C60;&#x4E2D;&#x6311;&#x9009;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x4F5C;&#x4E3A;&#x4F5C;&#x4E3A;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x6240;&#x5904;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;&#x7EBF;&#x7A0B;&#x8FDB;&#x5165;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x7684;&#x552F;&#x4E00;&#x65B9;&#x6CD5;&#x3002;</p>
<h3 id="&#x963B;&#x585E;blocked">&#x963B;&#x585E;(BLOCKED)</h3>
<p>&#x963B;&#x585E;&#x72B6;&#x6001;&#x662F;&#x6307;&#x7EBF;&#x7A0B;&#x7531;&#x4E8E;&#x67D0;&#x79CD;&#x539F;&#x56E0;&#x653E;&#x5F03;&#x4E86; CPU &#x4F7F;&#x7528;&#x6743;&#xFF0C;&#x4E5F;&#x5373;&#x8BA9;&#x51FA;&#x4E86; CPU &#x65F6;&#x95F4;&#x7247;&#xFF0C;&#x6682;&#x65F6;&#x505C;&#x6B62;&#x8FD0;&#x884C;&#x3002;&#x76F4;&#x5230;&#x7EBF;&#x7A0B;&#x518D;&#x6B21;&#x8FDB;&#x5165;&#x53EF;&#x8FD0;&#x884C;(RUNNABLE)&#x72B6;&#x6001;&#xFF0C;&#x624D;&#x6709;&#x673A;&#x4F1A;&#x518D;&#x6B21;&#x83B7;&#x5F97; CPU &#x65F6;&#x95F4;&#x7247;&#x8F6C;&#x5230;&#x8FD0;&#x884C;(RUNNING)&#x72B6;&#x6001;&#x3002;&#x963B;&#x585E;&#x7684;&#x60C5;&#x51B5;&#x5206;&#x4E09;&#x79CD;&#xFF1A;</p>
<pre><code>1. &#x7B49;&#x5F85;&#x963B;&#x585E;:&#x8FD0;&#x884C;(RUNNING)&#x72B6;&#x6001;&#x7684;&#x7EBF;&#x7A0B;&#x6267;&#x884C; wait()&#x65B9;&#x6CD5;&#xFF0C;JVM &#x4F1A;&#x628A;&#x8BE5;&#x7EBF;&#x7A0B;&#x653E;&#x5165;&#x7B49;&#x5F85;&#x961F;&#x5217;(waitting queue)&#x4E2D;&#xFF0C;&#x540C;&#x65F6;&#x91CA;&#x653E;&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;&#x3002;
2. &#x540C;&#x6B65;&#x963B;&#x585E;:&#x8FD0;&#x884C;(RUNNING)&#x72B6;&#x6001;&#x7684;&#x7EBF;&#x7A0B;&#x5728;&#x83B7;&#x53D6;&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;&#x65F6;&#xFF0C;&#x82E5;&#x8BE5;&#x7EBF;&#x7A0B;&#x7684;&#x540C;&#x6B65;&#x9501;&#x88AB;&#x522B;&#x7684;&#x7EBF;&#x7A0B;&#x5360;&#x7528;&#xFF0C;&#x5219; JVM &#x4F1A;&#x628A;&#x8BE5;&#x7EBF;&#x7A0B;&#x653E;&#x5165;&#x9501;&#x6C60;(LOCK POOL)&#x4E2D;&#x3002;
3. &#x5176;&#x4ED6;&#x963B;&#x585E;:&#x8FD0;&#x884C;(RUNNING)&#x72B6;&#x6001;&#x7684;&#x7EBF;&#x7A0B;&#x6267;&#x884C; sleep &#x6216; join &#x65B9;&#x6CD5;&#xFF0C;JVM &#x4F1A;&#x628A;&#x8BE5;&#x7EBF;&#x7A0B;&#x8BBE;&#x7F6E;&#x4E3A;&#x963B;&#x585E;(BLOCKED)&#x72B6;&#x6001;&#xFF0C;&#x5F53; sleep &#x8D85;&#x65F6;&#xFF0C;join &#x7B49;&#x5F85;&#x7EBF;&#x7A0B;&#x7EC8;&#x6B62;&#x6216;&#x8D85;&#x65F6;&#xFF0C;&#x8BE5;&#x7EBF;&#x7A0B;&#x91CD;&#x65B0;&#x8F6C;&#x5165;&#x53EF;&#x8FD0;&#x884C;(RUNNABLE)&#x72B6;&#x6001;&#x3002;</code></pre>
<h3 id="&#x6B7B;&#x4EA1;dead">&#x6B7B;&#x4EA1;(DEAD)</h3>
<p>&#x7EBF;&#x7A0B; run &#x65B9;&#x6CD5;&#x7ED3;&#x675F;&#xFF0C;main &#x65B9;&#x6CD5;&#x7ED3;&#x675F;&#xFF0C;&#x6216;&#x8005;&#x5F02;&#x5E38;&#x539F;&#x56E0;&#x9000;&#x51FA;&#x4E86; run &#x65B9;&#x6CD5;&#xFF0C;&#x5219;&#x8BE5;&#x7EBF;&#x7A0B;&#x7ED3;&#x675F;&#x751F;&#x547D;&#x5468;&#x671F;&#xFF0C;&#x6B7B;&#x4EA1;&#x7684;&#x7EBF;&#x7A0B;&#x4E0D;&#x53EF;&#x518D;&#x6B21;&#x590D;&#x751F;&#x3002;&#x5728;&#x4E00;&#x4E2A;&#x6B7B;&#x53BB;&#x7684;&#x7EBF;&#x7A0B;&#x4E0A;&#x8C03;&#x7528; start &#x65B9;&#x6CD5;&#xFF0C;&#x4F1A;&#x629B;&#x51FA; java.lang.IllegalThreadStateException &#x5F02;&#x5E38;&#x3002;</p>
<p>&#x7EBF;&#x7A0B;&#x72B6;&#x6001;&#x56FE; <img src="/images/&#x7EBF;&#x7A0B;&#x72B6;&#x6001;&#x53CA;&#x5207;&#x6362;_2020-04-25-13-31-15.png" alt="&#x7EBF;&#x7A0B;&#x72B6;&#x6001;&#x53CA;&#x5207;&#x6362;_2020-04-25-13-31-15.png"></p>
<h2 id="&#x7EBF;&#x7A0B;&#x9501;&#x7ADE;&#x4E89;&#x8FC7;&#x7A0B;">&#x7EBF;&#x7A0B;&#x9501;&#x7ADE;&#x4E89;&#x8FC7;&#x7A0B;</h2>
<h3 id="&#x6982;&#x8FF0;">&#x6982;&#x8FF0;</h3>
<p>&#x7EBF;&#x7A0B;&#x9501;&#x7ADE;&#x4E89;&#x8FC7;&#x7A0B;&#x5982;&#x56FE; <img src="/images/java&#x591A;&#x7EBF;&#x7A0B;_2020-04-25-13-37-56.png" alt="java&#x591A;&#x7EBF;&#x7A0B;_2020-04-25-13-37-56.png"></p>
<ol type="1">
<li>&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x60F3;&#x8C03;&#x7528; A &#x7684;&#x540C;&#x6B65;&#x65B9;&#x6CD5;&#x65F6;&#xFF0C;&#x53D1;&#x73B0;&#x5BF9;&#x8C61; A &#x88AB;&#x522B;&#x7684;&#x7EBF;&#x7A0B;&#x5360;&#x6709;&#xFF0C;&#x6B64;&#x65F6;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x4F1A;&#x8FDB;&#x5165;&#x9501;&#x6C60;&#x72B6;&#x6001;&#x3002;&#x9501;&#x6C60;&#x91CC;&#x9762;&#x5B58;&#x653E;&#x7684;&#x90FD;&#x662F;&#x60F3;&#x4E89;&#x593A;&#x5BF9;&#x8C61; A &#x7684;&#x7EBF;&#x7A0B;&#x3002;</li>
<li>&#x5F53;&#x7EBF;&#x7A0B; 1 &#x88AB;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x5524;&#x9192;&#x65F6;&#xFF0C;&#x4F1A;&#x8FDB;&#x5165;&#x9501;&#x6C60;&#x4E89;&#x593A;&#x5BF9;&#x8C61; A &#x7684;&#x9501;&#x3002;</li>
<li>&#x9501;&#x6C60;&#x662F;&#x5728;&#x540C;&#x6B65;&#x7684;&#x73AF;&#x5883;&#x4E0B;&#x624D;&#x6709;&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x9501;&#x6C60;&#x3002;</li>
</ol>
<h3 id="&#x591A;&#x7EBF;&#x7A0B;&#x7684;&#x51E0;&#x4E2A;&#x65B9;&#x6CD5;&#x7684;&#x6BD4;&#x8F83;">&#x591A;&#x7EBF;&#x7A0B;&#x7684;&#x51E0;&#x4E2A;&#x65B9;&#x6CD5;&#x7684;&#x6BD4;&#x8F83;</h3>
<ol type="1">
<li>Thread.sleep(long millis),&#x4E00;&#x5B9A;&#x662F;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x8C03;&#x7528;&#x6B21;&#x65B9;&#x6CD5;&#xFF0C;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x8FDB;&#x5165;&#x963B;&#x585E;&#x72B6;&#x6001;&#xFF0C;&#x4F46;&#x4E0D;&#x91CA;&#x653E;&#x5BF9;&#x8C61;&#x9501;&#xFF0C;millis &#x65F6;&#x95F4;&#x5230;&#x540E;&#xFF0C;&#x81EA;&#x52A8;&#x8FDB;&#x5165;&#x53EF;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x3002;&#x4F5C;&#x7528;&#xFF1A;&#x7ED9;&#x5176;&#x5B83;&#x7EBF;&#x7A0B;&#x6267;&#x884C;&#x673A;&#x4F1A;&#x7684;&#x6700;&#x4F73;&#x65B9;&#x5F0F;&#x3002;</li>
<li>Thread.yield(),&#x4E00;&#x5B9A;&#x662F;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x8C03;&#x7528;&#x6B21;&#x65B9;&#x6CD5;&#xFF0C;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x653E;&#x5F03; CPU &#x65F6;&#x95F4;&#x7247;&#xFF0C;&#x7531;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x53D8;&#x6210;&#x53EF;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x3002;yield &#x4E0D;&#x4F1A;&#x5BFC;&#x81F4;&#x963B;&#x585E;&#xFF0C;&#x4E5F;&#x65E0;&#x6CD5;&#x4FDD;&#x8BC1;&#x4E0B;&#x4E00;&#x6B21; CPU &#x4E0D;&#x53BB;&#x6311;&#x9009;&#x8BE5;&#x7EBF;&#x7A0B;&#x6267;&#x884C;&#x3002;</li>
<li>t.join(long millis),&#x5F53;&#x524D;&#x7EBF;&#x7A0B;==(&#x6B63;&#x5728; CPU &#x65F6;&#x95F4;&#x7247;&#x6267;&#x884C;&#x7684;&#x7EBF;&#x7A0B;==)&#x91CC;&#x8C03;&#x7528;&#x5176;&#x5B83;&#x7EBF;&#x7A0B;&#x7684; join &#x65B9;&#x6CD5;&#xFF0C;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x8FDB;&#x5165;&#x963B;&#x585E;&#x72B6;&#x6001;&#xFF0C;&#x4F46;&#x4E0D;&#x4F1A;&#x91CA;&#x653E;&#x5BF9;&#x8C61;&#x9501;&#xFF0C;&#x5F53;&#x5176;&#x5B83;&#x7EBF;&#x7A0B;&#x6267;&#x884C;&#x7ED3;&#x675F;&#xFF0C;&#x6216; millis &#x65F6;&#x95F4;&#x5230;&#xFF0C;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x8FDB;&#x5165;&#x53EF;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x3002;</li>
<li>obj.wait(),&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x8C03;&#x7528;&#x5BF9;&#x8C61;&#x7684; wait &#x65B9;&#x6CD5;&#xFF0C;&#x5F53;&#x524D;&#x5BF9;&#x8C61;&#x91CA;&#x653E;&#x5BF9;&#x8C61;&#x9501;&#xFF0C;&#x8FDB;&#x5165;&#x7B49;&#x5F85;&#x961F;&#x5217;(&#x963B;&#x585E;&#x72B6;&#x6001;)&#x3002;&#x7B49;&#x5F85;&#x5176;&#x5B83;&#x7EBF;&#x7A0B;&#x8C03;&#x7528; notify &#x6216; notifyAll&#xFF0C;&#x6216;&#x8005; wait(long timeout)timeout &#x65F6;&#x95F4;&#x5230;&#x81EA;&#x52A8;&#x91CA;&#x653E;&#x5524;&#x9192;&#xFF0C;&#x8FDB;&#x5165;&#x9501;&#x6C60;&#x4E89;&#x593A;&#x5BF9;&#x8C61;&#x9501;&#x3002;</li>
<li>obj.notify()&#x5524;&#x9192;&#x5728;&#x6B64;&#x5BF9;&#x8C61;&#x76D1;&#x89C6;&#x5668;&#x4E0A;&#x7B49;&#x5F85;&#x7684;&#x5355;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF0C;&#x9009;&#x62E9;&#x662F;&#x4EFB;&#x610F;&#x6027;&#x7684;&#x3002;notifyAll &#x4F1A;&#x5524;&#x9192;&#x5728;&#x6B64;&#x5BF9;&#x8C61;&#x76D1;&#x89C6;&#x5668;&#x4E0A;&#x7B49;&#x5F85;&#x7684;&#x6240;&#x6709;&#x7EBF;&#x7A0B;&#x3002;</li>
</ol>
<h3 id="&#x5173;&#x4E8E;&#x4E2D;&#x65AD;">&#x5173;&#x4E8E;&#x4E2D;&#x65AD;</h3>
<ol type="1">
<li>&#x5B83;&#x4E0D;&#x4F1A;&#x50CF; stop &#x65B9;&#x6CD5;&#x4E00;&#x6837;&#x4E2D;&#x65AD;&#x4E00;&#x4E2A;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;&#x7EBF;&#x7A0B;&#x3002;&#x7EBF;&#x7A0B;&#x4F1A;&#x4E0D;&#x65F6;&#x7684;&#x76D1;&#x6D4B;&#x4E2D;&#x65AD;&#x6807;&#x8BC6;&#xFF0C;&#x4EE5;&#x5224;&#x65AD;&#x7A0B;&#x5E8F;&#x662F;&#x5426;&#x5E94;&#x8BE5;&#x88AB;&#x4E2D;&#x65AD;(&#x4E2D;&#x65AD;&#x6807;&#x8BC6;&#x503C;&#x662F;&#x5426;&#x4E3A; true)&#x3002;&#x4E2D;&#x65AD;&#x53EA;&#x4F1A;&#x5F71;&#x54CD; wait sleep join &#x72B6;&#x6001;&#x7684;&#x7EBF;&#x7A0B;&#xFF0C;&#x88AB;&#x4E2D;&#x65AD;&#x540E;&#x4F1A;&#x629B;&#x51FA; java.lang.IllegalThreadStateException &#x5F02;&#x5E38;&#x3002;</li>
<li>synchronized &#x5728;&#x83B7;&#x53D6;&#x9501;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x662F;&#x4E0D;&#x80FD;&#x88AB;&#x4E2D;&#x65AD;&#x7684;&#x3002;</li>
<li>&#x4E2D;&#x65AD;&#x662F;&#x4E00;&#x79CD;&#x72B6;&#x6001;&#xFF0C;interrupt()&#x65B9;&#x6CD5;&#x53EA;&#x662F;&#x8BB2;&#x8BB2;&#x8FD9;&#x4E2A;&#x72B6;&#x6001;&#x8BBE;&#x7F6E;&#x4E3A; true&#xFF0C;&#x6240;&#x4EE5;&#x8BF4;&#x6B63;&#x5E38;&#x6267;&#x884C;&#x7684;&#x4EE3;&#x7801;&#x5982;&#x679C;&#x4E0D;&#x53BB;&#x68C0;&#x6D4B;&#x4E2D;&#x65AD;&#x6807;&#x8BC6;&#xFF0C;&#x662F;&#x4E0D;&#x4F1A;&#x88AB;&#x7EC8;&#x6B62;&#x8FD0;&#x884C;&#x7684;&#x3002;&#x800C; wait &#x7B49;&#x963B;&#x585E;&#x65B9;&#x6CD5;&#xFF0C;&#x4F1A;&#x53BB;&#x68C0;&#x6D4B;&#x5E76;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x3002;&#x5982;&#x679C;&#x6B63;&#x5E38;&#x8FD0;&#x884C;&#x7684;&#x4EE3;&#x7801;&#x6DFB;&#x52A0; while(!interrupted()),&#x5219;&#x540C;&#x6837;&#x53EF;&#x4EE5;&#x5728;&#x4E2D;&#x65AD;&#x540E;&#x79BB;&#x5F00;&#x4EE3;&#x7801;&#x4F53;&#x3002;</li>
</ol>
<h3 id="java-wait-notify&#x65B9;&#x6CD5;&#x4F7F;&#x7528;&#x5B9E;&#x4F8B;&#x8BB2;&#x89E3;">Java wait() notify()&#x65B9;&#x6CD5;&#x4F7F;&#x7528;&#x5B9E;&#x4F8B;&#x8BB2;&#x89E3;</h3>
<pre><code>1. wait()&#x3001;notify()&#x548C; notifyAll()&#x65B9;&#x6CD5;&#x662F;&#x672C;&#x5730;&#x65B9;&#x6CD5;&#xFF0C;&#x5E76;&#x4E14;&#x4E3A; final &#x65B9;&#x6CD5;&#xFF0C;&#x65E0;&#x6CD5;&#x88AB;&#x91CD;&#x5199;&#x3002;
2. &#x8C03;&#x7528;&#x67D0;&#x4E2A;&#x5BF9;&#x8C61;&#x7684; wait()&#x65B9;&#x6CD5;&#x80FD;&#x8BA9;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x963B;&#x585E;&#xFF0C;&#x5E76;&#x4E14;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x5FC5;&#x987B;&#x62E5;&#x6709;&#x6B64;&#x5BF9;&#x8C61;&#x7684; monitor&#xFF08;&#x5373;&#x9501;&#xFF0C;&#x6216;&#x8005;&#x53EB;&#x7BA1;&#x7A0B;&#xFF09;
3. &#x8C03;&#x7528;&#x67D0;&#x4E2A;&#x5BF9;&#x8C61;&#x7684; notify()&#x65B9;&#x6CD5;&#x80FD;&#x591F;&#x5524;&#x9192;&#x4E00;&#x4E2A;&#x6B63;&#x5728;&#x7B49;&#x5F85;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x7684; monitor &#x7684;&#x7EBF;&#x7A0B;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#x90FD;&#x5728;&#x7B49;&#x5F85;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x7684; monitor&#xFF0C;&#x5219;&#x53EA;&#x80FD;&#x5524;&#x9192;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF1B;
4. &#x8C03;&#x7528; notifyAll()&#x65B9;&#x6CD5;&#x80FD;&#x591F;&#x5524;&#x9192;&#x6240;&#x6709;&#x6B63;&#x5728;&#x7B49;&#x5F85;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x7684; monitor &#x7684;&#x7EBF;&#x7A0B;&#xFF1B;</code></pre>
<p>&#x200B; &#x5728; java &#x4E2D;&#xFF0C;&#x662F;&#x6CA1;&#x6709;&#x7C7B;&#x4F3C;&#x4E8E; PV &#x64CD;&#x4F5C;&#x3001;&#x8FDB;&#x7A0B;&#x4E92;&#x65A5;&#x7B49;&#x76F8;&#x5173;&#x7684;&#x65B9;&#x6CD5;&#x7684;&#x3002;JAVA &#x7684;&#x8FDB;&#x7A0B;&#x540C;&#x6B65;&#x662F;&#x901A;&#x8FC7; synchronized()&#x6765;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x9700;&#x8981;&#x8BF4;&#x660E;&#x7684;&#x662F;&#xFF0C;Java &#x7684; synchronized()&#x65B9;&#x6CD5;&#x7C7B;&#x4F3C;&#x4E8E;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x6982;&#x5FF5;&#x4E2D;&#x7684;&#x4E92;&#x65A5;&#x5185;&#x5B58;&#x5757;&#xFF0C;&#x5728; Java &#x4E2D;&#x7684; Object &#x7C7B;&#x5BF9;&#x8C61;&#x4E2D;&#xFF0C;&#x90FD;&#x662F;&#x5E26;&#x6709;&#x4E00;&#x4E2A;&#x5185;&#x5B58;&#x9501;&#x7684;&#xFF0C;&#x5728;&#x6709;&#x7EBF;&#x7A0B;&#x83B7;&#x53D6;&#x8BE5;&#x5185;&#x5B58;&#x9501;&#x540E;&#xFF0C;&#x5176;&#x5B83;&#x7EBF;&#x7A0B;&#x65E0;&#x6CD5;&#x8BBF;&#x95EE;&#x8BE5;&#x5185;&#x5B58;&#xFF0C;&#x4ECE;&#x800C;&#x5B9E;&#x73B0; Java &#x4E2D;&#x7B80;&#x5355;&#x7684;&#x540C;&#x6B65;&#x3001;&#x4E92;&#x65A5;&#x64CD;&#x4F5C;&#x3002;&#x660E;&#x767D;&#x8FD9;&#x4E2A;&#x539F;&#x7406;&#xFF0C;&#x5C31;&#x80FD;&#x7406;&#x89E3;&#x4E3A;&#x4EC0;&#x4E48; synchronized(this)&#x4E0E; synchronized(static XXX)&#x7684;&#x533A;&#x522B;&#x4E86;&#xFF0C;synchronized &#x5C31;&#x662F;&#x9488;&#x5BF9;&#x5185;&#x5B58;&#x533A;&#x5757;&#x7533;&#x8BF7;&#x5185;&#x5B58;&#x9501;&#xFF0C;this &#x5173;&#x952E;&#x5B57;&#x4EE3;&#x8868;&#x7C7B;&#x7684;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x6240;&#x4EE5;&#x5176;&#x5185;&#x5B58;&#x9501;&#x662F;&#x9488;&#x5BF9;&#x76F8;&#x540C;&#x5BF9;&#x8C61;&#x7684;&#x4E92;&#x65A5;&#x64CD;&#x4F5C;&#xFF0C;&#x800C; static &#x6210;&#x5458;&#x5C5E;&#x4E8E;&#x7C7B;&#x4E13;&#x6709;&#xFF0C;&#x5176;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x4E3A;&#x8BE5;&#x7C7B;&#x6240;&#x6709;&#x6210;&#x5458;&#x5171;&#x6709;&#xFF0C;&#x8FD9;&#x5C31;&#x5BFC;&#x81F4; synchronized()&#x5BF9; static &#x6210;&#x5458;&#x52A0;&#x9501;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x5BF9;&#x7C7B;&#x52A0;&#x9501;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5728;&#x8BE5;&#x7C7B;&#x7684;&#x6240;&#x6709;&#x6210;&#x5458;&#x95F4;&#x5B9E;&#x73B0;&#x4E92;&#x65A5;&#xFF0C;&#x5728;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x53EF;&#x8BBF;&#x95EE;&#x8BE5;&#x7C7B;&#x7684;&#x5B9E;&#x4F8B;&#x3002;&#x5982;&#x679C;&#x9700;&#x8981;&#x5728;&#x7EBF;&#x7A0B;&#x95F4;&#x76F8;&#x4E92;&#x5524;&#x9192;&#x5C31;&#x9700;&#x8981;&#x501F;&#x52A9; Object &#x7C7B;&#x7684; wait()&#x65B9;&#x6CD5;&#x53CA; nofity()&#x65B9;&#x6CD5;&#x3002;</p>
<p>&#x8BF4;&#x4E86;&#x8FD9;&#x4E48;&#x4E00;&#x5806;&#xFF0C;&#x53EF;&#x80FD;&#x4F3C;&#x61C2;&#x975E;&#x61C2;&#xFF0C;&#x90A3;&#x4E48;&#x63A5;&#x4E0B;&#x6765;&#x7528;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#x6765;&#x8BF4;&#x660E;&#x95EE;&#x9898;&#xFF0C;&#x7528;&#x591A;&#x7EBF;&#x7A0B;&#x5B9E;&#x73B0;&#x8FDE;&#x7EED;&#x7684; 1,2,1,2,1,2,1,2,1,2 &#x8F93;&#x51FA;&#x3002;</p>
<pre><code><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NumberPrint</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> number;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">byte</span> res[];</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> count = <span class="number">5</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">NumberPrint</span><span class="params">(<span class="keyword">int</span> number, <span class="keyword">byte</span> a[])</span></span>{</span><br><span class="line">        <span class="keyword">this</span>.number = number;</span><br><span class="line">        res = a;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>{</span><br><span class="line">        <span class="keyword">synchronized</span> (res){</span><br><span class="line">            <span class="keyword">while</span>(count-- &gt; <span class="number">0</span>){</span><br><span class="line">                <span class="keyword">try</span> {</span><br><span class="line">                    res.notify();<span class="comment">//&#x5524;&#x9192;&#x7B49;&#x5F85;res&#x8D44;&#x6E90;&#x7684;&#x7EBF;&#x7A0B;&#xFF0C;&#x628A;&#x9501;&#x4EA4;&#x7ED9;&#x7EBF;&#x7A0B;&#xFF08;&#x8BE5;&#x540C;&#x6B65;&#x9501;&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#x81EA;&#x52A8;&#x91CA;&#x653E;&#x9501;&#xFF09;</span></span><br><span class="line">                    System.out.println(<span class="string">&quot; &quot;</span>+number);</span><br><span class="line"></span><br><span class="line">                    res.wait();<span class="comment">//&#x91CA;&#x653E;CPU&#x63A7;&#x5236;&#x6743;&#xFF0C;&#x91CA;&#x653E;res&#x7684;&#x9501;&#xFF0C;&#x672C;&#x7EBF;&#x7A0B;&#x963B;&#x585E;&#xFF0C;&#x7B49;&#x5F85;&#x88AB;&#x5524;&#x9192;&#x3002;</span></span><br><span class="line">                    System.out.println(<span class="string">&quot;------&#x7EBF;&#x7A0B;&quot;</span>+Thread.currentThread().getName()+<span class="string">&quot;&#x83B7;&#x5F97;&#x9501;&#xFF0C;wait()&#x540E;&#x7684;&#x4EE3;&#x7801;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;&#xFF1A;&quot;</span>+number);</span><br><span class="line">                } <span class="keyword">catch</span> (InterruptedException e) {</span><br><span class="line">                    <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                }</span><br><span class="line">            }<span class="comment">//end of while</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }<span class="comment">//synchronized</span></span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WaitNotify</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span>{</span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">byte</span> a[] = {<span class="number">0</span>};<span class="comment">//&#x4EE5;&#x8BE5;&#x5BF9;&#x8C61;&#x4E3A;&#x5171;&#x4EAB;&#x8D44;&#x6E90;</span></span><br><span class="line">        <span class="keyword">new</span> Thread(<span class="keyword">new</span> NumberPrint((<span class="number">1</span>),a),<span class="string">&quot;1&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> Thread(<span class="keyword">new</span> NumberPrint((<span class="number">2</span>),a),<span class="string">&quot;2&quot;</span>).start();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></code></pre>
<p>&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#xFF1A;</p>
<blockquote>
<p>1 2 ------&#x7EBF;&#x7A0B; 1 &#x83B7;&#x5F97;&#x9501;&#xFF0C;wait()&#x540E;&#x7684;&#x4EE3;&#x7801;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;&#xFF1A;1 1 ------&#x7EBF;&#x7A0B; 2 &#x83B7;&#x5F97;&#x9501;&#xFF0C;wait()&#x540E;&#x7684;&#x4EE3;&#x7801;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;&#xFF1A;2 2 ------&#x7EBF;&#x7A0B; 1 &#x83B7;&#x5F97;&#x9501;&#xFF0C;wait()&#x540E;&#x7684;&#x4EE3;&#x7801;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;&#xFF1A;1 1 ------&#x7EBF;&#x7A0B; 2 &#x83B7;&#x5F97;&#x9501;&#xFF0C;wait()&#x540E;&#x7684;&#x4EE3;&#x7801;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;&#xFF1A;2</p>
</blockquote>
<p>&#x4E0B;&#x9762;&#x89E3;&#x91CA;&#x4E3A;&#x4EC0;&#x4E48;&#x4F1A;&#x51FA;&#x73B0;&#x8FD9;&#x6837;&#x7684;&#x7ED3;&#x679C;&#xFF1A;</p>
<p>&#x9996;&#x5148; 1&#x3001;2 &#x53F7;&#x7EBF;&#x7A0B;&#x542F;&#x52A8;&#xFF0C;&#x8FD9;&#x91CC;&#x5047;&#x8BBE; 1 &#x53F7;&#x7EBF;&#x7A0B;&#x5148;&#x8FD0;&#x884C; run &#x65B9;&#x6CD5;&#x83B7;&#x5F97;&#x8D44;&#x6E90;&#xFF08;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x4E0D;&#x786E;&#x5B9A;&#x7684;&#xFF09;&#xFF0C;&#x83B7;&#x5F97;&#x5BF9;&#x8C61; a &#x7684;&#x9501;&#xFF0C;&#x8FDB;&#x5165; while &#x5FAA;&#x73AF;&#xFF08;&#x7528;&#x4E8E;&#x63A7;&#x5236;&#x8F93;&#x51FA;&#x51E0;&#x8F6E;&#xFF09;&#xFF1A;</p>
<p>1&#x3001;&#x6B64;&#x65F6;&#x5BF9;&#x8C61;&#x8C03;&#x7528;&#x5B83;&#x7684;&#x5524;&#x9192;&#x65B9;&#x6CD5; notify()&#xFF0C;&#x610F;&#x601D;&#x662F;&#x8FD9;&#x4E2A;&#x540C;&#x6B65;&#x5757;&#x6267;&#x884C;&#x5B8C;&#x540E;&#x5B83;&#x8981;&#x91CA;&#x653E;&#x9501;&#xFF0C;&#x628A;&#x9501;&#x4EA4;&#x7ED9;&#x7B49;&#x5F85; a &#x8D44;&#x6E90;&#x7684;&#x7EBF;&#x7A0B;&#xFF1B;</p>
<p>2&#x3001;&#x8F93;&#x51FA; 1&#xFF1B;</p>
<p>3&#x3001;&#x8BE5;&#x5BF9;&#x8C61;&#x6267;&#x884C;&#x7B49;&#x5F85;&#x65B9;&#x6CD5;&#xFF0C;&#x610F;&#x601D;&#x662F;&#x6B64;&#x65F6;&#x6B64;&#x523B;&#x8D77;&#x62E5;&#x6709;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x9501;&#x7684;&#x7EBF;&#x7A0B;&#xFF08;&#x4E5F;&#x5C31;&#x662F;&#x8FD9;&#x91CC;&#x7684; 1 &#x53F7;&#x7EBF;&#x7A0B;&#xFF09;&#x91CA;&#x653E; CPU &#x63A7;&#x5236;&#x6743;&#xFF0C;&#x91CA;&#x653E;&#x9501;&#xFF0C;&#x5E76;&#x4E14;&#x7EBF;&#x7A0B;&#x8FDB;&#x5165;&#x963B;&#x585E;&#x72B6;&#x6001;&#xFF0C;&#x540E;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x6682;&#x65F6;&#x4E0D;&#x6267;&#x884C;&#xFF0C;&#x56E0;&#x672A;&#x6267;&#x884C;&#x5B8C;&#x540C;&#x6B65;&#x5757;&#xFF0C;&#x6240;&#x4EE5; 1 &#x4E5F;&#x6CA1;&#x8D77;&#x4F5C;&#x7528;&#xFF1B;</p>
<p>4&#x3001;&#x5728;&#x8FD9;&#x4E4B;&#x524D;&#x7684;&#x67D0;&#x65F6;&#x523B;&#x7EBF;&#x7A0B; 2 &#x8FD0;&#x884C; run &#x65B9;&#x6CD5;&#xFF0C;&#x4F46;&#x82E6;&#x4E8E;&#x6CA1;&#x6709;&#x83B7;&#x5F97; a &#x5BF9;&#x8C61;&#x7684;&#x9501;&#xFF0C;&#x6240;&#x4EE5;&#x65E0;&#x6CD5;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;&#xFF0C;&#x4F46; 3 &#x6B65;&#x9AA4;&#x4E4B;&#x540E;&#xFF0C;&#x5B83;&#x83B7;&#x5F97;&#x4E86; a &#x7684;&#x9501;&#xFF0C;&#x6B64;&#x65F6;&#x6267;&#x884C; a &#x7684;&#x5524;&#x9192;&#x65B9;&#x6CD5; notify(),&#x540C;&#x7406;&#xFF0C;&#x610F;&#x601D;&#x662F;&#x8FD9;&#x4E2A;&#x540C;&#x6B65;&#x5757;&#x6267;&#x884C;&#x5B8C;&#x540E;&#x5B83;&#x8981;&#x91CA;&#x653E;&#x9501;&#xFF0C;&#x628A;&#x9501;&#x4EA4;&#x7ED9;&#x7B49;&#x5F85; a &#x8D44;&#x6E90;&#x7684;&#x7EBF;&#x7A0B;&#xFF1B;</p>
<p>5&#x3001;&#x8F93;&#x51FA; 2&#xFF1B;</p>
<p>6&#x3001;&#x6267;&#x884C; a &#x7684;&#x7B49;&#x5F85;&#x65B9;&#x6CD5;&#xFF0C;&#x610F;&#x601D;&#x662F;&#x6B64;&#x65F6;&#x6B64;&#x523B;&#x8D77;&#x62E5;&#x6709;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x9501;&#x7684;&#x7EBF;&#x7A0B;&#xFF08;&#x4E5F;&#x5C31;&#x662F;&#x8FD9;&#x91CC;&#x7684; 2 &#x53F7;&#x7EBF;&#x7A0B;&#xFF09;&#x91CA;&#x653E; CPU &#x63A7;&#x5236;&#x6743;&#xFF0C;&#x91CA;&#x653E;&#x9501;&#xFF0C;&#x5E76;&#x4E14;&#x7EBF;&#x7A0B;&#x8FDB;&#x5165;&#x963B;&#x585E;&#x72B6;&#x6001;&#xFF0C;&#x540E;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x6682;&#x65F6;&#x4E0D;&#x6267;&#x884C;&#xFF0C;&#x56E0;&#x672A;&#x6267;&#x884C;&#x5B8C;&#x540C;&#x6B65;&#x5757;&#xFF0C;&#x6240;&#x4EE5; 2 &#x53F7;&#x7EBF;&#x7A0B;&#x7684; 4 &#x6B65;&#x9AA4;&#x7684;&#x5524;&#x9192;&#x65B9;&#x6CD5;&#x4E5F;&#x6CA1;&#x8D77;&#x4F5C;&#x7528;&#xFF1B;</p>
<p>7&#x3001;&#x6B64;&#x65F6; 1 &#x53F7;&#x7EBF;&#x7A0B;&#x6267;&#x884C;&#x5230; 3 &#x6B65;&#x9AA4;&#xFF0C;&#x53D1;&#x73B0;&#x5BF9;&#x8C61;&#x9501;&#x6CA1;&#x6709;&#x88AB;&#x4F7F;&#x7528;&#xFF0C;&#x6240;&#x4EE5;&#x7EE7;&#x7EED;&#x6267;&#x884C; 3 &#x6B65;&#x9AA4;&#x4E2D; wait &#x65B9;&#x6CD5;&#x540E;&#x9762;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x4E8E;&#x662F;&#x8F93;&#x51FA;&#xFF1A;------&#x7EBF;&#x7A0B; 1 &#x83B7;&#x5F97;&#x9501;&#xFF0C;wait()&#x540E;&#x7684;&#x4EE3;&#x7801;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;&#xFF1A;1&#xFF1B;</p>
<p>8&#x3001;&#x6B64;&#x65F6; while &#x5FAA;&#x73AF;&#x6EE1;&#x8DB3;&#x6761;&#x4EF6;&#xFF0C;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#xFF0C;&#x6240;&#x4EE5;&#xFF0C;&#x518D;&#x6267;&#x884C; 1 &#x53F7;&#x7EBF;&#x7A0B;&#x7684;&#x5524;&#x9192;&#x65B9;&#x6CD5;&#xFF0C;&#x610F;&#x601D;&#x662F;&#x8FD9;&#x4E2A;&#x540C;&#x6B65;&#x5757;&#x6267;&#x884C;&#x5B8C;&#x540E;&#x5B83;&#x8981;&#x91CA;&#x653E;&#x9501;&#xFF1B;</p>
<p>9&#x3001;&#x8F93;&#x51FA; 1&#xFF1B;</p>
<p>10&#x3001;&#x6267;&#x884C;&#x7B49;&#x5F85;&#x65B9;&#x6CD5;&#xFF0C;&#x7EBF;&#x7A0B; 1 &#x963B;&#x585E;&#xFF0C;&#x91CA;&#x653E;&#x8D44;&#x6E90;&#x9501;&#xFF1B;</p>
<p>11&#x3001;&#x6B64;&#x65F6;&#x7EBF;&#x7A0B; 2 &#x53C8;&#x83B7;&#x5F97;&#x4E86;&#x9501;&#xFF0C;&#x6267;&#x884C;&#x5230;&#x6B65;&#x9AA4; 6&#xFF0C;&#x7EE7;&#x7EED;&#x6267;&#x884C; wait &#x65B9;&#x6CD5;&#x540E;&#x9762;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x6240;&#x4EE5;&#x8F93;&#x51FA;&#xFF1A;------&#x7EBF;&#x7A0B; 2 &#x83B7;&#x5F97;&#x9501;&#xFF0C;wait()&#x540E;&#x7684;&#x4EE3;&#x7801;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;&#xFF1A;2&#xFF1B;</p>
<p>12&#x3001;&#x7EE7;&#x7EED;&#x6267;&#x884C; while &#x5FAA;&#x73AF;&#xFF0C;&#x8F93;&#x51FA; 2&#xFF1B;</p>
<p>&#xB7;&#xB7;&#xB7; &#xB7;&#xB7;&#xB7;</p>
<p>&#x901A;&#x8FC7;&#x4E0A;&#x8FF0;&#x6B65;&#x9AA4;&#xFF0C;&#x76F8;&#x4FE1;&#x5927;&#x5BB6;&#x5DF2;&#x7ECF;&#x660E;&#x767D;&#x8FD9;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#x7684;&#x4F7F;&#x7528;&#x4E86;&#xFF0C;&#x4F46;&#x8BE5;&#x7A0B;&#x5E8F;&#x8FD8;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x5F53; while &#x5FAA;&#x73AF;&#x4E0D;&#x6EE1;&#x8DB3;&#x6761;&#x4EF6;&#x65F6;&#xFF0C;&#x80AF;&#x5B9A;&#x4F1A;&#x6709;&#x7EBF;&#x7A0B;&#x8FD8;&#x5728;&#x7B49;&#x5F85;&#x8D44;&#x6E90;&#xFF0C;&#x6240;&#x4EE5;&#x4E3B;&#x7EBF;&#x7A0B;&#x4E00;&#x76F4;&#x4E0D;&#x4F1A;&#x7EC8;&#x6B62;&#x3002;&#x5F53;&#x7136;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;&#x7684;&#x76EE;&#x7684;&#x4EC5;&#x4EC5;&#x4E3A;&#x4E86;&#x7ED9;&#x5927;&#x5BB6;&#x6F14;&#x793A;&#x8FD9;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#x600E;&#x4E48;&#x7528;&#x3002;</p>
<p>&#x603B;&#x7ED3;&#xFF1A;</p>
<p>&#x200B; wait()&#x65B9;&#x6CD5;&#x4E0E; notify()&#x5FC5;&#x987B;&#x8981;&#x4E0E; synchronized(resource)&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x3002;&#x4E5F;&#x5C31;&#x662F; wait &#x4E0E; notify &#x9488;&#x5BF9;&#x5DF2;&#x7ECF;&#x83B7;&#x53D6;&#x4E86; resource &#x9501;&#x7684;&#x7EBF;&#x7A0B;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x4ECE;&#x8BED;&#x6CD5;&#x89D2;&#x5EA6;&#x6765;&#x8BF4;&#x5C31;&#x662F; Obj.wait(),Obj.notify &#x5FC5;&#x987B;&#x5728; synchronized(Obj){...}&#x8BED;&#x53E5;&#x5757;&#x5185;&#x3002;&#x4ECE;&#x529F;&#x80FD;&#x4E0A;&#x6765;&#x8BF4; wait()&#x7EBF;&#x7A0B;&#x5728;&#x83B7;&#x53D6;&#x5BF9;&#x8C61;&#x9501;&#x540E;&#xFF0C;&#x4E3B;&#x52A8;&#x91CA;&#x653E; CPU &#x63A7;&#x5236;&#x6743;&#xFF0C;&#x4E3B;&#x52A8;&#x91CA;&#x653E;&#x5BF9;&#x8C61;&#x9501;&#xFF0C;&#x540C;&#x65F6;&#x672C;&#x7EBF;&#x7A0B;&#x4F11;&#x7720;&#x3002;&#x76F4;&#x5230;&#x6709;&#x5176;&#x5B83;&#x7EBF;&#x7A0B;&#x8C03;&#x7528;&#x5BF9;&#x8C61;&#x7684; notify()&#x5524;&#x9192;&#x8BE5;&#x7EBF;&#x7A0B;&#xFF0C;&#x624D;&#x80FD;&#x7EE7;&#x7EED;&#x83B7;&#x53D6;&#x5BF9;&#x8C61;&#x9501;&#xFF0C;&#x5E76;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x3002;&#x76F8;&#x5E94;&#x7684; notify()&#x5C31;&#x662F;&#x5BF9;&#x5BF9;&#x8C61;&#x9501;&#x7684;&#x91CA;&#x653E;&#x64CD;&#x4F5C;&#x3002;&#x3010;&#x56E0;&#x6B64;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#xFF0C;wait &#x548C; notify &#x65B9;&#x6CD5;&#x5747;&#x53EF;&#x91CA;&#x653E;&#x5BF9;&#x8C61;&#x7684;&#x9501;&#xFF0C;&#x4F46; wait &#x540C;&#x65F6;&#x91CA;&#x653E; CPU &#x63A7;&#x5236;&#x6743;&#xFF0C;&#x5373;&#x5B83;&#x540E;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x505C;&#x6B62;&#x6267;&#x884C;&#xFF0C;&#x7EBF;&#x7A0B;&#x8FDB;&#x5165;&#x963B;&#x585E;&#x72B6;&#x6001;&#xFF0C;&#x800C; notify &#x65B9;&#x6CD5;&#x4E0D;&#x7ACB;&#x523B;&#x91CA;&#x653E; CPU &#x63A7;&#x5236;&#x6743;&#xFF0C;&#x800C;&#x662F;&#x5728;&#x76F8;&#x5E94;&#x7684; synchronized(){}&#x8BED;&#x53E5;&#x5757;&#x6267;&#x884C;&#x7ED3;&#x675F;&#xFF0C;&#x518D;&#x81EA;&#x52A8;&#x91CA;&#x653E;&#x9501;&#x3002;&#x3011;&#x91CA;&#x653E;&#x9501;&#x540E;&#xFF0C;JVM &#x4F1A;&#x5728;&#x7B49;&#x5F85; resoure &#x7684;&#x7EBF;&#x7A0B;&#x4E2D;&#x9009;&#x53D6;&#x4E00;&#x7EBF;&#x7A0B;&#xFF0C;&#x8D4B;&#x4E88;&#x5176;&#x5BF9;&#x8C61;&#x9501;&#xFF0C;&#x5524;&#x9192;&#x7EBF;&#x7A0B;&#xFF0C;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x3002;&#x8FD9;&#x6837;&#x5C31;&#x63D0;&#x4F9B;&#x4E86;&#x5728;&#x7EBF;&#x7A0B;&#x95F4;&#x540C;&#x6B65;&#x3001;&#x5524;&#x9192;&#x7684;&#x64CD;&#x4F5C;&#x3002;Thread.sleep()&#x4E0E; Object.wait()&#x4E8C;&#x8005;&#x90FD;&#x53EF;&#x4EE5;&#x6682;&#x505C;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#xFF0C;&#x91CA;&#x653E; CPU &#x63A7;&#x5236;&#x6743;&#xFF0C;&#x4E3B;&#x8981;&#x7684;&#x533A;&#x522B;&#x5728;&#x4E8E; Object.wait()&#x5728;&#x91CA;&#x653E; CPU &#x540C;&#x65F6;&#xFF0C;&#x91CA;&#x653E;&#x4E86;&#x5BF9;&#x8C61;&#x9501;&#x7684;&#x63A7;&#x5236;&#xFF0C;&#x800C;&#x5728;&#x540C;&#x6B65;&#x5757;&#x4E2D;&#x7684; Thread.sleep()&#x65B9;&#x6CD5;&#x5E76;&#x4E0D;&#x91CA;&#x653E;&#x9501;&#xFF0C;&#x4EC5;&#x91CA;&#x653E; CPU &#x63A7;&#x5236;&#x6743;&#x3002;</p>
<h2 id="volatile">volatile</h2>
<p>&#x591A;&#x7EBF;&#x7A0B;&#x7684;&#x5185;&#x5B58;&#x6A21;&#x578B;&#xFF0C;main memory(&#x4E3B;&#x5B58;)&#xFF0C;working memory(&#x7EBF;&#x7A0B;&#x6808;)&#xFF0C;&#x5728;&#x5904;&#x7406;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x7EBF;&#x7A0B;&#x4F1A;&#x628A;&#x503C;&#x4ECE;&#x4E3B;&#x5B58; load &#x5230;&#x672C;&#x5730;&#x6808;&#xFF0C;&#x5B8C;&#x6210;&#x64CD;&#x4F5C;&#x540E;&#xFF0C;&#x518D; save &#x56DE;&#x53BB;&#x3002;(volatile &#x5173;&#x952E;&#x5B57;&#x7684;&#x4F5C;&#x7528;&#x5C31;&#x662F;&#x5728;&#x4E00;&#x4E2A; CPU &#x65F6;&#x95F4;&#x7247;&#x5185;&#xFF0C;&#x9488;&#x5BF9;&#x53D8;&#x91CF;&#x7684;&#x64CD;&#x4F5C;&#x90FD;&#x89E6;&#x53D1;&#x4E00;&#x6B21;&#x5B8C;&#x6574;&#x7684; load &#x548C; save)&#x3002;&#x9488;&#x5BF9;&#x591A;&#x7EBF;&#x7A0B;&#x4F7F;&#x7528;&#x7684;&#x53D8;&#x91CF;&#x5982;&#x679C;&#x4E0D;&#x662F; volatile &#x6216; final &#x4FEE;&#x9970;&#x7684;&#xFF0C;&#x53EF;&#x80FD;&#x53D1;&#x751F;&#x4E0D;&#x53EF;&#x9884;&#x6599;&#x7684;&#x540E;&#x679C;(&#x67D0;&#x4E2A;&#x7EBF;&#x7A0B;&#x4FEE;&#x6539;&#x4E86;&#x53D8;&#x91CF;&#xFF0C;&#x4F46;&#x4E4B;&#x540E;&#x7684;&#x7EBF;&#x7A0B; load &#x5230;&#x7684;&#x662F;&#x53D8;&#x91CF;&#x4FEE;&#x6539;&#x524D;&#x7684;&#x6570;&#x636E;)&#x3002;&#x5176;&#x5B9E;&#x672C;&#x8D28;&#x4E0A;&#x6765;&#x8BF4;&#xFF0C;&#x540C;&#x4E00;&#x5B9E;&#x4F8B;&#x7684;&#x540C;&#x4E00;&#x5C5E;&#x6027;&#x53EA;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x526F;&#x672C;&#xFF0C;&#x4F46;&#x591A;&#x7EBF;&#x7A0B;&#x4F1A;&#x7F13;&#x5B58;&#x503C;&#xFF0C;volatile &#x7684;&#x4F5C;&#x7528;&#x5C31;&#x662F;&#x4E0D;&#x53BB;&#x7F13;&#x5B58;&#x503C;&#x3002;&#x5728;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x7528; volatile &#x4F1A;&#x727A;&#x7272;&#x6027;&#x80FD;&#x3002; <img src="/images/java&#x591A;&#x7EBF;&#x7A0B;_2020-04-25-13-50-12.png" alt="java&#x591A;&#x7EBF;&#x7A0B;_2020-04-25-13-50-12.png"></p>
<p>volatile &#x5E95;&#x5C42;&#x5B9E;&#x73B0;&#x6700;&#x7EC8;&#x662F;&#x52A0;&#x4E86;&#x5185;&#x5B58;&#x5C4F;&#x969C; <img src="/images/java&#x591A;&#x7EBF;&#x7A0B;_2020-04-25-13-55-07.png" alt="java&#x591A;&#x7EBF;&#x7A0B;_2020-04-25-13-55-07.png"></p>
<pre><code>1. &#x4FDD;&#x8BC1;&#x5199; volatile &#x53D8;&#x91CF;&#x5F3A;&#x5236;&#x628A; CPU &#x5199;&#x7F13;&#x5B58;&#x533A;&#x7684;&#x6570;&#x636E;&#x5237;&#x65B0;&#x5230;&#x5185;&#x5B58;
2. &#x8BFB; volatile &#x53D8;&#x91CF;&#x65F6;&#xFF0C;&#x4F7F;&#x7F13;&#x5B58;&#x5931;&#x6548;&#xFF0C;&#x5F3A;&#x5236;&#x4ECE;&#x5185;&#x5B58;&#x4E2D;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x3002;
3. &#x7531;&#x4E8E;&#x5185;&#x5B58;&#x5C4F;&#x969C;&#x7684;&#x4F5C;&#x7528;&#xFF0C;volatile &#x53D8;&#x91CF;&#x8FD8;&#x80FD;&#x963B;&#x6B62;&#x91CD;&#x6392;&#x5E8F;&#x3002;</code></pre>
<h2 id="&#x6307;&#x4EE4;&#x91CD;&#x6392;">&#x6307;&#x4EE4;&#x91CD;&#x6392;</h2>
<p>&#x73B0;&#x4EE3;&#x5904;&#x7406;&#x5668;&#x90FD;&#x4F1A;&#x91C7;&#x7528;&#x6307;&#x4EE4;&#x4E71;&#x5E8F;&#x6267;&#x884C;(Out of Order Execution &#xFF0C;&#x7B80;&#x79F0; OOE)&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x76F4;&#x63A5;&#x8FD0;&#x884C;&#x5F53;&#x524D;&#x6709;&#x80FD;&#x529B;&#x7ACB;&#x5373;&#x6267;&#x884C;&#x7684;&#x540E;&#x7EED;&#x6307;&#x4EE4;&#xFF0C;&#x907F;&#x5F00;&#x83B7;&#x53D6;&#x4E0B;&#x4E00;&#x6761;&#x6307;&#x4EE4;&#x6240;&#x9700;&#x6570;&#x636E;&#x7684;&#x7B49;&#x5F85;&#xFF0C;&#x901A;&#x8FC7;&#x4E71;&#x5E8F;&#x6267;&#x884C;&#x7684;&#x6280;&#x672F;&#xFF0C;&#x5904;&#x7406;&#x5668;&#x53EF;&#x4EE5;&#x5927;&#x5927;&#x63D0;&#x9AD8;&#x6267;&#x884C;&#x6548;&#x7387;</p>
<h3 id="as-if-serial">AS-IF-SERIAL</h3>
<p>&#x6240;&#x6709;&#x7684;&#x52A8;&#x4F5C;(aciton)&#x90FD;&#x53EF;&#x4EE5;&#x4E3A;&#x4E86;&#x4F18;&#x5316;&#x800C;&#x88AB;&#x91CD;&#x65B0;&#x6392;&#x5E8F;&#xFF0C;&#x4F46;&#x662F;&#x5FC5;&#x987B;&#x4FDD;&#x8BC1;&#x5B83;&#x4EEC;&#x91CD;&#x65B0;&#x6392;&#x5E8F;&#x540E;&#x7684;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x548C;&#x7A0B;&#x5E8F;&#x4EE3;&#x7801;&#x672C;&#x8EAB;&#x5E94;&#x6709;&#x7684;&#x7ED3;&#x679C;&#x4E00;&#x81F4;&#x3002;Java &#x7F16;&#x8BD1;&#x5668;&#xFF0C;&#x8FD0;&#x884C;&#x65F6;&#x548C;&#x5904;&#x7406;&#x5668;&#x90FD;&#x4F1A;&#x4FDD;&#x8BC1;&#x5355;&#x7EBF;&#x7A0B;&#x8FD0;&#x884C;&#x4E0B;&#x7684; as-if-serial &#x8BED;&#x4E49;&#x3002;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x8FD9;&#x4E00;&#x8BED;&#x4E49;&#xFF0C;&#x91CD;&#x6392;&#x5E8F;&#x4E0D;&#x4F1A;&#x53D1;&#x751F;&#x5728;&#x6709;&#x6570;&#x636E;&#x4F9D;&#x8D56;&#x7684;&#x64CD;&#x4F5C;&#x4E2D;&#x3002;</p>
<pre><code><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> b = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> c = a + b;</span><br></pre></td></tr></table></figure></code></pre>
<p>&#x5C06;&#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x7F16;&#x8BD1;&#x6210; java &#x5B57;&#x8282;&#x7801;&#x6216;&#x751F;&#x6210;&#x673A;&#x5668;&#x6307;&#x4EE4;&#xFF0C;&#x53EF;&#x89C6;&#x4E3A;&#x4EE5;&#x4E0B;&#x51E0;&#x6B65;&#x52A8;&#x4F5C;(&#x5B9E;&#x9645;&#x53EF;&#x80FD;&#x4F1A;&#x5FFD;&#x7565;&#x6216;&#x6DFB;&#x52A0;&#x67D0;&#x4E9B;&#x6B65;&#x9AA4;)</p>
<blockquote>
<p>&#x5BF9; a &#x8D4B;&#x503C; 1 &#x5BF9; b &#x8D4B;&#x503C; 1 &#x53D6; a &#x503C; &#x53D6; b &#x503C; &#x53D6;&#x5230;&#x7684;&#x4E24;&#x503C;&#x76F8;&#x52A0;&#x540E;&#x8D4B;&#x503C;&#x7ED9; c</p>
</blockquote>
<p>&#x5728;&#x4E0A;&#x9762; 5 &#x4E2A;&#x64CD;&#x4F5C;&#xFF0C;&#x64CD;&#x4F5C; 1 &#x53EF;&#x80FD;&#x548C;&#x64CD;&#x4F5C; 2&#x3001;&#x64CD;&#x4F5C; 4 &#x91CD;&#x6392;&#x5E8F;&#xFF0C;&#x64CD;&#x4F5C; 2 &#x53EF;&#x80FD;&#x548C;&#x64CD;&#x4F5C; 1&#x3001;&#x64CD;&#x4F5C; 3 &#x91CD;&#x6392;&#x5E8F;&#xFF0C;&#x64CD;&#x4F5C; 3 &#x53EF;&#x80FD;&#x548C;&#x64CD;&#x4F5C; 2&#x3001;&#x64CD;&#x4F5C; 4 &#x91CD;&#x6392;&#x5E8F;&#xFF0C;&#x64CD;&#x4F5C; 4 &#x53EF;&#x80FD;&#x548C;&#x64CD;&#x4F5C; 1&#x3001;&#x64CD;&#x4F5C; 3 &#x91CD;&#x6392;&#x5E8F;&#x3002;&#x4F46;&#x64CD;&#x4F5C; 1 &#x4E0D;&#x80FD;&#x548C;&#x64CD;&#x4F5C; 3&#x3001;&#x64CD;&#x4F5C; 5 &#x91CD;&#x6392;&#x5E8F;&#xFF0C;&#x64CD;&#x4F5C; 2 &#x4E0D;&#x80FD;&#x548C;&#x64CD;&#x4F5C; 4&#x3001;&#x64CD;&#x4F5C; 5 &#x91CD;&#x6392;&#x5E8F;&#x3002;&#x56E0;&#x4E3A;&#x5B83;&#x4EEC;&#x5B58;&#x5728;&#x6570;&#x636E;&#x4F9D;&#x8D56;&#x6027;&#xFF0C;&#x4E00;&#x65E6;&#x91CD;&#x6392;&#x5E8F;&#xFF0C; as-if-serial &#x8BED;&#x4E49;&#x65E0;&#x6CD5;&#x5F97;&#x5230;&#x4FDD;&#x8BC1;&#x3002;</p>
<h3 id="&#x5185;&#x5B58;&#x5C4F;&#x969C;">&#x5185;&#x5B58;&#x5C4F;&#x969C;</h3>
<p>&#x7531;&#x4E8E;&#x73B0;&#x4EE3;&#x7684;&#x5904;&#x7406;&#x5668;&#x7CFB;&#x7EDF;&#x90FD;&#x662F;&#x591A;&#x5904;&#x7406;&#x5668;&#xFF0C;&#x800C;&#x6BCF;&#x4E00;&#x4E2A;&#x5904;&#x7406;&#x5668;&#x90FD;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x7F13;&#x5B58;&#xFF0C;&#x5E76;&#x4E14;&#x8FD9;&#x4E9B;&#x7F13;&#x5B58;&#x5E76;&#x4E0D;&#x662F;&#x5B9E;&#x65F6;&#x548C;&#x5185;&#x5B58;&#x53D1;&#x751F;&#x4FE1;&#x606F;&#x4EA4;&#x6362;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x4E00;&#x4E2A; CPU &#x7684;&#x7F13;&#x5B58;&#x6570;&#x636E;&#x548C;&#x53E6;&#x4E00;&#x4E2A; CPU &#x7F13;&#x5B58;&#x6570;&#x636E;&#x4E0D;&#x4E00;&#x81F4;&#x7684;&#x95EE;&#x9898;&#x3002;&#x800C;&#x8FD9;&#x6837;&#x5728;&#x591A;&#x7EBF;&#x7A0B;&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x5C31;&#x6709;&#x53EF;&#x80FD;&#x9020;&#x6210;&#x4E00;&#x4E9B;&#x5F02;&#x5E38;&#x95EE;&#x9898;&#x3002;</p>
<p>&#x800C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5E95;&#x5C42;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x8FD9;&#x6837;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E9B;&#x5185;&#x5B58;&#x5C4F;&#x969C;&#x89E3;&#x51B3;&#x8FD9;&#x4E9B;&#x95EE;&#x9898;&#xFF0C;&#x76EE;&#x524D;&#x6709;&#x56DB;&#x79CD;&#x5185;&#x5B58;&#x5C4F;&#x969C;</p>
<ol type="1">
<li>LoadLoad &#x5185;&#x5B58;&#x5C4F;&#x969C;:&#x5BF9;&#x4E8E;&#x8FD9;&#x6837;&#x7684;&#x8BED;&#x53E5; Load1 LoadLoad Load2 &#xFF0C;&#x5728; Load2 &#x53CA;&#x540E;&#x7EED;&#x64CD;&#x4F5C;&#x8981;&#x8BFB;&#x53D6;&#x7684;&#x6570;&#x636E;&#x88AB;&#x8BBF;&#x95EE;&#x524D;&#xFF0C;&#x4FDD;&#x8BC1; Load1 &#x8981;&#x8BFB;&#x53D6;&#x7684;&#x6570;&#x636E;&#x52A0;&#x8F7D;&#x5B8C;&#x6210;&#x3002;</li>
<li>StoreStore &#x5185;&#x5B58;&#x5C4F;&#x969C;:&#x5BF9;&#x4E8E;&#x8FD9;&#x6837;&#x7684;&#x8BED;&#x53E5; Store1 StoreStore Store2&#xFF0C;&#x5728; Store2 &#x53CA;&#x540E;&#x7EED;&#x5199;&#x5165;&#x64CD;&#x4F5C;&#x6267;&#x884C;&#x524D;&#xFF0C;&#x4FDD;&#x8BC1; Store1 &#x7684;&#x5199;&#x5165;&#x64CD;&#x4F5C;&#x5BF9;&#x5176;&#x5B83;&#x5904;&#x7406;&#x5668;&#x53EF;&#x89C1;&#x3002;</li>
<li>LoadStore &#x5185;&#x5B58;&#x5C4F;&#x969C;:&#x5BF9;&#x4E8E;&#x8FD9;&#x6837;&#x7684;&#x8BED;&#x53E5; Load1 LoadStore Store2&#xFF0C;&#x5728; Store2 &#x53CA;&#x540E;&#x7EED;&#x5199;&#x5165;&#x64CD;&#x4F5C;&#x6267;&#x884C;&#x524D;&#xFF0C;&#x4FDD;&#x8BC1; Load1 &#x8981;&#x8BFB;&#x53D6;&#x7684;&#x6570;&#x636E;&#x52A0;&#x8F7D;&#x5B8C;&#x6210;&#x3002;</li>
<li>StoreLoad &#x5185;&#x5B58;&#x5C4F;&#x969C;:&#x5BF9;&#x4E8E;&#x8FD9;&#x6837;&#x7684;&#x8BED;&#x53E5; Store1 StoreLoad Load2&#xFF0C;&#x5728; Load2 &#x53CA;&#x540E;&#x7EED;&#x64CD;&#x4F5C;&#x8981;&#x8BFB;&#x53D6;&#x7684;&#x6570;&#x636E;&#x88AB;&#x8BBF;&#x95EE;&#x524D;&#xFF0C;&#x4FDD;&#x8BC1; Store1 &#x7684;&#x5199;&#x5165;&#x64CD;&#x4F5C;&#x5BF9;&#x5176;&#x5B83;&#x5904;&#x7406;&#x5668;&#x53EF;&#x89C1;&#x3002;</li>
</ol>
<h3 id="&#x4F7F;&#x7528;">&#x4F7F;&#x7528;</h3>
<ol type="1">
<li>&#x901A;&#x8FC7; synchronized &#x5173;&#x952E;&#x8BCD;&#x5305;&#x542B;&#x7684;&#x4EE3;&#x7801;&#x533A;&#x57DF;&#xFF0C;&#x5F53;&#x7EBF;&#x7A0B;&#x8FDB;&#x5165;&#x8BE5;&#x533A;&#x57DF;&#x8BFB;&#x53D6;&#x53D8;&#x91CF;&#x4FE1;&#x606F;&#x65F6;&#xFF0C;&#x4FDD;&#x8BC1;&#x8BFB;&#x53D6;&#x5230;&#x7684;&#x662F;&#x6700;&#x65B0;&#x7684;&#x503C;&#x3002;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x5728;&#x540C;&#x6B65;&#x533A;&#x5185;&#x7684;&#x5199;&#x5165;&#x64CD;&#x4F5C;&#xFF0C;&#x5728;&#x79BB;&#x5F00;&#x540C;&#x6B65;&#x533A;&#x65F6;&#x5C31;&#x5C06;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x7684;&#x6570;&#x636E;&#x5237;&#x65B0;&#x5230;&#x5185;&#x5B58;&#x4E2D;&#xFF0C;&#x800C;&#x5BF9;&#x6570;&#x636E;&#x7684;&#x8BFB;&#x53D6;&#x4E5F;&#x4E0D;&#x80FD;&#x4ECE;&#x7F13;&#x5B58;&#x4E2D;&#x8BFB;&#x53D6;&#xFF0C;&#x53EA;&#x80FD;&#x4ECE;&#x5185;&#x5B58;&#x4E2D;&#x8BFB;&#x53D6;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x4FDD;&#x8BC1;&#x4E86;&#x6570;&#x636E;&#x8BFB;&#x53D6;&#x7684;&#x6709;&#x6548;&#x6027;&#xFF0C;&#x8FD9;&#x5C31;&#x63D2;&#x5165;&#x4E86; StoreStore &#x5185;&#x5B58;&#x5C4F;&#x969C;&#x3002;</li>
<li>&#x4F7F;&#x7528;&#x4E86; volatile &#x5173;&#x952E;&#x5B57;&#x4FEE;&#x9970;&#x7684;&#x53D8;&#x91CF;&#xFF0C;&#x5728;&#x8FDB;&#x884C;&#x5199;&#x5165;&#x64CD;&#x4F5C;&#x65F6;&#xFF0C;&#x4F1A;&#x63D2;&#x5165; StoreLoad &#x5185;&#x5B58;&#x5C4F;&#x969C;&#x3002;</li>
<li>Unsafe.putOrderedObject &#x7C7B;&#x4F3C;&#x8FD9;&#x6837;&#x7684;&#x65B9;&#x6CD5;,&#x4F1A;&#x63D2;&#x5165; StoreStore &#x5185;&#x5B58;&#x5C4F;&#x969C;</li>
<li>Unsafe.putVolatiObject &#x5219;&#x662F;&#x63D2;&#x5165;&#x4E86; StoreLoad &#x5C4F;&#x969C;</li>
</ol>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://leaderli.github.io/2020/04/23/尾调用优化/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lijun">
      <meta itemprop="description" content="与其感慨路难行，不如马上就出发">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="大狗哥传奇">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2020/04/23/尾调用优化/" class="post-title-link" itemprop="url">尾调用优化</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-04-23 17:19:51" itemprop="dateCreated datePublished" datetime="2020-04-23T17:19:51+08:00">2020-04-23</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-06-30 23:59:15" itemprop="dateModified" datetime="2020-06-30T23:59:15+08:00">2020-06-30</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/tips/" itemprop="url" rel="index"><span itemprop="name">tips</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="&#x5C3E;&#x8C03;&#x7528;&#x4F18;&#x5316;">&#x5C3E;&#x8C03;&#x7528;&#x4F18;&#x5316;</h2>
<p>&#x5C3E;&#x8C03;&#x7528;&#x4E4B;&#x6240;&#x4EE5;&#x4E0E;&#x5176;&#x4ED6;&#x8C03;&#x7528;&#x4E0D;&#x540C;&#xFF0C;&#x5C31;&#x5728;&#x4E8E;&#x5B83;&#x7684;&#x7279;&#x6B8A;&#x7684;&#x8C03;&#x7528;&#x4F4D;&#x7F6E;&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x77E5;&#x9053;&#xFF0C;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x4F1A;&#x5728;&#x5185;&#x5B58;&#x5F62;&#x6210;&#x4E00;&#x4E2A;&quot;&#x8C03;&#x7528;&#x8BB0;&#x5F55;&quot;&#xFF0C;&#x53C8;&#x79F0;&quot;&#x8C03;&#x7528;&#x5E27;&quot;&#xFF08;call frame&#xFF09;&#xFF0C;&#x4FDD;&#x5B58;&#x8C03;&#x7528;&#x4F4D;&#x7F6E;&#x548C;&#x5185;&#x90E8;&#x53D8;&#x91CF;&#x7B49;&#x4FE1;&#x606F;&#x3002;&#x5982;&#x679C;&#x5728;&#x51FD;&#x6570; A &#x7684;&#x5185;&#x90E8;&#x8C03;&#x7528;&#x51FD;&#x6570; B&#xFF0C;&#x90A3;&#x4E48;&#x5728; A &#x7684;&#x8C03;&#x7528;&#x8BB0;&#x5F55;&#x4E0A;&#x65B9;&#xFF0C;&#x8FD8;&#x4F1A;&#x5F62;&#x6210;&#x4E00;&#x4E2A; B &#x7684;&#x8C03;&#x7528;&#x8BB0;&#x5F55;&#x3002;&#x7B49;&#x5230; B &#x8FD0;&#x884C;&#x7ED3;&#x675F;&#xFF0C;&#x5C06;&#x7ED3;&#x679C;&#x8FD4;&#x56DE;&#x5230; A&#xFF0C;B &#x7684;&#x8C03;&#x7528;&#x8BB0;&#x5F55;&#x624D;&#x4F1A;&#x6D88;&#x5931;&#x3002;&#x5982;&#x679C;&#x51FD;&#x6570; B &#x5185;&#x90E8;&#x8FD8;&#x8C03;&#x7528;&#x51FD;&#x6570; C&#xFF0C;&#x90A3;&#x5C31;&#x8FD8;&#x6709;&#x4E00;&#x4E2A; C &#x7684;&#x8C03;&#x7528;&#x8BB0;&#x5F55;&#x6808;&#xFF0C;&#x4EE5;&#x6B64;&#x7C7B;&#x63A8;&#x3002;&#x6240;&#x6709;&#x7684;&#x8C03;&#x7528;&#x8BB0;&#x5F55;&#xFF0C;&#x5C31;&#x5F62;&#x6210;&#x4E00;&#x4E2A;<a href="http://zh.wikipedia.org/wiki/%E8%B0%83%E7%94%A8%E6%A0%88" target="_blank" rel="noopener">&quot;&#x8C03;&#x7528;&#x6808;&quot;</a>&#xFF08;call stack&#xFF09;&#x3002; <img src="/images/&#x5C3E;&#x8C03;&#x7528;&#x4F18;&#x5316;_2020-04-23-17-20-39.png" alt="&#x5C3E;&#x8C03;&#x7528;&#x4F18;&#x5316;_2020-04-23-17-20-39.png"> &#x5C3E;&#x8C03;&#x7528;&#x7531;&#x4E8E;&#x662F;&#x51FD;&#x6570;&#x7684;&#x6700;&#x540E;&#x4E00;&#x6B65;&#x64CD;&#x4F5C;&#xFF0C;&#x6240;&#x4EE5;&#x4E0D;&#x9700;&#x8981;&#x4FDD;&#x7559;&#x5916;&#x5C42;&#x51FD;&#x6570;&#x7684;&#x8C03;&#x7528;&#x8BB0;&#x5F55;&#xFF0C;&#x56E0;&#x4E3A;&#x8C03;&#x7528;&#x4F4D;&#x7F6E;&#x3001;&#x5185;&#x90E8;&#x53D8;&#x91CF;&#x7B49;&#x4FE1;&#x606F;&#x90FD;&#x4E0D;&#x4F1A;&#x518D;&#x7528;&#x5230;&#x4E86;&#xFF0C;&#x53EA;&#x8981;&#x76F4;&#x63A5;&#x7528;&#x5185;&#x5C42;&#x51FD;&#x6570;&#x7684;&#x8C03;&#x7528;&#x8BB0;&#x5F55;&#xFF0C;&#x53D6;&#x4EE3;&#x5916;&#x5C42;&#x51FD;&#x6570;&#x7684;&#x8C03;&#x7528;&#x8BB0;&#x5F55;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>{</span><br><span class="line">  <span class="keyword">let</span> m = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">let</span> n = <span class="number">2</span>;</span><br><span class="line">  <span class="keyword">return</span> g(m + n);</span><br><span class="line">}</span><br><span class="line">f();</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x7B49;&#x540C;&#x4E8E;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>{</span><br><span class="line">  <span class="keyword">return</span> g(<span class="number">3</span>);</span><br><span class="line">}</span><br><span class="line">f();</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x7B49;&#x540C;&#x4E8E;</span></span><br><span class="line">g(<span class="number">3</span>);</span><br></pre></td></tr></table></figure>
<p>&#x4E0A;&#x9762;&#x4EE3;&#x7801;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x51FD;&#x6570; g &#x4E0D;&#x662F;&#x5C3E;&#x8C03;&#x7528;&#xFF0C;&#x51FD;&#x6570; f &#x5C31;&#x9700;&#x8981;&#x4FDD;&#x5B58;&#x5185;&#x90E8;&#x53D8;&#x91CF; m &#x548C; n &#x7684;&#x503C;&#x3001;g &#x7684;&#x8C03;&#x7528;&#x4F4D;&#x7F6E;&#x7B49;&#x4FE1;&#x606F;&#x3002;&#x4F46;&#x7531;&#x4E8E;&#x8C03;&#x7528; g &#x4E4B;&#x540E;&#xFF0C;&#x51FD;&#x6570; f &#x5C31;&#x7ED3;&#x675F;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x6267;&#x884C;&#x5230;&#x6700;&#x540E;&#x4E00;&#x6B65;&#xFF0C;&#x5B8C;&#x5168;&#x53EF;&#x4EE5;&#x5220;&#x9664; f() &#x7684;&#x8C03;&#x7528;&#x8BB0;&#x5F55;&#xFF0C;&#x53EA;&#x4FDD;&#x7559; g(3) &#x7684;&#x8C03;&#x7528;&#x8BB0;&#x5F55;&#x3002;</p>
<p>&#x8FD9;&#x5C31;&#x53EB;&#x505A;&quot;&#x5C3E;&#x8C03;&#x7528;&#x4F18;&#x5316;&quot;&#xFF08;Tail call optimization&#xFF09;&#xFF0C;&#x5373;&#x53EA;&#x4FDD;&#x7559;&#x5185;&#x5C42;&#x51FD;&#x6570;&#x7684;&#x8C03;&#x7528;&#x8BB0;&#x5F55;&#x3002;&#x5982;&#x679C;&#x6240;&#x6709;&#x51FD;&#x6570;&#x90FD;&#x662F;&#x5C3E;&#x8C03;&#x7528;&#xFF0C;&#x90A3;&#x4E48;&#x5B8C;&#x5168;&#x53EF;&#x4EE5;&#x505A;&#x5230;&#x6BCF;&#x6B21;&#x6267;&#x884C;&#x65F6;&#xFF0C;&#x8C03;&#x7528;&#x8BB0;&#x5F55;&#x53EA;&#x6709;&#x4E00;&#x9879;&#xFF0C;&#x8FD9;&#x5C06;&#x5927;&#x5927;&#x8282;&#x7701;&#x5185;&#x5B58;&#x3002;&#x8FD9;&#x5C31;&#x662F;&quot;&#x5C3E;&#x8C03;&#x7528;&#x4F18;&#x5316;&quot;&#x7684;&#x610F;&#x4E49;&#x3002;</p>
<h2 id="&#x5C3E;&#x9012;&#x5F52;">&#x5C3E;&#x9012;&#x5F52;</h2>
<p>&#x51FD;&#x6570;&#x8C03;&#x7528;&#x81EA;&#x8EAB;&#xFF0C;&#x79F0;&#x4E3A;&#x9012;&#x5F52;&#x3002;&#x5982;&#x679C;&#x5C3E;&#x8C03;&#x7528;&#x81EA;&#x8EAB;&#xFF0C;&#x5C31;&#x79F0;&#x4E3A;&#x5C3E;&#x9012;&#x5F52;&#x3002;</p>
<p>&#x9012;&#x5F52;&#x975E;&#x5E38;&#x8017;&#x8D39;&#x5185;&#x5B58;&#xFF0C;&#x56E0;&#x4E3A;&#x9700;&#x8981;&#x540C;&#x65F6;&#x4FDD;&#x5B58;&#x6210;&#x5343;&#x4E0A;&#x767E;&#x4E2A;&#x8C03;&#x7528;&#x8BB0;&#x5F55;&#xFF0C;&#x5F88;&#x5BB9;&#x6613;&#x53D1;&#x751F;&quot;&#x6808;&#x6EA2;&#x51FA;&quot;&#x9519;&#x8BEF;&#xFF08;stack overflow&#xFF09;&#x3002;&#x4F46;&#x5BF9;&#x4E8E;&#x5C3E;&#x9012;&#x5F52;&#x6765;&#x8BF4;&#xFF0C;&#x7531;&#x4E8E;&#x53EA;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#x8C03;&#x7528;&#x8BB0;&#x5F55;&#xFF0C;&#x6240;&#x4EE5;&#x6C38;&#x8FDC;&#x4E0D;&#x4F1A;&#x53D1;&#x751F;&quot;&#x6808;&#x6EA2;&#x51FA;&quot;&#x9519;&#x8BEF;&#x3002;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">factorial</span>(<span class="params">n</span>) </span>{</span><br><span class="line">  <span class="keyword">if</span> (n === <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> n * factorial(n - <span class="number">1</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">factorial(<span class="number">5</span>); <span class="comment">// 120</span></span><br></pre></td></tr></table></figure>
<p>&#x4E0A;&#x9762;&#x4EE3;&#x7801;&#x662F;&#x4E00;&#x4E2A;&#x9636;&#x4E58;&#x51FD;&#x6570;&#xFF0C;&#x8BA1;&#x7B97; n &#x7684;&#x9636;&#x4E58;&#xFF0C;&#x6700;&#x591A;&#x9700;&#x8981;&#x4FDD;&#x5B58; n &#x4E2A;&#x8C03;&#x7528;&#x8BB0;&#x5F55;&#xFF0C;&#x590D;&#x6742;&#x5EA6; O(n) &#x3002; &#x5982;&#x679C;&#x6539;&#x5199;&#x6210;&#x5C3E;&#x9012;&#x5F52;&#xFF0C;&#x53EA;&#x4FDD;&#x7559;&#x4E00;&#x4E2A;&#x8C03;&#x7528;&#x8BB0;&#x5F55;&#xFF0C;&#x590D;&#x6742;&#x5EA6; O(1) &#x3002;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">factorial</span>(<span class="params">n, total</span>) </span>{</span><br><span class="line">  <span class="keyword">if</span> (n === <span class="number">1</span>) <span class="keyword">return</span> total;</span><br><span class="line">  <span class="keyword">return</span> factorial(n - <span class="number">1</span>, n * total);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">factorial(<span class="number">5</span>, <span class="number">1</span>); <span class="comment">// 120</span></span><br></pre></td></tr></table></figure>
<p>&#x7531;&#x6B64;&#x53EF;&#x89C1;&#xFF0C;&quot;&#x5C3E;&#x8C03;&#x7528;&#x4F18;&#x5316;&quot;&#x5BF9;&#x9012;&#x5F52;&#x64CD;&#x4F5C;&#x610F;&#x4E49;&#x91CD;&#x5927;&#xFF0C;&#x6240;&#x4EE5;&#x4E00;&#x4E9B;&#x51FD;&#x6570;&#x5F0F;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x5C06;&#x5176;&#x5199;&#x5165;&#x4E86;&#x8BED;&#x8A00;&#x89C4;&#x683C;&#x3002;ES6 &#x4E5F;&#x662F;&#x5982;&#x6B64;&#xFF0C;&#x7B2C;&#x4E00;&#x6B21;&#x660E;&#x786E;&#x89C4;&#x5B9A;&#xFF0C;&#x6240;&#x6709; ECMAScript &#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x90FD;&#x5FC5;&#x987B;&#x90E8;&#x7F72;&quot;&#x5C3E;&#x8C03;&#x7528;&#x4F18;&#x5316;&quot;&#x3002;&#x8FD9;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x5728; ES6 &#x4E2D;&#xFF0C;&#x53EA;&#x8981;&#x4F7F;&#x7528;&#x5C3E;&#x9012;&#x5F52;&#xFF0C;&#x5C31;&#x4E0D;&#x4F1A;&#x53D1;&#x751F;&#x6808;&#x6EA2;&#x51FA;&#xFF0C;&#x76F8;&#x5BF9;&#x8282;&#x7701;&#x5185;&#x5B58;&#x3002; <img src="/images/&#x5C3E;&#x8C03;&#x7528;&#x4F18;&#x5316;_2020-04-23-17-21-00.png" alt="&#x5C3E;&#x8C03;&#x7528;&#x4F18;&#x5316;_2020-04-23-17-21-00.png"></p>
<h2 id="&#x9012;&#x5F52;&#x51FD;&#x6570;&#x7684;&#x6539;&#x5199;">&#x9012;&#x5F52;&#x51FD;&#x6570;&#x7684;&#x6539;&#x5199;</h2>
<p>&#x5C3E;&#x9012;&#x5F52;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x5F80;&#x5F80;&#x9700;&#x8981;&#x6539;&#x5199;&#x9012;&#x5F52;&#x51FD;&#x6570;&#xFF0C;&#x786E;&#x4FDD;&#x6700;&#x540E;&#x4E00;&#x6B65;&#x53EA;&#x8C03;&#x7528;&#x81EA;&#x8EAB;&#x3002;&#x505A;&#x5230;&#x8FD9;&#x4E00;&#x70B9;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5C31;&#x662F;&#x628A;&#x6240;&#x6709;&#x7528;&#x5230;&#x7684;&#x5185;&#x90E8;&#x53D8;&#x91CF;&#x6539;&#x5199;&#x6210;&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;&#x3002;&#x6BD4;&#x5982;&#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x9636;&#x4E58;&#x51FD;&#x6570; factorial &#x9700;&#x8981;&#x7528;&#x5230;&#x4E00;&#x4E2A;&#x4E2D;&#x95F4;&#x53D8;&#x91CF; total &#xFF0C;&#x90A3;&#x5C31;&#x628A;&#x8FD9;&#x4E2A;&#x4E2D;&#x95F4;&#x53D8;&#x91CF;&#x6539;&#x5199;&#x6210;&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;&#x3002;&#x8FD9;&#x6837;&#x505A;&#x7684;&#x7F3A;&#x70B9;&#x5C31;&#x662F;&#x4E0D;&#x592A;&#x76F4;&#x89C2;&#xFF0C;&#x7B2C;&#x4E00;&#x773C;&#x5F88;&#x96BE;&#x770B;&#x51FA;&#x6765;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x8BA1;&#x7B97; 5 &#x7684;&#x9636;&#x4E58;&#xFF0C;&#x9700;&#x8981;&#x4F20;&#x5165;&#x4E24;&#x4E2A;&#x53C2;&#x6570; 5 &#x548C; 1&#xFF1F;</p>
<p>&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x3002;&#x65B9;&#x6CD5;&#x4E00;&#x662F;&#x5728;&#x5C3E;&#x9012;&#x5F52;&#x51FD;&#x6570;&#x4E4B;&#x5916;&#xFF0C;&#x518D;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x6B63;&#x5E38;&#x5F62;&#x5F0F;&#x7684;&#x51FD;&#x6570;&#x3002;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tailFactorial</span>(<span class="params">n, total</span>) </span>{</span><br><span class="line">  <span class="keyword">if</span> (n === <span class="number">1</span>) <span class="keyword">return</span> total;</span><br><span class="line">  <span class="keyword">return</span> tailFactorial(n - <span class="number">1</span>, n * total);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">factorial</span>(<span class="params">n</span>) </span>{</span><br><span class="line">  <span class="keyword">return</span> tailFactorial(n, <span class="number">1</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">factorial(<span class="number">5</span>); <span class="comment">// 120</span></span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://leaderli.github.io/2020/04/23/快捷键/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lijun">
      <meta itemprop="description" content="与其感慨路难行，不如马上就出发">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="大狗哥传奇">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2020/04/23/快捷键/" class="post-title-link" itemprop="url">快捷键</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-04-23 11:05:04" itemprop="dateCreated datePublished" datetime="2020-04-23T11:05:04+08:00">2020-04-23</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-06-30 23:59:15" itemprop="dateModified" datetime="2020-06-30T23:59:15+08:00">2020-06-30</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/tips/" itemprop="url" rel="index"><span itemprop="name">tips</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="safari">safari</h2>
<ol type="1">
<li>&#x2303;1 #&#x663E;&#x793A;&#x6216;&#x9690;&#x85CF;&#x6536;&#x85CF;&#x5939;</li>
<li>&#x2303;3 #&#x5207;&#x6362; ipad &#x89C6;&#x56FE;</li>
<li>&#x21E7;&#x2318;D #&#x6DFB;&#x52A0;&#x5F53;&#x524D;&#x9875;&#x9762;&#x5230;&#x9605;&#x8BFB;&#x5217;&#x8868;</li>
<li>&#x2318;/ #&#x663E;&#x793A;&#x6240;&#x6709;&#x6807;&#x7B7E;&#x9875;</li>
<li>&#x2303;f #&#x5168;&#x5C4F;</li>
</ol>
<h2 id="iterm2">iTerm2</h2>
<h3 id="&#x5207;&#x6362;&#x7F16;&#x8F91;&#x6A21;&#x5F0F;">&#x5207;&#x6362;&#x7F16;&#x8F91;&#x6A21;&#x5F0F;</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Emacs mode</span></span><br><span class="line">bindkey -e</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Vi mode</span></span><br><span class="line">bindkey -v</span><br></pre></td></tr></table></figure>
<h3 id="&#x81EA;&#x52A8;&#x5B8C;&#x6210;">&#x81EA;&#x52A8;&#x5B8C;&#x6210;</h3>
<p>iTerm2 &#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x8865;&#x9F50;&#x547D;&#x4EE4;&#xFF0C;&#x8F93;&#x5165;&#x82E5;&#x5E72;&#x5B57;&#x7B26;&#xFF0C;&#x6309; &#x2318;+;&#x5F39;&#x51FA;&#x81EA;&#x52A8;&#x8865;&#x9F50;&#x7A97;&#x53E3;&#xFF0C;&#x5217;&#x51FA;&#x66FE;&#x7ECF;&#x4F7F;&#x7528;&#x8FC7;&#x7684;&#x547D;&#x4EE4;</p>
<h3 id="&#x5206;&#x5C4F;">&#x5206;&#x5C4F;</h3>
<p>&#x5782;&#x76F4;&#x5206;&#x5C4F;&#xFF1A;command + d</p>
<p>&#x6C34;&#x5E73;&#x5206;&#x5C4F;&#xFF1A;command + shift + d</p>
<p>&#x5207;&#x6362;&#x5C4F;&#x5E55;&#xFF1A;command + option + &#x65B9;&#x5411;&#x952E; command + [ &#x6216; command + ]</p>
<h2 id="chrome">chrome</h2>
<h3 id="&#x622A;&#x56FE;">&#x622A;&#x56FE;</h3>
<ol type="1">
<li>F12</li>
<li>cmmand+shift+p</li>
<li>&#x8F93;&#x5165;&#x201C;capture&#x201D;</li>
<li><p>&#x9009;&#x62E9;&#x4EE5;&#x4E0B;&#x4EFB;&#x610F;</p>
<blockquote>
<p>1&#xFF09;&#x201C; capture full size screenshot&#x201D;&#x3010;&#x6574;&#x4E2A;&#x7F51;&#x9875;&#x3011; 2&#xFF09;&#x201C;capture node screenshot&#x201D;&#x3010;&#x8282;&#x70B9;&#x7F51;&#x9875;&#x3011; 3&#xFF09;&#x201C;capture screenshot&#x201D;&#x3010;&#x5F53;&#x524D;&#x5C4F;&#x5E55;&#x3011;</p>
</blockquote></li>
</ol>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://leaderli.github.io/2020/04/23/db2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lijun">
      <meta itemprop="description" content="与其感慨路难行，不如马上就出发">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="大狗哥传奇">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2020/04/23/db2/" class="post-title-link" itemprop="url">db2</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-04-23 11:03:36" itemprop="dateCreated datePublished" datetime="2020-04-23T11:03:36+08:00">2020-04-23</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-06-30 23:59:15" itemprop="dateModified" datetime="2020-06-30T23:59:15+08:00">2020-06-30</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/db/" itemprop="url" rel="index"><span itemprop="name">db</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="&#x5BFC;&#x51FA;&#x8868;&#x7ED3;&#x6784;">&#x5BFC;&#x51FA;&#x8868;&#x7ED3;&#x6784;</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">db2look -d dbname -e -a -x -i username -w password -o ddlfile.sql</span><br><span class="line"><span class="meta">#</span><span class="bash">&#x8BE5;&#x8BED;&#x53E5;&#x4F1A;&#x5BFC;&#x51FA;&#x6240;&#x6709;&#x8868;&#x7ED3;&#x6784;</span></span><br></pre></td></tr></table></figure>
<h3 id="&#x6267;&#x884C;-sql-&#x6587;&#x4EF6;">&#x6267;&#x884C; sql &#x6587;&#x4EF6;</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db2 &#x2013;tvf script1.sql &#x2013;z script1.log  #&#x9700;&#x8F6C;&#x5316;&#x4E3A;unix&#x683C;&#x5F0F;&#x6587;&#x672C;</span><br></pre></td></tr></table></figure>
<p>&#x5728;&#x4E0A;&#x9762;&#x7684;&#x547D;&#x4EE4;&#x4E2D;&#xFF0C;</p>
<p>-t &#x8868;&#x793A;&#x8BED;&#x53E5;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x7684;&#x8BED;&#x53E5;&#x7EC8;&#x7ED3;&#x7B26;&#x2014;&#x2014;&#x5206;&#x53F7;&#xFF1B; &#x3000;&#x3000;-v &#x8868;&#x793A;&#x4F7F;&#x7528;&#x5197;&#x957F;&#x6A21;&#x5F0F;&#xFF0C;&#x8FD9;&#x6837; DB2 &#x4F1A;&#x663E;&#x793A;&#x6BCF;&#x4E00;&#x6761;&#x6B63;&#x5728;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x7684;&#x4FE1;&#x606F;&#xFF1B; &#x3000;&#x3000;-f &#x8868;&#x793A;&#x5176;&#x540E;&#x5C31;&#x662F;&#x811A;&#x672C;&#x6587;&#x4EF6;&#xFF1B; &#x3000;&#x3000;-z &#x8868;&#x793A;&#x5176;&#x540E;&#x7684;&#x4FE1;&#x606F;&#x8BB0;&#x5F55;&#x6587;&#x4EF6;&#x7528;&#x4E8E;&#x8BB0;&#x5F55;&#x5C4F;&#x5E55;&#x7684;&#x8F93;&#x51FA;&#xFF0C;&#x65B9;&#x4FBF;&#x4EE5;&#x540E;&#x7684;&#x5206;&#x6790;&#xFF08;&#x8FD9;&#x662F;&#x53EF;&#x9009;&#x7684;&#xFF0C;&#x4F46;&#x6211;&#x4EEC;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#x8BE5;&#x9009;&#x9879;&#xFF09;&#x3002; &#x3000;&#x3000;&#x5F53;&#x4F7F;&#x7528;&#x4E86;-t &#x9009;&#x9879;&#x800C;&#x6CA1;&#x6709;&#x6807;&#x660E;&#x8BED;&#x53E5;&#x7EC8;&#x7ED3;&#x7B26;&#xFF0C;&#x5219;&#x5206;&#x53F7;&#xFF08;&#xFF1B;&#xFF09;&#x4F1A;&#x9ED8;&#x8BA4;&#x4E3A;&#x8BED;&#x53E5;&#x7684;&#x7EC8;&#x7ED3;&#x7B26;&#x3002;&#x6709;&#x65F6;&#x53EF;&#x80FD;&#x4F1A;&#x51FA;&#x73B0;&#x4F7F;&#x7528;&#x53E6;&#x5916;&#x7684;&#x7EC8;&#x7ED3;&#x7B26;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x4F8B;&#x5982;&#x7528; SQL PL &#x7F16;&#x5199;&#x7684;&#x7684;&#x811A;&#x672C;&#x4F7F;&#x7528;&#x5176;&#x5B83;&#x7684;&#x7B26;&#x53F7;&#x800C;&#x4E0D;&#x662F;&#x9ED8;&#x8BA4;&#x7684;&#x5206;&#x53F7;&#xFF0C;&#x56E0;&#x4E3A;&#x5206;&#x53F7;&#x5728; SQL PL &#x662F;&#x7528;&#x4E8E;&#x5B9A;&#x4E49;&#x6570;&#x636E;&#x5E93;&#x5BF9;&#x8C61;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x8BED;&#x53E5;&#x7ED3;&#x675F;&#x3002;</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://leaderli.github.io/2020/04/23/mysql/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lijun">
      <meta itemprop="description" content="与其感慨路难行，不如马上就出发">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="大狗哥传奇">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2020/04/23/mysql/" class="post-title-link" itemprop="url">mysql</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-04-23 11:02:55" itemprop="dateCreated datePublished" datetime="2020-04-23T11:02:55+08:00">2020-04-23</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-06-30 23:59:15" itemprop="dateModified" datetime="2020-06-30T23:59:15+08:00">2020-06-30</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/db/" itemprop="url" rel="index"><span itemprop="name">db</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x8BBE;&#x5B9A;&#x5B57;&#x6BB5;&#x4E3A;&#x4E00;&#x4E2A;&#x679A;&#x4E3E;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">create table test (</span><br><span class="line">  sex enum (&quot;&#x7537;&quot;,&quot;&#x5973;&quot;)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>&#x8868;&#x5B57;&#x6BB5;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x5F53;&#x672A;&#x63D2;&#x5165;&#x6570;&#x636E;&#x65F6;&#x7528;&#x9ED8;&#x8BA4;&#x503C;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE tb_emp1(</span><br><span class="line">  id int(11) AUTO_INCREMENT,</span><br><span class="line">  name VARCHAR(25),</span><br><span class="line">  deptId INT(11) DEFAULT 1234,</span><br><span class="line">  salary FLOAT,</span><br><span class="line">  PRIMARY KEY (id)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>mysql &#x5982;&#x4F55;&#x5F97;&#x5230;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#x5728;&#x6240;&#x6709;&#x8BB0;&#x5F55;&#x7684;&#x7B2C;&#x51E0;&#x884C;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#mysql&#x672C;&#x8EAB;&#x662F;&#x6CA1;&#x6709;&#x884C;&#x53F7;&#x7684;&#x3002;&#x8981;&#x60F3;&#x5F97;&#x5230;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x8FD4;&#x56DE;&#x7684;&#x5217;&#x4E2D;&#x5305;&#x542B;&#x4E00;&#x5217;&#x8868;&#x793A;&#x8BE5;&#x884C;&#x8BB0;&#x5F55;&#x5728;&#x6574;&#x4E2A;&#x7ED3;&#x679C;&#x96C6;&#x4E2D;&#x7684;&#x884C;&#x53F7;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x81EA;&#x5B9A;&#x4E49;set&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#xFF0C;&#x7136;&#x540E;&#x6BCF;&#x6761;&#x8BB0;&#x5F55;+1&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x8FD4;&#x56DE;&#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#x7684;&#x503C;&#x3002;</span><br><span class="line"></span><br><span class="line">SET @t = 0;</span><br><span class="line">SELECT * FROM (SELECT (@t:=@t+1) as id,s FROM t1) AS A WHERE a.id=2 OR a.id=5;</span><br></pre></td></tr></table></figure>
<p>&#x4ECE; dump &#x6587;&#x4EF6;&#x6062;&#x590D;&#x6570;&#x636E;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -uroot -pPassword [database name] &gt; [dump file]</span><br></pre></td></tr></table></figure>
<p>&#x66F4;&#x6539;&#x7F16;&#x7801;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">status;#&#x67E5;&#x770B;&#x7F16;&#x7801;</span><br><span class="line">alter database db_name CHARACTER SET utf8;</span><br></pre></td></tr></table></figure>
<p>==&#x6570;&#x636E;&#x5E93;&#x76F4;&#x63A5;&#x64CD;&#x4F5C;&#x65F6;&#x517B;&#x6210;&#x4E60;&#x60EF;&#x4E0D;&#x7BA1;&#x5E72;&#x5565;&#x90FD;&#x5148;&#x6572;&#x4E2A; begin; &#x786E;&#x8BA4;&#x6CA1;&#x95EE;&#x9898;&#x4E86;&#x518D; commit;==</p>
<p>&#x67E5;&#x770B;&#x6570;&#x636E;&#x5E93;&#x4FE1;&#x606F;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">show variables;</span><br><span class="line">show variables like &apos;character%&apos;;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://leaderli.github.io/2020/04/23/java类加载机制/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lijun">
      <meta itemprop="description" content="与其感慨路难行，不如马上就出发">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="大狗哥传奇">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2020/04/23/java类加载机制/" class="post-title-link" itemprop="url">java类加载机制</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-04-23 10:51:29" itemprop="dateCreated datePublished" datetime="2020-04-23T10:51:29+08:00">2020-04-23</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-06-30 23:59:15" itemprop="dateModified" datetime="2020-06-30T23:59:15+08:00">2020-06-30</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="java-&#x7C7B;&#x52A0;&#x8F7D;&#x5668;">Java &#x7C7B;&#x52A0;&#x8F7D;&#x5668;</h2>
<p>&#x6BCF;&#x4E2A; Java &#x6587;&#x4EF6;&#x90FD;&#x5B58;&#x50A8;&#x7740;&#x9700;&#x8981;&#x6267;&#x884C;&#x7684;&#x7A0B;&#x5E8F;&#x903B;&#x8F91;&#xFF0C;&#x8FD9;&#x4E9B; java &#x6587;&#x4EF6;&#x7ECF;&#x8FC7; Java &#x7F16;&#x8BD1;&#x5668;&#x7F16;&#x8BD1;&#x6210; class &#x6587;&#x4EF6;&#xFF0C;class &#x6587;&#x4EF6;&#x4E2D;&#x4FDD;&#x5B58;&#x7740; JVM &#x865A;&#x62DF;&#x673A;&#x6307;&#x4EE4;&#xFF0C;&#x5F53;&#x9700;&#x8981;&#x67D0;&#x4E2A;&#x7C7B;&#x65F6;&#xFF0C;&#x865A;&#x62DF;&#x673A;&#x5C06;&#x4F1A;&#x52A0;&#x8F7D;&#x5B83;&#x7684; class &#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x521B;&#x5EFA;&#x5BF9;&#x5E94;&#x7684; class &#x5BF9;&#x8C61;&#xFF0C;&#x5C06; class &#x6587;&#x4EF6;&#x52A0;&#x8F7D;&#x5230;&#x865A;&#x62DF;&#x673A;&#x7684;&#x5185;&#x5B58;&#xFF0C;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x79F0;&#x4E3A;&#x7C7B;&#x52A0;&#x8F7D;&#x3002;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4E86;&#x89E3;&#x4E00;&#x4E0B;&#x7C7B;&#x52A0;&#x8F7D;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; <img src="/images/java&#x7C7B;&#x52A0;&#x8F7D;&#x673A;&#x5236;_2020-04-23-10-53-16.png" alt="java&#x7C7B;&#x52A0;&#x8F7D;&#x673A;&#x5236;_2020-04-23-10-53-16.png"></p>
<ol type="1">
<li><p>&#x52A0;&#x8F7D;&#xFF1A;&#x7C7B;&#x52A0;&#x8F7D;&#x8FC7;&#x7A0B;&#x7684;&#x4E00;&#x4E2A;&#x9636;&#x6BB5;&#xFF1A;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x7C7B;&#x7684;&#x5168;&#x9650;&#x5B9A;&#x540D;&#x67E5;&#x627E;&#x6B64;&#x7C7B;&#x5B57;&#x8282;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x5229;&#x7528;&#x5B57;&#x8282;&#x7801;&#x6587;&#x4EF6;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; Class &#x5BF9;&#x8C61;</p></li>
<li><p>&#x9A8C;&#x8BC1;&#xFF1A;&#x76EE;&#x7684;&#x5728;&#x4E8E;&#x786E;&#x4FDD; Class &#x6587;&#x4EF6;&#x7684;&#x5B57;&#x8282;&#x6D41;&#x4E2D;&#x5305;&#x542B;&#x4FE1;&#x606F;&#x7B26;&#x5408;&#x5F53;&#x524D;&#x865A;&#x62DF;&#x673A;&#x8981;&#x6C42;&#xFF0C;&#x4E0D;&#x4F1A;&#x5371;&#x5BB3;&#x865A;&#x62DF;&#x673A;&#x81EA;&#x8EAB;&#x5B89;&#x5168;&#x3002;&#x4E3B;&#x8981;&#x5305;&#x62EC;&#x56DB;&#x79CD;&#x9A8C;&#x8BC1;&#xFF0C;&#x6587;&#x4EF6;&#x683C;&#x5F0F;&#x9A8C;&#x8BC1;&#x3001;&#x5143;&#x6570;&#x636E;&#x9A8C;&#x8BC1;&#x3001;&#x5B57;&#x8282;&#x7801;&#x9A8C;&#x8BC1;&#x3001;&#x7B26;&#x53F7;&#x5F15;&#x7528;&#x9A8C;&#x8BC1;&#x3002;</p></li>
<li><p>&#x51C6;&#x5907;&#xFF1A;&#x4E3A;&#x7C7B;&#x53D8;&#x91CF;(&#x5373; static &#x4FEE;&#x9970;&#x7684;&#x5B57;&#x6BB5;&#x53D8;&#x91CF;)&#x5206;&#x914D;&#x5185;&#x5B58;&#x5E76;&#x4E14;&#x8BBE;&#x7F6E;&#x8BE5;&#x7C7B;&#x53D8;&#x91CF;&#x7684;&#x521D;&#x59CB;&#x503C;(&#x5982; static int i &#xFF1D; 5;&#x8FD9;&#x91CC;&#x53EA;&#x8BB2; i &#x521D;&#x59CB;&#x5316;&#x4E3A; 0&#xFF0C;&#x81F3;&#x4E8E; 5 &#x7684;&#x503C;&#x5C06;&#x5728;&#x521D;&#x59CB;&#x5316;&#x65F6;&#x8D4B;&#x503C;)&#xFF0C;&#x8FD9;&#x91CC;&#x4E0D;&#x5305;&#x542B;&#x4F7F;&#x7528; final &#x4FEE;&#x9970;&#x7684; static&#xFF0C;&#x56E0;&#x4E3A; final &#x5728;&#x7F16;&#x8BD1;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x4F1A;&#x5206;&#x914D;&#x4E86;&#xFF0C;&#x6CE8;&#x610F;&#x8FD9;&#x91CC;&#x4E0D;&#x4F1A;&#x4E3A;&#x89C6;&#x529B;&#x53D8;&#x91CF;&#x5206;&#x914D;&#x521D;&#x59CB;&#x5316;&#x503C;&#xFF0C;&#x7C7B;&#x53D8;&#x91CF;&#x4F1A;&#x5206;&#x914D;&#x5728;&#x65B9;&#x6CD5;&#x533A;&#x4E2D;&#xFF0C;&#x800C;&#x5B9E;&#x4F8B;&#x53D8;&#x91CF;&#x662F;&#x4F1A;&#x968F;&#x7740;&#x5BF9;&#x8C61;&#x4E00;&#x8D77;&#x5206;&#x914D;&#x5230; Java &#x5806;&#x4E2D;&#x3002;</p></li>
<li><p>&#x89E3;&#x6790;&#xFF1A;&#x4E3B;&#x8981;&#x8BB2;&#x5E38;&#x91CF;&#x6C60;&#x4E2D;&#x7684;&#x7B26;&#x53F7;&#x5F15;&#x7528;&#x66FF;&#x6362;&#x4E3A;&#x76F4;&#x63A5;&#x5F15;&#x7528;&#x7684;&#x8FC7;&#x7A0B;&#x3002;&#x7B26;&#x53F7;&#x5F15;&#x7528;&#x5C31;&#x662F;&#x4E00;&#x7EC4;&#x7B26;&#x53F7;&#x6765;&#x63CF;&#x8FF0;&#x76EE;&#x6807;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;&#x4EFB;&#x4F55;&#x5B57;&#x9762;&#x91CF;&#xFF0C;&#x800C;&#x76F4;&#x63A5;&#x5F15;&#x7528;&#x5C31;&#x662F;&#x76F4;&#x63A5;&#x6307;&#x5411;&#x76EE;&#x6807;&#x7684;&#x6307;&#x9488;&#x3001;&#x76F8;&#x5BF9;&#x4FBF;&#x79FB;&#x91CF;&#x6216;&#x8005;&#x4E00;&#x4E2A;&#x95F4;&#x63A5;&#x5B9A;&#x4F4D;&#x5230;&#x76EE;&#x6807;&#x7684;&#x53E5;&#x67C4;&#x3002;&#x6709;&#x7C7B;&#x6216;&#x8005;&#x63A5;&#x53E3;&#x7684;&#x89E3;&#x6790;&#xFF0C;&#x5B57;&#x6BB5;&#x89E3;&#x6790;&#xFF0C;&#x7C7B;&#x65B9;&#x6CD5;&#x89E3;&#x6790;&#xFF0C;&#x63A5;&#x53E3;&#x65B9;&#x6CD5;&#x89E3;&#x6790;(&#x8FD9;&#x91CC;&#x8BBE;&#x8BA1;&#x5230;&#x5B57;&#x8282;&#x7801;&#x53D8;&#x91CF;&#x7684;&#x5F15;&#x7528;&#xFF0C;&#x5982;&#x9700;&#x8BE6;&#x7EC6;&#x4E86;&#x89E3;&#xFF0C;&#x53EF;&#x53C2;&#x8003;&#x300A;&#x6DF1;&#x5165; Java &#x865A;&#x62DF;&#x673A;&#x300B;)</p></li>
<li><p>&#x521D;&#x59CB;&#x5316;&#xFF1A;&#x7C7B;&#x52A0;&#x8F7D;&#x6700;&#x540E;&#x9636;&#x6BB5;&#xFF0C;&#x82E5;&#x8BE5;&#x7C7B;&#x5177;&#x6709;&#x8D85;&#x7C7B;&#xFF0C;&#x5219;&#x5BF9;&#x5176;&#x8FDB;&#x884C;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x6267;&#x884C;&#x9759;&#x6001;&#x521D;&#x59CB;&#x5316;&#x5668;&#x548C;&#x9759;&#x6001;&#x521D;&#x59CB;&#x5316;&#x6210;&#x5458;&#x53D8;&#x91CF;(&#x5982;&#x524D;&#x9762;&#x53EA;&#x521D;&#x59CB;&#x5316;&#x4E86;&#x9ED8;&#x8BA4;&#x503C;&#x7684; static &#x53D8;&#x91CF;&#x5C06;&#x4F1A;&#x5728;&#x8FD9;&#x4E2A;&#x9636;&#x6BB5;&#x8D4B;&#x503C;&#xFF0C;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x4E5F;&#x5C06;&#x88AB;&#x521D;&#x59CB;&#x5316;)</p></li>
</ol>
<p>&#x8FD9;&#x4FBF;&#x662F;&#x7C7B;&#x52A0;&#x8F7D;&#x7684; 5 &#x4E2A;&#x8FC7;&#x7A0B;&#xFF0C;&#x800C;&#x7C7B;&#x52A0;&#x8F7D;&#x7684;&#x4EFB;&#x52A1;&#x662F;&#x6839;&#x636E;&#x4E00;&#x4E2A;&#x7C7B;&#x7684;&#x5168;&#x9650;&#x5B9A;&#x540D;&#x6765;&#x8BFB;&#x53D6;&#x6B64;&#x7C7B;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x5B57;&#x8282;&#x6D41;&#x5230; JVM &#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x8F6C;&#x6362;&#x4E3A;&#x4E00;&#x4E2A;&#x4E0E;&#x76EE;&#x6807;&#x7C7B;&#x5BF9;&#x5E94;&#x7684; java.lang.Class &#x5BF9;&#x8C61;&#x5B9E;&#x4F8B;&#xFF0C;&#x5728;&#x865A;&#x62DF;&#x673A;&#x4E2D;&#x63D0;&#x4F9B;&#x4E86; 3 &#x79CD;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#xFF0C;&#x542F;&#x52A8;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;(Bootstrap)&#x3001;&#x6269;&#x5C55;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;(Extension)&#x3001;&#x7CFB;&#x7EDF;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;(System &#x4E5F;&#x79F0;&#x5E94;&#x7528;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;)</p>
<p>&#x901A;&#x8FC7;&#x4E00;&#x6BB5;&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x6765; java &#x521D;&#x59CB;&#x5316;&#x7684;&#x4E00;&#x4E9B;&#x8FC7;&#x7A0B;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Father</span> </span>{</span><br><span class="line">    {</span><br><span class="line">        func();</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">func</span><span class="params">()</span></span>{</span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            String name = (String) Son.class.getField(<span class="string">&quot;name&quot;</span>).get(<span class="keyword">this</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;name = &quot;</span> + name);</span><br><span class="line">        } <span class="keyword">catch</span> (IllegalAccessException e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        } <span class="keyword">catch</span> (NoSuchFieldException e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Son</span> <span class="keyword">extends</span> <span class="title">Father</span></span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String name = <span class="string">&quot;son&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        Son son = <span class="keyword">new</span> Son();</span><br><span class="line">        son.func();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x5176;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x5982;&#x4E0B;</p>
<blockquote>
<p>name = null name = son</p>
</blockquote>
<p>&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x5206;&#x6790;<code>Son</code>&#x7684;&#x5B57;&#x8282;&#x7801;&#x4E2D;&#x5173;&#x4E8E;&#x6784;&#x9020;&#x5668;&#x7684;&#x7247;&#x6BB5;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> com.leaderli.algrohtms.Son();</span><br><span class="line">  descriptor: ()V</span><br><span class="line">  flags: ACC_PUBLIC</span><br><span class="line">  Code:</span><br><span class="line">    stack=<span class="number">2</span>, locals=<span class="number">1</span>, args_size=<span class="number">1</span></span><br><span class="line">       <span class="number">0</span>: aload_0</span><br><span class="line">       1: invokespecial #1                  // Method com/leaderli/algrohtms/Father.&quot;&lt;init&gt;&quot;:()V</span><br><span class="line">       <span class="number">4</span>: aload_0</span><br><span class="line">       5: ldc           #2                  // String son</span><br><span class="line">       7: putfield      #3                  // Field name:Ljava/lang/String;</span><br><span class="line">      <span class="number">10</span>: <span class="keyword">return</span></span><br><span class="line">    LineNumberTable:</span><br><span class="line">      line <span class="number">3</span>: <span class="number">0</span></span><br><span class="line">      line <span class="number">5</span>: <span class="number">4</span></span><br><span class="line">    LocalVariableTable:</span><br><span class="line">      Start  Length  Slot  Name   Signature</span><br><span class="line">          <span class="number">0</span>      <span class="number">11</span>     <span class="number">0</span>  <span class="keyword">this</span>   Lcom/leaderli/algrohtms/Son;</span><br></pre></td></tr></table></figure>
<p><code>Son</code>&#x7C7B;&#x6211;&#x4EEC;&#x6CA1;&#x6709;&#x663E;&#x793A;&#x7684;&#x5199;&#x6784;&#x9020;&#x5668;&#xFF0C;&#x4F46;&#x662F; java &#x4F1A;&#x7ED9;&#x6211;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x9ED8;&#x8BA4;&#x7684;&#x6784;&#x9020;&#x5668;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5F97;&#x51FA;&#xFF0C;<code>Son</code>&#x7684;&#x6784;&#x9020;&#x5668;&#x4E00;&#x5F00;&#x59CB;&#x5C31;&#x4F1A;&#x8C03;&#x7528;<code>Father</code>&#x7684;&#x6784;&#x9020;&#x5668;&#x65B9;&#x6CD5;&#xFF0C;&#x800C;&#x6B64;&#x65F6;&#x6210;&#x5458;&#x53D8;&#x91CF;<code>name</code>&#x8FD8;&#x6CA1;&#x6709;&#x5B8C;&#x6210;&#x521D;&#x59CB;&#x5316;&#x8FC7;&#x7A0B;&#xFF0C;&#x56E0;&#x6B64;&#x5728;<code>Father</code>&#x7C7B;&#x4E2D;<code>name</code>&#x7684;&#x503C;&#x4E3A;&#x96F6;&#x503C;&#xFF0C;&#x5373;<code>null</code>&#x3002;&#x5728;&#x7236;&#x7C7B;&#x6784;&#x9020;&#x5668;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x5219;&#x4F1A;&#x5F00;&#x59CB;&#x5BF9;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x7684;&#x503C;&#x8FDB;&#x884C;&#x8D4B;&#x503C;&#x3002;</p>
<h3 id="&#x542F;&#x52A8;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;bootstrap">&#x542F;&#x52A8;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;(Bootstrap)</h3>
<p>&#x542F;&#x52A8;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x4E3B;&#x8981;&#x52A0;&#x8F7D;&#x7684;&#x662F; JVM &#x81EA;&#x8EAB;&#x9700;&#x8981;&#x7684;&#x7C7B;&#xFF0C;&#x8FD9;&#x4E2A;&#x7C7B;&#x52A0;&#x8F7D;&#x4F7F;&#x7528; C++&#x8BED;&#x8A00;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x662F;&#x865A;&#x62DF;&#x673A;&#x81EA;&#x8EAB;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x5B83;&#x8D1F;&#x8D23;&#x8BB2;<code>&lt;JAVA_HOME&gt;/lib</code>&#x8DEF;&#x5F84;&#x4E0B;&#x7684;&#x6838;&#x5FC3;&#x7C7B;&#x5E93;&#x6216;<code>-Xbootclasspath</code>&#x53C2;&#x6570;&#x6307;&#x5B9A;&#x7684;&#x8DEF;&#x5F84;&#x4E0B;&#x7684; jar &#x5305;&#x52A0;&#x8F7D;&#x5230;&#x5185;&#x5B58;&#x4E2D;&#xFF0C;&#x6CE8;&#x610F;&#x7531;&#x4E8E;&#x865A;&#x62DF;&#x673A;&#x662F;&#x6309;&#x7167;&#x6587;&#x4EF6;&#x540D;&#x8BC6;&#x522B;&#x52A0;&#x8F7D; jar &#x5305;&#x7684;&#xFF0C;&#x5982; rt.jar,&#x5982;&#x679C;&#x6587;&#x4EF6;&#x540D;&#x4E0D;&#x88AB;&#x865A;&#x62DF;&#x673A;&#x8BC6;&#x522B;&#xFF0C;&#x5373;&#x4F7F;&#x628A; jar &#x5305;&#x4E22;&#x5230; lib &#x76EE;&#x5F55;&#x4E0B;&#x4E5F;&#x662F;&#x6CA1;&#x6709;&#x4F5C;&#x7528;&#x7684;&#x3002;(&#x51FA;&#x4E8E;&#x5B89;&#x5168;&#x8003;&#x8651;,Bootstrap &#x542F;&#x52A8;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x53EA;&#x52A0;&#x8F7D;&#x5305;&#x540D;&#x4E3A; java,javax,sun &#x7B49;&#x5F00;&#x5934;&#x7684;&#x7C7B;)</p>
<h3 id="&#x6269;&#x5C55;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;extension">&#x6269;&#x5C55;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;(Extension)</h3>
<p>&#x6269;&#x5C55;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x662F;&#x6307; Sun &#x516C;&#x53F8;&#x5B9E;&#x73B0;&#x7684;<code>sun.misc.Launcher$ExtClassLoader</code>&#x7C7B;&#xFF0C;&#x7531; Java &#x8BED;&#x8A00;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x662F; Launcher &#x7684;&#x9759;&#x6001;&#x5185;&#x90E8;&#x7C7B;&#xFF0C;&#x5B83;&#x8D1F;&#x8D23;&#x52A0;&#x8F7D;<code>&lt;JAVA_HOME&gt;/lib/ext</code>&#x76EE;&#x5F55;&#x4E0B;&#x6216;&#x8005;&#x7531;&#x7CFB;&#x7EDF;&#x53D8;&#x91CF;<code>-Djava.ext.dir</code>&#x6307;&#x5B9A;&#x8DEF;&#x5F84;&#x4E2D;&#x7684;&#x7C7B;&#x5E93;&#xFF0C;&#x5F00;&#x53D1;&#x8005;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x6807;&#x51C6;&#x6269;&#x5C55;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x3002;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ExtClassLoader&#x7C7B;&#x4E2D;&#x83B7;&#x53D6;&#x8DEF;&#x5F84;&#x7684;&#x4EE3;&#x7801;</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> File[] getExtDirs() {</span><br><span class="line">     <span class="comment">//&#x52A0;&#x8F7D;&lt;JAVA_HOME&gt;/lib/ext&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x7C7B;&#x5E93;</span></span><br><span class="line">     String s = System.getProperty(<span class="string">&quot;java.ext.dirs&quot;</span>);</span><br><span class="line">     File[] dirs;</span><br><span class="line">     <span class="keyword">if</span> (s != <span class="keyword">null</span>) {</span><br><span class="line">         StringTokenizer st =</span><br><span class="line">             <span class="keyword">new</span> StringTokenizer(s, File.pathSeparator);</span><br><span class="line">         <span class="keyword">int</span> count = st.countTokens();</span><br><span class="line">         dirs = <span class="keyword">new</span> File[count];</span><br><span class="line">         <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count; i++) {</span><br><span class="line">             dirs[i] = <span class="keyword">new</span> File(st.nextToken());</span><br><span class="line">         }</span><br><span class="line">     } <span class="keyword">else</span> {</span><br><span class="line">         dirs = <span class="keyword">new</span> File[<span class="number">0</span>];</span><br><span class="line">     }</span><br><span class="line">     <span class="keyword">return</span> dirs;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>###&#x7CFB;&#x7EDF;(System)&#x7C7B;&#x52A0;&#x8F7D;&#x5668;</p>
<p>&#x4E5F;&#x79F0;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x52A0;&#x8F7D;&#x5668;&#x662F;&#x6307; Sun &#x516C;&#x53F8;&#x5B9E;&#x73B0;&#x7684;<code>sun.misc.Launcher$AppClassLoader</code>&#x3002;&#x5B83;&#x8D1F;&#x8D23;&#x52A0;&#x8F7D;&#x7CFB;&#x7EDF;&#x7C7B;&#x8DEF;&#x5F84;<code>java -classpath</code>&#x6216;<code>-D java.class.path</code>&#x6307;&#x5B9A;&#x8DEF;&#x5F84;&#x4E0B;&#x7684;&#x7C7B;&#x5E93;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x7ECF;&#x5E38;&#x7528;&#x5230;&#x7684; cclasspath &#x8DEF;&#x5F84;&#xFF0C;&#x5F00;&#x53D1;&#x8005;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x7CFB;&#x7EDF;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#xFF0C;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x8BE5;&#x8BE5;&#x7C7B;&#x52A0;&#x8F7D;&#x662F;&#x7A0B;&#x5E8F;&#x4E2D;&#x9ED8;&#x8BA4;&#x7684;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#xFF0C;&#x901A;&#x8FC7;<code>ClassLoader#getSystemClassLoader()</code>&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x5230;&#x8BE5;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x3002;</p>
<p>&#x5728; Java &#x7684;&#x65E5;&#x5E38;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x7C7B;&#x7684;&#x52A0;&#x8F7D;&#x51E0;&#x4E4E;&#x662F;&#x7531;&#x4E0A;&#x8FF0; 3 &#x79CD;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x76F8;&#x4E92;&#x914D;&#x5408;&#x6267;&#x884C;&#x7684;&#xFF0C;&#x5728;&#x5FC5;&#x8981;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#xFF0C;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;Java &#x865A;&#x62DF;&#x673A;&#x5BF9; class &#x6587;&#x4EF6;&#x91C7;&#x7528;&#x7684;&#x662F;&#x6309;&#x9700;&#x52A0;&#x8F7D;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x5F53;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x8BE5;&#x7C7B;&#x65F6;&#x624D;&#x4F1A;&#x5C06;&#x5B83;&#x7684; class &#x6587;&#x4EF6;&#x52A0;&#x8F7D;&#x5230;&#x5185;&#x5B58;&#x751F;&#x6210; class &#x5BF9;&#x8C61;&#xFF0C;&#x800C;&#x4E14;&#x52A0;&#x8F7D;&#x67D0;&#x4E2A;&#x7C7B;&#x7684; class &#x6587;&#x4EF6;&#x65F6;&#xFF0C;Java &#x865A;&#x62DF;&#x673A;&#x91C7;&#x7528;&#x7684;&#x662F;&#x53CC;&#x4EB2;&#x59D4;&#x6D3E;&#x6A21;&#x5F0F;&#x5373;&#x628A;&#x8BF7;&#x6C42;&#x4EA4;&#x7531;&#x7236;&#x7C7B;&#x5904;&#x7406;&#xFF0C;&#x5B83;&#x662F;&#x4E00;&#x79CD;&#x4EFB;&#x52A1;&#x59D4;&#x6D3E;&#x6A21;&#x5F0F;&#xFF0C;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x8FDB;&#x4E00;&#x6B65;&#x4E86;&#x89E3;&#x5B83;&#x3002;</p>
<h2 id="&#x7406;&#x89E3;&#x53CC;&#x4EB2;&#x59D4;&#x6D3E;&#x6A21;&#x5F0F;">&#x7406;&#x89E3;&#x53CC;&#x4EB2;&#x59D4;&#x6D3E;&#x6A21;&#x5F0F;</h2>
<h3 id="&#x53CC;&#x4EB2;&#x59D4;&#x6D3E;&#x6A21;&#x5F0F;&#x5DE5;&#x4F5C;&#x539F;&#x7406;">&#x53CC;&#x4EB2;&#x59D4;&#x6D3E;&#x6A21;&#x5F0F;&#x5DE5;&#x4F5C;&#x539F;&#x7406;</h3>
<p>&#x53CC;&#x4EB2;&#x59D4;&#x6D3E;&#x6A21;&#x5F0F;&#x8981;&#x6C42;&#x9664;&#x4E86;&#x9876;&#x5C42;&#x7684;&#x542F;&#x52A8;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x5916;&#xFF0C;&#x5176;&#x4F59;&#x7684;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x90FD;&#x5E94;&#x5F53;&#x7531;&#x81EA;&#x5DF1;&#x7684;&#x7236;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#xFF0C;&#x8BF7;&#x6CE8;&#x610F;&#x53CC;&#x4EB2;&#x59D4;&#x6D3E;&#x6A21;&#x5F0F;&#x4E2D;&#x7684;&#x7236;&#x5B50;&#x5173;&#x7CFB;&#x5E76;&#x975E;&#x901A;&#x5E38;&#x6240;&#x8BF4;&#x7684;&#x7C7B;&#x7EE7;&#x627F;&#x5173;&#x7CFB;&#xFF0C;&#x800C;&#x662F;&#x91C7;&#x7528;&#x7EC4;&#x5408;&#x5173;&#x7CFB;&#x6765;&#x590D;&#x7528;&#x7236;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x7684;&#x76F8;&#x5173;&#x4EE3;&#x7801;&#xFF0C;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x7684;&#x5173;&#x7CFB;&#x5982;&#x4E0B;&#xFF1A; <img src="/images/java&#x7C7B;&#x52A0;&#x8F7D;&#x673A;&#x5236;_2020-04-23-10-52-52.png" alt="java&#x7C7B;&#x52A0;&#x8F7D;&#x673A;&#x5236;_2020-04-23-10-52-52.png"></p>
<p>&#x53CC;&#x4EB2;&#x59D4;&#x6D3E;&#x6A21;&#x5F0F;&#x662F;&#x5728; Java 1.2 &#x540E;&#x5F15;&#x5165;&#x7684;&#xFF0C;&#x5176;&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x6536;&#x5230;&#x4E86;&#x7C7B;&#x52A0;&#x8F7D;&#x8BF7;&#x6C42;&#xFF0C;&#x5B83;&#x5E76;&#x4E0D;&#x4F1A;&#x81EA;&#x5DF1;&#x5148;&#x53BB;&#x52A0;&#x8F7D;&#xFF0C;&#x800C;&#x662F;&#x628A;&#x8FD9;&#x4E2A;&#x8BF7;&#x6C42;&#x59D4;&#x6258;&#x7ED9;&#x7236;&#x7C7B;&#x7684;&#x52A0;&#x8F7D;&#x5668;&#x53BB;&#x6267;&#x884C;&#xFF0C;&#x5982;&#x679C;&#x7236;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x8FD8;&#x5B58;&#x5728;&#x5176;&#x7236;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#xFF0C;&#x5219;&#x8FDB;&#x4E00;&#x6B65;&#x5411;&#x4E0A;&#x59D4;&#x6258;&#xFF0C;&#x4F9D;&#x6B21;&#x9012;&#x5F52;&#xFF0C;&#x8BF7;&#x6C42;&#x6700;&#x7EC8;&#x5C06;&#x5230;&#x8FBE;&#x9876;&#x5C42;&#x7684;&#x542F;&#x52A8;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#xFF0C;&#x5982;&#x679C;&#x7236;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x53EF;&#x4EE5;&#x5B8C;&#x6210;&#x7C7B;&#x52A0;&#x8F7D;&#x4EFB;&#x52A1;&#xFF0C;&#x5C31;&#x6210;&#x529F;&#x8FD4;&#x56DE;&#xFF0C;&#x5018;&#x82E5;&#x7236;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x65E0;&#x6CD5;&#x5B8C;&#x6210;&#x52A0;&#x8F7D;&#x4EFB;&#x52A1;&#xFF0C;&#x5B50;&#x52A0;&#x8F7D;&#x5668;&#x624D;&#x4F1A;&#x5C1D;&#x8BD5;&#x81EA;&#x5DF1;&#x53BB;&#x52A0;&#x8F7D;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x53CC;&#x4EB2;&#x59D4;&#x6D3E;&#x6A21;&#x5F0F;&#x3002;</p>
<h3 id="&#x53CC;&#x4EB2;&#x59D4;&#x6D3E;&#x6A21;&#x5F0F;&#x4F18;&#x52BF;">&#x53CC;&#x4EB2;&#x59D4;&#x6D3E;&#x6A21;&#x5F0F;&#x4F18;&#x52BF;</h3>
<p>&#x91C7;&#x7528;&#x53CC;&#x4EB2;&#x59D4;&#x6D3E;&#x6A21;&#x5F0F;&#x7684;&#x4F18;&#x52BF;&#x662F; Java &#x7C7B;&#x968F;&#x7740;&#x5B83;&#x7684;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x4E00;&#x8D77;&#x5177;&#x5907;&#x4E86;&#x4E00;&#x79CD;&#x5E26;&#x6709;&#x4F18;&#x5148;&#x7EA7;&#x7684;&#x5C42;&#x6B21;&#x5173;&#x7CFB;&#xFF0C;&#x901A;&#x8FC7;&#x8FD9;&#x79CD;&#x5C42;&#x7EA7;&#x5173;&#x7CFB;&#xFF0C;&#x53EF;&#x4EE5;&#x907F;&#x514D;&#x7C7B;&#x7684;&#x91CD;&#x590D;&#x52A0;&#x8F7D;&#xFF0C;&#x5F53;&#x7236;&#x7C7B;&#x5DF2;&#x7ECF;&#x52A0;&#x8F7D;&#x4E86;&#x8BE5;&#x7C7B;&#x65F6;&#xFF0C;&#x5C31;&#x6CA1;&#x6709;&#x5FC5;&#x8981;&#x5B50;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x518D;&#x52A0;&#x8F7D;&#x4E00;&#x6B21;&#x3002;&#x5176;&#x6B21;&#x662F;&#x8003;&#x8651;&#x5230;&#x5B89;&#x5168;&#x56E0;&#x7D20;&#xFF0C;Java &#x6838;&#x5FC3; api &#x5728;&#x5B9A;&#x4E49;&#x7C7B;&#x578B;&#x65F6;&#x4E0D;&#x4F1A;&#x88AB;&#x968F;&#x610F;&#x66FF;&#x6362;&#xFF0C;&#x5047;&#x8BBE;&#x901A;&#x8FC7;&#x7F51;&#x7EDC;&#x4F20;&#x9012;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;<code>java.lang.Integer</code>&#x7684;&#x7C7B;&#xFF0C;&#x901A;&#x8FC7;&#x53CC;&#x4EB2;&#x59D4;&#x6D3E;&#x6A21;&#x5F0F;&#x4F20;&#x9012;&#x5230;&#x542F;&#x52A8;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#xFF0C;&#x800C;&#x542F;&#x52A8;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x8F7D;&#x6838;&#x5FC3; Java API &#x53D1;&#x73B0;&#x8FD9;&#x4E2A;&#x540D;&#x5B57;&#x7684;&#x7C7B;&#xFF0C;&#x53D1;&#x73B0;&#x8BE5;&#x7C7B;&#x5DF2;&#x88AB;&#x52A0;&#x8F7D;&#xFF0C;&#x5C31;&#x4E0D;&#x4F1A;&#x91CD;&#x65B0;&#x52A0;&#x8F7D;&#x7F51;&#x7EDC;&#x4F20;&#x9012;&#x8FC7;&#x6765;&#x7684;<code>java.lang.Integer</code>&#xFF0C;&#x800C;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;&#x5DF2;&#x52A0;&#x8F7D;&#x8FC7;&#x7684;<code>Integer.class</code>&#xFF0C;&#x8FD9;&#x6837;&#x4FBF;&#x53EF;&#x4EE5;&#x9632;&#x6B62;&#x6838;&#x5FC3; API &#x88AB;&#x968F;&#x610F;&#x7BE1;&#x6539;&#x3002;</p>
<p>&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x4ECE;&#x4EE3;&#x7801;&#x5C42;&#x9762;&#x4E86;&#x89E3;&#x51E0;&#x4E2A; Java &#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x53CA;&#x5176;&#x53CC;&#x4EB2;&#x59D4;&#x6D3E;&#x6A21;&#x5F0F;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x4ED6;&#x4EEC;&#x7684;&#x7C7B;&#x56FE;&#x5173;&#x7CFB;&#x5982;&#x4E0B; <img src="/images/java&#x7C7B;&#x52A0;&#x8F7D;&#x673A;&#x5236;_2020-04-23-10-54-17.png" alt="java&#x7C7B;&#x52A0;&#x8F7D;&#x673A;&#x5236;_2020-04-23-10-54-17.png"></p>
<p>&#x4ECE;&#x56FE;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x9876;&#x5C42;&#x7684;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x65F6; ClassLoader &#x7C7B;&#xFF0C;&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x7C7B;&#xFF0C;&#x5176;&#x540E;&#x6240;&#x6709;&#x7684;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x90FD;&#x7EE7;&#x627F;&#x81EA; ClassLoader(&#x4E0D;&#x5305;&#x62EC;&#x542F;&#x52A8;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;)&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x4E3B;&#x8981;&#x4ECB;&#x7ECD; ClassLoader &#x4E2D;&#x51E0;&#x4E2A;&#x6BD4;&#x8F83;&#x91CD;&#x8981;&#x7684;&#x65B9;&#x6CD5;&#x3002;</p>
<ul>
<li><p><code>loadClass(String)</code></p>
<p>&#x8BE5;&#x65B9;&#x6CD5;&#x52A0;&#x8F7D;&#x6307;&#x5B9A;&#x540D;&#x79F0;(&#x5305;&#x62EC;&#x5305;&#x540D;)&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x7C7B;&#x578B;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x8F7D; JDK 1.2 &#x4E4B;&#x540E;&#x4E0D;&#x518D;&#x5EFA;&#x8BAE;&#x7528;&#x6237;&#x91CD;&#x5199;&#x4F46;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8C03;&#x7528;&#x8BE5;&#x65B9;&#x6CD5;&#xFF0C;<code>loadClass()</code>&#x65B9;&#x6CD5;&#x662F;<code>ClassLoader</code>&#x7C7B;&#x81EA;&#x5DF1;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x4E2D;&#x7684;&#x903B;&#x8F91;&#x5C31;&#x662F;&#x53CC;&#x4EB2;&#x59D4;&#x6D3E;&#x6A21;&#x5F0F;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x5176;&#x6E90;&#x7801;&#x5982;&#x4E0B;&#xFF0C;<code>loadClass(String name, boolean resolve)</code>&#x662F;&#x4E00;&#x4E2A;&#x91CD;&#x8F7D;&#x65B9;&#x6CD5;&#xFF0C;resolve &#x53C2;&#x6570;&#x4EE3;&#x8868;&#x662F;&#x5426;&#x751F;&#x5B58; class &#x5BF9;&#x8C61;&#x7684;&#x540C;&#x65F6;&#x89E3;&#x6790;&#x76F8;&#x5173;&#x64CD;&#x4F5C;&#x3002;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> Class&lt;?&gt; loadClass(String name, <span class="keyword">boolean</span> resolve) <span class="keyword">throws</span> ClassNotFoundException{</span><br><span class="line">  <span class="keyword">synchronized</span> (getClassLoadingLock(name)){</span><br><span class="line">    <span class="comment">//&#x5148;&#x4ECE;&#x7F13;&#x5B58;&#x67E5;&#x627E;&#x8BE5;class&#x5BF9;&#x8C61;&#xFF0C;&#x627E;&#x5230;&#x5C31;&#x4E0D;&#x7528;&#x91CD;&#x65B0;&#x52A0;&#x8F7D;</span></span><br><span class="line">    Class&lt;?&gt; c = findLoadedClass(name);</span><br><span class="line">    <span class="keyword">if</span>(c == <span class="keyword">null</span>){</span><br><span class="line">      <span class="keyword">long</span> t0 = System.nanoTime();</span><br><span class="line">      <span class="keyword">try</span>{</span><br><span class="line">        <span class="keyword">if</span>(parent !=<span class="keyword">null</span>){</span><br><span class="line">          <span class="comment">//&#x5982;&#x679C;&#x627E;&#x4E0D;&#x5230;&#xFF0C;&#x5219;&#x59D4;&#x6258;&#x7ED9;&#x7236;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x52A0;&#x8F7D;</span></span><br><span class="line">          c = parent.loadClass(name,<span class="keyword">false</span>);</span><br><span class="line">        }<span class="keyword">else</span>{</span><br><span class="line">          <span class="comment">//&#x5982;&#x679C;&#x6CA1;&#x6709;&#x7236;&#x7C7B;&#xFF0C;&#x5219;&#x59D4;&#x6258;&#x7ED9;&#x542F;&#x52A8;&#x52A0;&#x8F7D;&#x5668;&#x53BB;&#x52A0;&#x8F7D;</span></span><br><span class="line">          c = findBootstrapClassOrNull(name);</span><br><span class="line">        }<span class="keyword">catch</span>(ClassNotFoundException e){</span><br><span class="line">          ...</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(c == <span class="keyword">null</span>){</span><br><span class="line">          <span class="comment">//&#x5982;&#x679C;&#x6CA1;&#x6709;&#x627E;&#x5230;&#xFF0C;&#x5219;&#x901A;&#x8FC7;&#x81EA;&#x5B9A;&#x4E49;&#x5B9E;&#x73B0;&#x7684;findClass&#x53BB;&#x67E5;&#x627E;&#x5E76;&#x52A0;&#x8F7D;</span></span><br><span class="line">          c  = findClass(name);</span><br><span class="line">        }</span><br><span class="line">      }</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span>(resolve){<span class="comment">//&#x662F;&#x5426;&#x9700;&#x8981;&#x8F7D;&#x52A0;&#x8F7D;&#x65F6;&#x8FDB;&#x884C;&#x89E3;&#x6790;</span></span><br><span class="line">        resolveClass(c);</span><br><span class="line">      }</span><br><span class="line">      <span class="keyword">return</span> c;</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x6B63;&#x5982; <code>loadClass</code>&#x65B9;&#x6CD5;&#x6240;&#x5C55;&#x793A;&#x7684;&#xFF0C;&#x5F53;&#x7C7B;&#x52A0;&#x8F7D;&#x8BF7;&#x6C42;&#x5230;&#x6765;&#x65F6;&#xFF0C;&#x5148;&#x4ECE;&#x7F13;&#x5B58;&#x4E2D;&#x67E5;&#x627E;&#x8BE5;&#x7C7B;&#x5BF9;&#x8C61;&#xFF0C;&#x5982;&#x679C;&#x5B58;&#x5728;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x4EA4;&#x7ED9;&#x8BE5;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x7684;&#x7236;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#xFF0C;&#x82E5;&#x6CA1;&#x6709;&#x7236;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x5219;&#x4EA4;&#x7ED9;&#x9876;&#x5C42;&#x542F;&#x52A8;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x53BB;&#x52A0;&#x8F7D;&#xFF0C;&#x82E5;&#x6700;&#x540E;&#x6CA1;&#x6709;&#x627E;&#x5230;&#xFF0C;&#x5219;&#x4F7F;&#x7528;<code>findClass()</code>&#x65B9;&#x6CD5;&#x53BB;&#x52A0;&#x8F7D;&#x3002;&#x4ECE;<code>loadClass</code>&#x5B9E;&#x73B0;&#x4E5F;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#x5982;&#x679C;&#x4E0D;&#x60F3;&#x91CD;&#x65B0;&#x5B9A;&#x4E49;&#x52A0;&#x8F7D;&#x7C7B;&#x7684;&#x89C4;&#x5219;&#xFF0C;&#x4E5F;&#x6CA1;&#x6709;&#x590D;&#x6742;&#x7684;&#x903B;&#x8F91;&#xFF0C;&#x53EA;&#x60F3;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x52A0;&#x8F7D;&#x81EA;&#x5B9A;&#x6307;&#x5B9A;&#x7684;&#x7C7B;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;<code>this.getClass().getClassLoder.loadClass(&quot;className&quot;)</code>,&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x8C03;&#x7528;<code>ClassLoader</code>&#x7684; loadClass &#x65B9;&#x6CD5;&#x83B7;&#x53D6;&#x5230; class &#x5BF9;&#x8C61;&#x3002;</p></li>
<li><p><code>findCLass(String)</code></p>
<p>&#x8F7D; JDK1.2 &#x4E4B;&#x524D;&#xFF0C;&#x5728;&#x81EA;&#x5B9A;&#x4E49;&#x7C7B;&#x52A0;&#x8F7D;&#x65F6;&#xFF0C;&#x603B;&#x4F1A;&#x53BB;&#x7EE7;&#x627F; ClassLoader &#x7C7B;&#x5E76;&#x91CD;&#x5199; loadClass &#x65B9;&#x6CD5;&#xFF0C;&#x4ECE;&#x800C;&#x5B9E;&#x73B0;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#xFF0C;&#x4F46;&#x662F;&#x5728; JDK1.2 &#x4E4B;&#x540E;&#x5DF2;&#x4E0D;&#x518D;&#x5EFA;&#x8BAE;&#x7528;&#x6237;&#x53BB;&#x8986;&#x76D6;<code>loadCLass()</code>&#x65B9;&#x6CD5;&#xFF0C;&#x800C;&#x662F;&#x5EFA;&#x8BAE;&#x628A;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x7C7B;&#x52A0;&#x8F7D;&#x903B;&#x8F91;&#x5199;&#x5728;<code>findClass()</code>&#x65B9;&#x6CD5;&#x4E2D;&#xFF0C;&#x4ECE;&#x524D;&#x9762;&#x7684;&#x5206;&#x6790;&#x53EF;&#x77E5;&#xFF0C;<code>findClass()</code>&#x65B9;&#x6CD5;&#x662F;<code>loadClass()</code>&#x65B9;&#x6CD5;&#x4E2D;&#x88AB;&#x8C03;&#x7528;&#x7684;&#xFF0C;&#x5F53;<code>loadClass()</code>&#x65B9;&#x6CD5;&#x4E2D;&#x7236;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x52A0;&#x8F7D;&#x5931;&#x8D25;&#x540E;&#xFF0C;&#x5219;&#x4F1A;&#x8C03;&#x7528;&#x81EA;&#x5DF1;&#x7684;<code>findClass()</code>&#x65B9;&#x6CD5;&#x6765;&#x5B8C;&#x6210;&#x7C7B;&#x52A0;&#x8F7D;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x4E5F;&#x7B26;&#x5408;&#x53CC;&#x4EB2;&#x59D4;&#x6D3E;&#x6A21;&#x5F0F;&#x3002;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;<code>ClassLoader</code>&#x7C7B;&#x4E2D;&#x5E76;&#x6CA1;&#x6709;&#x5B9E;&#x73B0;<code>findClass()</code>&#x65B9;&#x6CD5;&#x7684;&#x5177;&#x4F53;&#x903B;&#x8F91;&#xFF0C;&#x53D6;&#x800C;&#x4EE3;&#x4E4B;&#x7684;&#x662F;&#x629B;&#x51FA;<code>ClassNotFoundException</code>&#x4E00;&#x573A;&#xFF0C;&#x540C;&#x65F6;&#x5E94;&#x8BE5;&#x77E5;&#x9053;&#x7684;&#x662F;&#xFF40;<code>findClass</code>&#x65B9;&#x6CD5;&#x901A;&#x5E38;&#x662F;&#x548C;<code>defineClass</code>&#x65B9;&#x6CD5;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x7684;&#xFF0C;<code>ClassLoader</code>&#x7C7B;&#x4E2D;<code>findCLass</code>&#x65B9;&#x6CD5;&#x6E90;&#x7801;&#x5982;&#x4E0B;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//&#x76F4;&#x63A5;&#x629B;&#x51FA;&#x5F02;&#x5E38;</span></span><br><span class="line"><span class="keyword">protected</span> Class&lt;?&gt; findClass(String name) <span class="keyword">throws</span> ClassNotFoundException {</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> ClassNotFoundException(name);</span><br><span class="line">}</span><br></pre></td></tr></table></figure></li>
<li><p><code>defineClass(byte[] b, int off ,int len)</code></p>
<p><code>defineClass()</code>&#x65B9;&#x6CD5;&#x662F;&#x7528;&#x6765;&#x5C06; byte &#x5B57;&#x8282;&#x6D41;&#x89E3;&#x6790;&#x6210; JVM &#x80FD;&#x591F;&#x8BC6;&#x522B;&#x7684; Class &#x5BF9;&#x8C61;(<code>CLassLoader</code>&#x4E2D;&#x5DF2;&#x5B9E;&#x73B0;&#x8BE5;&#x65B9;&#x6CD5;&#x903B;&#x8F91;)&#xFF0C;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A; &#x65B9;&#x6CD5;&#x4E0D;&#x4EC5;&#x80FD;&#x591F;&#x901A;&#x8FC7; class &#x6587;&#x4EF6;&#x5B9E;&#x4F8B;&#x5316; class &#x5BF9;&#x8C61;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5176;&#x4ED6;&#x65B9;&#x6CD5;&#x5B9E;&#x4F8B;&#x5316; class &#x5BF9;&#x8C61;&#xFF0C;&#x5982;&#x679C;&#x901A;&#x8FC7;&#x7F51;&#x7EDC;&#x63A5;&#x53D7;&#x4E00;&#x4E2A;&#x7C7B;&#x7684;&#x5B57;&#x8282;&#x7801;&#xFF0C;&#x7136;&#x540E;&#x8F6C;&#x6362;&#x4E3A; byte &#x5B57;&#x8282;&#x6D41;&#x521B;&#x5EFA;&#x5BF9;&#x5E94;&#x7684; Class &#x5BF9;&#x8C61;&#xFF0C;<code>defineClass()</code>&#x65B9;&#x6CD5;&#x901A;&#x5E38;&#x4E0E;<code>findClass()</code>&#x65B9;&#x6CD5;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#xFF0C;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5728;&#x81EA;&#x5B9A;&#x4E49;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x65F6;&#xFF0C;&#x4F1A;&#x76F4;&#x63A5;&#x8986;&#x76D6;<code>ClassLoader</code>&#x7684;<code>findClass()</code>&#x65B9;&#x6CD5;&#x5E76;&#x7F16;&#x5199;&#x52A0;&#x8F7D;&#x89C4;&#x5219;&#xFF0C;&#x53D6;&#x5F97;&#x8981;&#x52A0;&#x8F7D;&#x7C7B;&#x7684;&#x5B57;&#x8282;&#x7801;&#x540E;&#x8F6C;&#x5316;&#x4E3A;&#x6D41;&#xFF0C;&#x7136;&#x540E;&#x8C03;&#x7528;<code>defineClass()</code>&#x65B9;&#x6CD5;&#x751F;&#x6210;&#x7C7B;&#x7684; Class &#x5BF9;&#x8C61;&#xFF0C;&#x7B80;&#x5355;&#x4F8B;&#x5B50;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> Class&lt;?&gt; findClass(String name) <span class="keyword">throws</span> ClassNotFoundException {</span><br><span class="line">      <span class="comment">// &#x83B7;&#x53D6;&#x7C7B;&#x7684;&#x5B57;&#x8282;&#x6570;&#x7EC4;</span></span><br><span class="line">      <span class="keyword">byte</span>[] classData = getClassData(name);</span><br><span class="line">      <span class="keyword">if</span> (classData == <span class="keyword">null</span>) {</span><br><span class="line">          <span class="keyword">throw</span> <span class="keyword">new</span> ClassNotFoundException();</span><br><span class="line">      } <span class="keyword">else</span> {</span><br><span class="line">          <span class="comment">//&#x4F7F;&#x7528;defineClass&#x751F;&#x6210;class&#x5BF9;&#x8C61;</span></span><br><span class="line">          <span class="keyword">return</span> defineClass(name, classData, <span class="number">0</span>, classData.length);</span><br><span class="line">      }</span><br><span class="line">  }</span><br></pre></td></tr></table></figure>
<p>&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x76F4;&#x63A5;&#x8C03;&#x7528;<code>defineClass()</code>&#x65B9;&#x6CD5;&#x751F;&#x6210;&#x7C7B;&#x7684; Class &#x5BF9;&#x8C61;&#xFF0C;&#x8FD9;&#x4E2A;&#x7C7B;&#x7684; Class &#x5BF9;&#x8C61;&#x5E76;&#x6CA1;&#x6709;&#x89E3;&#x6790;(&#x4E5F;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x94FE;&#x63A5;&#x9636;&#x6BB5;&#xFF0C;&#x6BD5;&#x7ADF;&#x89E3;&#x6790;&#x662F;&#x94FE;&#x63A5;&#x7684;&#x6700;&#x540E;&#x4E00;&#x6B65;)&#xFF0C;&#x5176;&#x89E3;&#x6790;&#x64CD;&#x4F5C;&#x9700;&#x8981;&#x7B49;&#x5F85;&#x521D;&#x59CB;&#x5316;&#x9636;&#x6BB5;&#x8FDB;&#x884C;&#x3002;</p></li>
<li><p><code>resolveClass(Class&lt;?&gt; c)</code></p>
<p>&#x4F7F;&#x7528;&#x8BE5;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x4F7F;&#x7C7B;&#x7684; Class &#x5BF9;&#x8C61;&#x521B;&#x5EFA;&#x5B8C;&#x6210;&#x4E5F;&#x540C;&#x65F6;&#x88AB;&#x89E3;&#x6790;&#x3002;&#x524D;&#x9762;&#x6211;&#x4EEC;&#x8BF4;&#x7684;&#x94FE;&#x63A5;&#x9636;&#x6BB5;&#x4E3B;&#x8981;&#x662F;&#x5BF9;&#x5B57;&#x8282;&#x7801;&#x8FDB;&#x884C;&#x9A8C;&#x8BC1;&#xFF0C;&#x4E3A;&#x7C7B;&#x53D8;&#x91CF;&#x5206;&#x914D;&#x5185;&#x5B58;&#x5E76;&#x8BBE;&#x7F6E;&#x521D;&#x59CB;&#x503C;&#x540C;&#x65F6;&#x5C06;&#x5B57;&#x8282;&#x7801;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x7B26;&#x53F7;&#x5F15;&#x7528;&#x8F6C;&#x6362;&#x4E3A;&#x76F4;&#x63A5;&#x5F15;&#x7528;&#x3002;</p>
<p>&#x4E0A;&#x8FF0; 4 &#x4E2A;&#x65B9;&#x6CD5;&#x662F;<code>ClassLoader</code>&#x7C7B;&#x4E2D;&#x7684;&#x6BD4;&#x8F83;&#x91CD;&#x8981;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x4E5F;&#x662F;&#x6211;&#x4EEC;&#x53EF;&#x80FD;&#x4F1A;&#x7ECF;&#x5E38;&#x7528;&#x5230;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x63A5;&#x7740;&#x770B;<code>SercureClassLoader</code>&#x6269;&#x5C55;&#x4E86;<code>ClassLoader</code>&#xFF0C;&#x65B0;&#x589E;&#x4E86;&#x51E0;&#x4E2A;&#x4E0E;&#x4F7F;&#x7528;&#x76F8;&#x5173;&#x7684;&#x4EE3;&#x7801;&#x6E90;(&#x5BF9;&#x4EE3;&#x7801;&#x6E90;&#x7684;&#x4F4D;&#x7F6E;&#x53CA;&#x8BC1;&#x4E66;&#x7684;&#x9A8C;&#x8BC1;)&#x548C;&#x6743;&#x9650;&#x5B9A;&#x4E49;&#x7C7B;&#x9A8C;&#x8BC1;(&#x4E3B;&#x8981;&#x662F;&#x6307;&#x5BF9; class &#x6E90;&#x7801;&#x7684;&#x8BBF;&#x95EE;&#x6743;&#x9650;)&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x4E00;&#x822C;&#x6211;&#x4EEC;&#x4E0D;&#x4F1A;&#x76F4;&#x63A5;&#x8DDF;&#x8FD9;&#x4E2A;&#x7C7B;&#x6253;&#x4EA4;&#x9053;&#xFF0C;&#x66F4;&#x591A;&#x662F;&#x4E0E;&#x5B83;&#x7684;&#x5B50;&#x7C7B;<code>URLClassLoader</code>&#x6709;&#x6240;&#x5173;&#x8054;&#xFF0C;&#x524D;&#x9762;&#x8BF4;&#x8FC7;&#xFF0C;<code>ClassLoader</code>&#x662F;&#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x7C7B;&#xFF0C;&#x5F88;&#x591A;&#x65B9;&#x6CD5;&#x662F;&#x7A7A;&#x7684;&#x6CA1;&#x6709;&#x5B9E;&#x73B0;&#xFF0C;&#x5E76;&#x65B0;&#x589E;&#x4E86;<code>URLClassPath</code>&#x7C7B;&#x534F;&#x52A9;&#x53D6;&#x5F97; Class &#x5B57;&#x8282;&#x7801;&#x6D41;&#x7B49;&#x529F;&#x80FD;&#xFF0C;&#x5728;&#x7F16;&#x5199;&#x81EA;&#x5B9A;&#x4E49;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x592A;&#x8FC7;&#x4E8E;&#x590D;&#x6742;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x96C6;&#x6210;<code>URLClassLoader</code>&#x7C7B;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x907F;&#x514D;&#x81EA;&#x5DF1;&#x53BB;&#x7F16;&#x5199;<code>findClass()</code>&#x65B9;&#x6CD5;&#x53CA;&#x83B7;&#x53D6;&#x5B57;&#x8282;&#x7801;&#x6D41;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x4F7F;&#x81EA;&#x5B9A;&#x4E49;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x7F16;&#x5199;&#x66F4;&#x52A0;&#x7B80;&#x6D01;&#xFF0C;&#x4E0B;&#x9762;&#x662F;<code>URLClassLoader</code>&#x7684;&#x7C7B;&#x56FE; <img src="/images/java&#x7C7B;&#x52A0;&#x8F7D;&#x673A;&#x5236;_2020-04-23-10-54-38.png" alt="java&#x7C7B;&#x52A0;&#x8F7D;&#x673A;&#x5236;_2020-04-23-10-54-38.png"></p></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://leaderli.github.io/2020/04/23/java字节码/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lijun">
      <meta itemprop="description" content="与其感慨路难行，不如马上就出发">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="大狗哥传奇">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2020/04/23/java字节码/" class="post-title-link" itemprop="url">java字节码</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-04-23 10:04:27" itemprop="dateCreated datePublished" datetime="2020-04-23T10:04:27+08:00">2020-04-23</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-09-29 14:00:16" itemprop="dateModified" datetime="2020-09-29T14:00:16+08:00">2020-09-29</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="&#x57FA;&#x7840;&#x6982;&#x5FF5;">&#x57FA;&#x7840;&#x6982;&#x5FF5;</h2>
<p><code>JVM</code>&#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;&#x6808;&#x7684;&#x67B6;&#x6784;&#xFF0C;&#x6BCF;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x7528;&#x6765;&#x5B58;&#x50A8;&#x5E27;&#x96C6;<code>(frames)</code>&#x7684;<code>JVM</code> &#x6808;&#xFF0C;&#x6BCF;&#x6B21;&#x65B9;&#x6CD5;&#x88AB;&#x8C03;&#x7528;&#x7684;&#x65F6;&#x5019;(&#x5305;&#x542B;<code>main</code>&#x65B9;&#x6CD5;)&#xFF0C;&#x5728;&#x6808;&#x4E0A;&#x4F1A;&#x5206;&#x914D;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5E27;&#x3002;&#x8FD9;&#x4E2A;&#x5E27;&#x5305;&#x542B;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x6570;&#x7EC4;&#xFF0C;&#x64CD;&#x4F5C;&#x6570;&#x6808;&#xFF0C;&#x5E38;&#x91CF;&#x6C60;&#x6307;&#x9488;,&#x7A0B;&#x5E8F;&#x8BA1;&#x6570;&#x5668;&#xFF0C;&#x52A8;&#x6001;&#x94FE;&#x63A5;&#xFF0C;&#x8FD4;&#x56DE;&#x5730;&#x5740;&#x3002; &#x4ECE;&#x6982;&#x5FF5;&#x6765;&#x8BF4;&#xFF0C;&#x5E27;&#x7684;&#x60C5;&#x51B5;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A; <img src="/images/java&#x5B57;&#x8282;&#x7801;_2020-04-25-12-51-54.png" alt="java&#x5B57;&#x8282;&#x7801;_2020-04-25-12-51-54.png"> <img src="/images/java&#x5B57;&#x8282;&#x7801;_2020-04-23-10-46-50.png" alt="java&#x5B57;&#x8282;&#x7801;_2020-04-23-10-46-50.png"></p>
<h2 id="&#x53D8;&#x91CF;">&#x53D8;&#x91CF;</h2>
<h3 id="&#x5C40;&#x90E8;&#x53D8;&#x91CF;">&#x5C40;&#x90E8;&#x53D8;&#x91CF;</h3>
<p>&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x7684;&#x6570;&#x7EC4;&#x4E5F;&#x79F0;&#x4E3A;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x8868;&#xFF0C;&#x5305;&#x62EC;&#x65B9;&#x6CD5;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x5B83;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x5B58;&#x50A8;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x7684;&#x503C;&#x3002;&#x9996;&#x5148;&#x5B58;&#x653E;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x4ECE;&#x5730;&#x5740; 0 &#x5F00;&#x59CB;&#x7F16;&#x7801;&#x3002;&#x5982;&#x679C;&#x5E27;&#x662F;&#x4E00;&#x4E2A;&#x6784;&#x9020;&#x5668;&#x6216;&#x8005;&#x5B9E;&#x4F8B;&#x65B9;&#x6CD5;&#xFF0C;<code>this</code>&#x5F15;&#x7528;&#x8BB2;&#x5B58;&#x50A8;&#x5728;&#x5730;&#x5740; 0 &#x4E2D;&#xFF0C;&#x5730;&#x5740; 1 &#x5B58;&#x653E;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x5730;&#x5740; 2 &#x5B58;&#x653E;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x4F9D;&#x6B21;&#x7C7B;&#x63A8;&#x3002;&#x5982;&#x679C;&#x5E27;&#x662F;&#x4E00;&#x4E2A;&#x9759;&#x6001;&#x65B9;&#x6CD5;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x53C2;&#x6570;&#x4F1A;&#x5B58;&#x5728;&#x5730;&#x5740; 0 &#x4E2D;&#xFF0C;&#x5730;&#x5740; 1 &#x5B58;&#x653E;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x4F9D;&#x6B21;&#x7C7B;&#x63A8;&#x3002;</p>
<p>&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x6570;&#x7EC4;&#x7684;&#x5927;&#x5C0F;&#x662F;&#x5728;&#x7F16;&#x8BD1;&#x671F;&#x51B3;&#x5B9A;&#x7684;&#xFF0C;&#x5B83;&#x53D6;&#x51B3;&#x4E8E;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x548C;&#x6B63;&#x5E38;&#x65B9;&#x6CD5;&#x53C2;&#x6570;&#x7684;&#x6570;&#x91CF;&#x548C;&#x5927;&#x5C0F;&#x3002;&#x64CD;&#x4F5C;&#x6808;&#x662F;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;<code>push</code> &#x548C;<code>pop</code> &#x503C;&#x7684;&#x540E;&#x8FDB;&#x5148;&#x51FA;&#x7684;&#x6808;&#xFF0C;&#x5B83;&#x7684;&#x5927;&#x5C0F;&#x4E5F;&#x662F;&#x5728;&#x7F16;&#x8BD1;&#x5668;&#x51B3;&#x5B9A;&#x7684;&#x3002;&#x4E00;&#x4E9B;&#x64CD;&#x4F5C;&#x7801;&#x6307;&#x4EE4;&#x5C06;&#x503C;<code>push</code> &#x5230;&#x64CD;&#x4F5C;&#x6808;&#xFF0C;&#x5176;&#x5B83;&#x7684;&#x64CD;&#x4F5C;&#x7801;&#x4ECE;&#x6808;&#x4E0A;&#x83B7;&#x53D6;&#x64CD;&#x4F5C;&#x6570;&#xFF0C;&#x64CD;&#x4F5C;&#x5B83;&#x4EEC;&#xFF0C;&#x5E76;&#x5C06;&#x503C;<code>push</code> &#x56DE;&#x53BB;&#x3002;&#x64CD;&#x4F5C;&#x6808;&#x5E38;&#x7528;&#x6765;&#x63A5;&#x6536;&#x65B9;&#x6CD5;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x3002;</p>
<p>&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x53EF;&#x4EE5;&#x662F;&#x4EE5;&#x4E0B;&#x51E0;&#x79CD;&#x7C7B;&#x578B;&#xFF1A;</p>
<blockquote>
<p>char long short int double float &#x5F15;&#x7528; &#x8FD4;&#x56DE;&#x5730;&#x5740;</p>
</blockquote>
<p>&#x9664;&#x4E86;<code>long</code>&#x548C;<code>double</code>&#x7C7B;&#x578B;&#xFF0C;&#x6BCF;&#x4E2A;&#x53D8;&#x91CF;&#x90FD;&#x53EA;&#x5360;&#x7528;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x533A;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#x69FD;(<code>slot</code>)&#xFF0C;&#x800C;<code>long</code>&#x548C; <code>double</code>&#x53EA;&#x6240;&#x4EE5;&#x4F1A;&#x5360;&#x7528;&#x4E24;&#x4E2A;&#x53D8;&#x91CF;&#x69FD;(<code>slot</code>)&#xFF0C;&#x56E0;&#x4E3A;<code>long</code>&#x548C;<code>double</code>&#x662F; 64 &#x4F4D;&#x7684;&#x3002;</p>
<p>&#x5F53;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x53D8;&#x91CF;&#x521B;&#x5EFA;&#x65F6;&#xFF0C;&#x64CD;&#x4F5C;&#x6570;&#x6808;(<code>Operand stack</code>)&#x4F1A;&#x5B58;&#x50A8;&#x8FD9;&#x4E2A;&#x65B0;&#x53D8;&#x91CF;&#x7684;&#x503C;&#x3002;&#x7136;&#x540E;&#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#x4F1A;&#x88AB;&#x5B58;&#x50A8;&#x5230;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x8868;&#x4E2D;&#x5BF9;&#x5E94;&#x7684;&#x4F4D;&#x7F6E;&#x4E0A;&#x3002;&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#x4E0D;&#x662F;&#x57FA;&#x7840;&#x7C7B;&#x578B;&#x7684;&#x8BDD;&#xFF0C;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x69FD;&#x5B58;&#x7684;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x5F15;&#x7528;&#xFF0C;&#x8FD9;&#x4E2A;&#x5F15;&#x7528;&#x6307;&#x5411;&#x5806;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x3002;</p>
<p>&#x6BD4;&#x5982;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i = <span class="number">5</span>;</span><br></pre></td></tr></table></figure>
<p>&#x7F16;&#x8BD1;&#x540E;&#x5C31;&#x53D8;&#x6210;&#x4E86;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span>: bipush      <span class="number">5</span> <span class="comment">//&#x7528;&#x6765;&#x5C06;&#x4E00;&#x4E2A;&#x5B57;&#x8282;&#x4F5C;&#x4E3A;&#x6574;&#x578B;&#x6570;&#x5B57;&#x538B;&#x5165;&#x64CD;&#x4F5C;&#x6570;&#x6808;&#x4E2D;&#xFF0C;&#x5728;&#x8FD9;&#x91CC;5&#x5C31;&#x4F1A;&#x88AB;&#x538B;&#x5165;&#x64CD;&#x4F5C;&#x6570;&#x6808;&#x4E0A;&#x3002;</span></span><br><span class="line"><span class="number">2</span>: istore_0 <span class="comment">//&#x8FD9;&#x662F;istore_&#x8FD9;&#x7EC4;&#x6307;&#x4EE4;&#x96C6;&#xFF08;&#x8BD1;&#x6CE8;&#xFF1A;&#x4E25;&#x683C;&#x6765;&#x8BF4;&#xFF0C;&#x8FD9;&#x4E2A;&#x5E94;&#x8BE5;&#x53EB;&#x505A;&#x64CD;&#x4F5C;&#x7801;&#xFF0C;opcode ,&#x6307;&#x4EE4;&#x662F;&#x6307;&#x64CD;&#x4F5C;&#x7801;&#x52A0;&#x4E0A;&#x5BF9;&#x5E94;&#x7684;&#x64CD;&#x4F5C;&#x6570;&#xFF0C;oprand&#x3002;&#x4E0D;&#x8FC7;&#x64CD;&#x4F5C;&#x7801;&#x4E00;&#x822C;&#x4F5C;&#x4E3A;&#x6307;&#x4EE4;&#x7684;&#x52A9;&#x8BB0;&#x7B26;&#xFF0C;&#x8FD9;&#x91CC;&#x7EDF;&#x79F0;&#x4E3A;&#x6307;&#x4EE4;&#xFF09;&#x4E2D;&#x7684;&#x4E00;&#x6761;&#xFF0C;&#x8FD9;&#x7EC4;&#x6307;&#x4EE4;&#x662F;&#x5C06;&#x4E00;&#x4E2A;&#x6574;&#x578B;&#x6570;&#x5B57;&#x5B58;&#x50A8;&#x5230;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x4E2D;&#x3002;n&#x4EE3;&#x8868;&#x7684;&#x662F;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x533A;&#x4E2D;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x5E76;&#x4E14;&#x53EA;&#x80FD;&#x662F;0,1,2,3&#x3002;&#x518D;&#x591A;&#x7684;&#x8BDD;&#x53EA;&#x80FD;&#x7528;&#x53E6;&#x4E00;&#x6761;&#x6307;&#x4EE4;istore&#x4E86;&#xFF0C;&#x8FD9;&#x6761;&#x6307;&#x4EE4;&#x4F1A;&#x63A5;&#x53D7;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x6570;&#xFF0C;&#x5BF9;&#x5E94;&#x7684;&#x662F;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x533A;&#x4E2D;&#x7684;&#x4F4D;&#x7F6E;&#x4FE1;&#x606F;&#x3002;</span></span><br></pre></td></tr></table></figure>
<p>&#x8FD9;&#x6761;&#x6307;&#x4EE4;&#x6267;&#x884C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5185;&#x5B58;&#x5E03;&#x5C40;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A; <img src="/images/java&#x5B57;&#x8282;&#x7801;_2020-04-23-10-47-55.png" alt="java&#x5B57;&#x8282;&#x7801;_2020-04-23-10-47-55.png"></p>
<p>&#x6BCF;&#x4E2A;&#x65B9;&#x6CD5;&#x90FD;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x8868;&#xFF0C;&#x5982;&#x679C;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x5728;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x91CC;&#x9762;&#x7684;&#x8BDD;&#xFF0C;&#x4F60;&#x4F1A;&#x5728;&#x65B9;&#x6CD5;&#x7684;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x8868;&#x4E2D;&#x53D1;&#x73B0;&#x5982;&#x4E0B;&#x4FE1;&#x606F; <img src="/images/java&#x5B57;&#x8282;&#x7801;_2020-04-23-10-48-09.png" alt="java&#x5B57;&#x8282;&#x7801;_2020-04-23-10-48-09.png"></p>
<h3 id="&#x7C7B;&#x5B57;&#x6BB5;">&#x7C7B;&#x5B57;&#x6BB5;</h3>
<p>java &#x7C7B;&#x91CC;&#x9762;&#x7684;&#x5B57;&#x6BB5;&#x4F5C;&#x4E3A;&#x7C7B;&#x5BF9;&#x8C61;&#x5B9E;&#x4F8B;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x5B58;&#x50A8;&#x5728;&#x5806;&#x91CC;(&#x7C7B;&#x53D8;&#x91CF;&#x5B58;&#x50A8;&#x5728;&#x5BF9;&#x5E94;&#x7C7B;&#x5BF9;&#x8C61;&#x91CC;)&#x3002;&#x5173;&#x4E8E;&#x5B57;&#x6BB5;&#x7684;&#x4FE1;&#x606F;&#x4F1A;&#x6DFB;&#x52A0;&#x5230;&#x7C7B;&#x7684;<code>field_info</code> &#x6570;&#x7EC4;&#x91CC;&#xFF0C;&#x50CF;&#x4E0B;&#x9762;&#x8FD9;&#x6837;</p>
<figure>
<img src="/images/java&#x5B57;&#x8282;&#x7801;_2020-04-23-10-48-26.png" alt="java&#x5B57;&#x8282;&#x7801;_2020-04-23-10-48-26.png"><figcaption>java&#x5B57;&#x8282;&#x7801;_2020-04-23-10-48-26.png</figcaption>
</figure>
<p>&#x53E6;&#x5916;&#x5982;&#x679C;&#x53D8;&#x91CF;&#x88AB;&#x521D;&#x59CB;&#x5316;&#x4E86;&#xFF0C;&#x90A3;&#x4E48;&#x521D;&#x59CB;&#x5316;&#x7684;&#x5B57;&#x8282;&#x7801;&#x4F1A;&#x6DFB;&#x52A0;&#x5230;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x91CC;&#x3002; &#x4E0B;&#x9762;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x7F16;&#x8BD1;&#x4E4B;&#x540E;&#xFF1A;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SimpleClass</span> </span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> simpleField = <span class="number">100</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x5982;&#x679C;&#x4F60;&#x7528; javap &#x8FDB;&#x884C;&#x53CD;&#x7F16;&#x8BD1;&#xFF0C;&#x8FD9;&#x4E2A;&#x88AB;&#x6DFB;&#x52A0;&#x5230;&#x4E86; field_info &#x6570;&#x7EC4;&#x91CC;&#x7684;&#x5B57;&#x6BB5;&#x5C31;&#x4F1A;&#x591A;&#x4E86;&#x4E00;&#x6BB5;&#x63CF;&#x8FF0;&#xFF1A;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span> simpleField;</span><br><span class="line">    Signature: I</span><br><span class="line">    flags: ACC_PUBLIC</span><br></pre></td></tr></table></figure>
<p>&#x521D;&#x59CB;&#x5316;&#x53D8;&#x91CF;&#x7684;&#x5B57;&#x8282;&#x7801;&#x4F1A;&#x88AB;&#x52A0;&#x5230;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x91CC;&#xFF0C;&#x50CF;&#x4E0B;&#x9762;&#x8FD9;&#x6837;&#xFF1A;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">SimpleClass</span><span class="params">()</span></span>;</span><br><span class="line">  Signature: ()V</span><br><span class="line">  flags: ACC_PUBLIC</span><br><span class="line">  Code:</span><br><span class="line">    stack=<span class="number">2</span>, locals=<span class="number">1</span>, args_size=<span class="number">1</span></span><br><span class="line">       <span class="number">0</span>: aload_0</span><br><span class="line">       1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V</span><br><span class="line">       <span class="number">4</span>: aload_0</span><br><span class="line">       <span class="number">5</span>: bipush        <span class="number">100</span></span><br><span class="line">       7: putfield      #2                  // Field simpleField:I</span><br><span class="line">      <span class="number">10</span>: <span class="keyword">return</span></span><br></pre></td></tr></table></figure>
<p>&#x4E0A;&#x8FF0;&#x4EE3;&#x7801;&#x6267;&#x884C;&#x7684;&#x65F6;&#x5019;&#x5185;&#x5B58;&#x91CC;&#x9762;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A; <img src="/images/java&#x5B57;&#x8282;&#x7801;_2020-04-23-10-48-45.png" alt="java&#x5B57;&#x8282;&#x7801;_2020-04-23-10-48-45.png"></p>
<p>&#x8FD9;&#x91CC;&#x7684; putfield &#x6307;&#x4EE4;&#x7684;&#x64CD;&#x4F5C;&#x6570;&#x5F15;&#x7528;&#x7684;&#x5E38;&#x91CF;&#x6C60;&#x91CC;&#x7684;&#x7B2C;&#x4E8C;&#x4E2A;&#x4F4D;&#x7F6E;&#xFF0C;JVM &#x4F1A;&#x4E3A;&#x6BCF;&#x4E2A;&#x7C7B;&#x578B;&#x7EF4;&#x62A4;&#x4E00;&#x4E2A;&#x5E38;&#x91CF;&#x6C60;&#xFF0C;&#x8FD0;&#x884C;&#x65F6;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x6709;&#x70B9;&#x7C7B;&#x4F3C;&#x4E00;&#x4E2A;&#x7B26;&#x53F7;&#x8868;&#xFF0C;&#x5C3D;&#x7BA1;&#x5B83;&#x5305;&#x542B;&#x7684;&#x4FE1;&#x606F;&#x66F4;&#x591A;&#x3002;java &#x7684;&#x5B57;&#x8282;&#x7801;&#x64CD;&#x4F5C;&#x9700;&#x8981;&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x592A;&#x5927;&#x4E86;&#xFF0C;&#x5B58;&#x50A8;&#x5728;&#x5B57;&#x8282;&#x7801;&#x91CC;&#x4E0D;&#x5408;&#x9002;&#xFF0C;&#x5B83;&#x4EEC;&#x90FD;&#x88AB;&#x5B58;&#x50A8;&#x5728;&#x5E38;&#x91CF;&#x6C60;&#x91CC;&#xFF0C;&#x800C;&#x5B57;&#x8282;&#x7801;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x5E38;&#x91CF;&#x6C60;&#x7684;&#x5F15;&#x7528;&#xFF0C;&#x5F53;&#x7C7B;&#x6587;&#x4EF6;&#x751F;&#x6210;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5176;&#x4E2D;&#x4E00;&#x5757;&#x5C31;&#x662F;&#x5E38;&#x91CF;&#x6C60;</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Constant pool:</span><br><span class="line">   #1 = Methodref          #4.#16         //  java/lang/Object.&quot;&lt;init&gt;&quot;:()V</span><br><span class="line">   #2 = Fieldref           #3.#17         //  SimpleClass.simpleField:I</span><br><span class="line">   #3 = Class              #13            //  SimpleClass</span><br><span class="line">   #4 = Class              #19            //  java/lang/Object</span><br><span class="line">   #5 = Utf8               simpleField</span><br><span class="line">   #6 = Utf8               I</span><br><span class="line">   #7 = Utf8               &lt;init&gt;</span><br><span class="line">   #8 = Utf8               ()V</span><br><span class="line">   #9 = Utf8               Code</span><br><span class="line">  #10 = Utf8               LineNumberTable</span><br><span class="line">  #11 = Utf8               LocalVariableTable</span><br><span class="line">  #12 = Utf8               this</span><br><span class="line">  #13 = Utf8               SimpleClass</span><br><span class="line">  #14 = Utf8               SourceFile</span><br><span class="line">  #15 = Utf8               SimpleClass.java</span><br><span class="line">  #16 = NameAndType        #7:#8          //  &quot;&lt;init&gt;&quot;:()V</span><br><span class="line">  #17 = NameAndType        #5:#6          //  simpleField:I</span><br><span class="line">  #18 = Utf8               LSimpleClass;</span><br><span class="line">  #19 = Utf8               java/lang/Object</span><br></pre></td></tr></table></figure>
<h3 id="&#x5E38;&#x91CF;&#x5B57;&#x6BB5;&#x7C7B;&#x5E38;&#x91CF;">&#x5E38;&#x91CF;&#x5B57;&#x6BB5;&#xFF08;&#x7C7B;&#x5E38;&#x91CF;&#xFF09;</h3>
<p>&#x5E26;&#x6709;<code>final</code>&#x6807;&#x8BB0;&#x7684;&#x5E38;&#x91CF;&#x5B57;&#x6BB5;&#x5728;<code>class</code>&#x6587;&#x4EF6;&#x91CC;&#x4F1A;&#x88AB;&#x6807;&#x8BB0;&#x6210;<code>ACC_FINAL</code>.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SimpleClass</span> </span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> simpleField = <span class="number">100</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x5B57;&#x6BB5;&#x7684;&#x63CF;&#x8FF0;&#x4FE1;&#x606F;&#x4F1A;&#x6807;&#x8BB0;&#x6210;<code>ACC_FINAL</code>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> simpleField = <span class="number">100</span>;</span><br><span class="line">    Signature: I</span><br><span class="line">    flags: ACC_PUBLIC, ACC_FINAL</span><br><span class="line">    ConstantValue: <span class="keyword">int</span> <span class="number">100</span></span><br></pre></td></tr></table></figure>
<p>&#x5BF9;&#x5E94;&#x7684;&#x521D;&#x59CB;&#x5316;&#x4EE3;&#x7801;&#x5E76;&#x4E0D;&#x53D8;&#xFF1A;</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4</span>: aload_0</span><br><span class="line"><span class="number">5</span>: bipush        <span class="number">100</span></span><br><span class="line">7: putfield      #2                  // Field simpleField:I</span><br></pre></td></tr></table></figure>
<h3 id="&#x9759;&#x6001;&#x53D8;&#x91CF;">&#x9759;&#x6001;&#x53D8;&#x91CF;</h3>
<p>&#x5E26;&#x6709;<code>static</code>&#x4FEE;&#x9970;&#x7B26;&#x7684;&#x9759;&#x6001;&#x53D8;&#x91CF;&#x5219;&#x4F1A;&#x88AB;&#x6807;&#x8BB0;&#x6210;<code>ACC_STATIC</code>&#xFF1A;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> simpleField;</span><br><span class="line">    Signature: I</span><br><span class="line">    flags: ACC_PUBLIC, ACC_STATIC</span><br></pre></td></tr></table></figure>
<p>&#x4E0D;&#x8FC7;&#x5728;&#x5B9E;&#x4F8B;&#x7684;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x4E2D;&#x5374;&#x518D;&#x4E5F;&#x627E;&#x4E0D;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x521D;&#x59CB;&#x5316;&#x4EE3;&#x7801;&#x4E86;&#x3002;&#x56E0;&#x4E3A;<code>static</code>&#x53D8;&#x91CF;&#x4F1A;&#x5728;&#x7C7B;&#x7684;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x4E2D;&#x8FDB;&#x884C;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x5E76;&#x4E14;&#x5B83;&#x7528;&#x7684;&#x662F;<code>putstatic</code>&#x6307;&#x4EE4;&#x800C;&#x4E0D;&#x662F;<code>putfiled</code>&#x3002;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> {};</span><br><span class="line">  Signature: ()V</span><br><span class="line">  flags: ACC_STATIC</span><br><span class="line">  Code:</span><br><span class="line">    stack=<span class="number">1</span>, locals=<span class="number">0</span>, args_size=<span class="number">0</span></span><br><span class="line">       <span class="number">0</span>: bipush         <span class="number">100</span></span><br><span class="line">       2: putstatic      #2                  // Field simpleField:I</span><br><span class="line">       <span class="number">5</span>: <span class="keyword">return</span></span><br></pre></td></tr></table></figure>
<h3 id="&#x52A8;&#x6001;&#x94FE;&#x63A5;">&#x52A8;&#x6001;&#x94FE;&#x63A5;</h3>
<p>&#x6BCF;&#x4E2A;&#x6808;&#x5E27;&#x90FD;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x6307;&#x5411;&#x8FD0;&#x884C;&#x65F6;&#x5E38;&#x91CF;&#x6C60;&#x4E2D;&#x8BE5;&#x6808;&#x5E27;&#x6240;&#x5C5E;&#x65B9;&#x6CD5;&#x7684;&#x5F15;&#x7528;&#xFF0C;&#x6301;&#x6709;&#x8BE5;&#x5F15;&#x7528;&#x662F;&#x4E3A;&#x4E86;&#x652F;&#x6301;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x52A8;&#x6001;&#x8FDE;&#x63A5;&#x3002;</p>
<p>&#x52A8;&#x6001;&#x5206;&#x6D3E;&#x5728; Java &#x4E2D;&#x88AB;&#x5927;&#x91CF;&#x4F7F;&#x7528;&#xFF0C;&#x4F7F;&#x7528;&#x9891;&#x7387;&#x53CA;&#x5176;&#x9AD8;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x6BCF;&#x6B21;&#x52A8;&#x6001;&#x5206;&#x6D3E;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x90FD;&#x8981;&#x91CD;&#x65B0;&#x5728;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;&#x5143;&#x6570;&#x636E;&#x4E2D;&#x641C;&#x7D22;&#x5408;&#x9002;&#x7684;&#x76EE;&#x6807;&#x7684;&#x8BDD;&#x5C31;&#x53EF;&#x80FD;&#x5F71;&#x54CD;&#x5230;&#x6267;&#x884C;&#x6548;&#x7387;&#xFF0C;&#x56E0;&#x6B64; JVM &#x5728;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;&#x533A;&#x4E2D;&#x5EFA;&#x7ACB;&#x865A;&#x65B9;&#x6CD5;&#x8868;&#xFF08;virtual method table&#xFF09;&#x6765;&#x63D0;&#x9AD8;&#x6027;&#x80FD;&#x3002;&#x6BCF;&#x4E2A;&#x7C7B;&#x4E2D;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x865A;&#x65B9;&#x6CD5;&#x8868;&#xFF0C;&#x8868;&#x4E2D;&#x5B58;&#x653E;&#x7740;&#x5404;&#x4E2A;&#x65B9;&#x6CD5;&#x7684;&#x5B9E;&#x9645;&#x5165;&#x53E3;&#x3002;&#x5982;&#x679C;&#x67D0;&#x4E2A;&#x65B9;&#x6CD5;&#x5728;&#x5B50;&#x7C7B;&#x4E2D;&#x6CA1;&#x6709;&#x88AB;&#x91CD;&#x5199;&#xFF0C;&#x90A3;&#x5B50;&#x7C7B;&#x7684;&#x865A;&#x65B9;&#x6CD5;&#x8868;&#x4E2D;&#x8BE5;&#x65B9;&#x6CD5;&#x7684;&#x5730;&#x5740;&#x5165;&#x53E3;&#x548C;&#x7236;&#x7C7B;&#x8BE5;&#x65B9;&#x6CD5;&#x7684;&#x5730;&#x5740;&#x5165;&#x53E3;&#x4E00;&#x6837;&#xFF0C;&#x5373;&#x5B50;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;&#x5165;&#x53E3;&#x6307;&#x5411;&#x7236;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;&#x5165;&#x53E3;&#x3002;&#x5982;&#x679C;&#x5B50;&#x7C7B;&#x91CD;&#x5199;&#x7236;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x90A3;&#x4E48;&#x5B50;&#x7C7B;&#x7684;&#x865A;&#x65B9;&#x6CD5;&#x8868;&#x4E2D;&#x8BE5;&#x65B9;&#x6CD5;&#x7684;&#x5B9E;&#x9645;&#x5165;&#x53E3;&#x5C06;&#x4F1A;&#x88AB;&#x66FF;&#x6362;&#x4E3A;&#x6307;&#x5411;&#x5B50;&#x7C7B;&#x5B9E;&#x73B0;&#x7248;&#x672C;&#x7684;&#x5165;&#x53E3;&#x5730;&#x5740;&#x3002;<br>
&#x90A3;&#x4E48;&#x865A;&#x65B9;&#x6CD5;&#x8868;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x88AB;&#x521B;&#x5EFA;&#xFF1F;&#x865A;&#x65B9;&#x6CD5;&#x8868;&#x4F1A;&#x5728;&#x7C7B;&#x52A0;&#x8F7D;&#x7684;&#x8FDE;&#x63A5;&#x9636;&#x6BB5;&#x88AB;&#x521B;&#x5EFA;&#x5E76;&#x5F00;&#x59CB;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x7C7B;&#x7684;&#x53D8;&#x91CF;&#x521D;&#x59CB;&#x503C;&#x51C6;&#x5907;&#x5B8C;&#x6210;&#x4E4B;&#x540E;&#xFF0C;JVM &#x4F1A;&#x628A;&#x8BE5;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;&#x8868;&#x4E5F;&#x521D;&#x59CB;&#x5316;&#x5B8C;&#x6BD5;&#x3002;</p>
<h3 id="&#x7A0B;&#x5E8F;&#x8BA1;&#x6570;&#x5668;">&#x7A0B;&#x5E8F;&#x8BA1;&#x6570;&#x5668;</h3>
<p>&#x51B3;&#x5B9A;&#x5F53;&#x524D;&#x6267;&#x884C;&#x7684;&#x6307;&#x4EE4;</p>
<h3 id="&#x793A;&#x4F8B;">&#x793A;&#x4F8B;</h3>
<h4 id="&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x7C7B;&#x6211;&#x4EEC;&#x5206;&#x6790;&#x4E00;&#x4E0B;&#x5176;&#x5B57;&#x8282;&#x7801;">&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x7C7B;&#x6211;&#x4EEC;&#x5206;&#x6790;&#x4E00;&#x4E0B;&#x5176;&#x5B57;&#x8282;&#x7801;</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> String employeeName;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">employeeName</span><span class="params">()</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.employeeName;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x67E5;&#x770B;&#x5176;&#x5B57;&#x8282;&#x7801;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">Classfile /Users/li/Downloads/Test.class</span><br><span class="line">  Last modified Mar <span class="number">15</span>, <span class="number">2018</span>; size <span class="number">309</span> bytes</span><br><span class="line">  MD5 checksum <span class="number">4553</span>b41dee731dd099687198deb75de7</span><br><span class="line">  Compiled from <span class="string">&quot;Test.java&quot;</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line">  minor version: 0</span><br><span class="line">  major version: <span class="number">52</span></span><br><span class="line">  flags: ACC_PUBLIC, ACC_SUPER</span><br><span class="line">Constant pool:</span><br><span class="line">   #1 = Methodref          #4.#15         // java/lang/Object.&quot;&lt;init&gt;&quot;:()V</span><br><span class="line">   #2 = Fieldref           #3.#16         // Test.name:Ljava/lang/String;</span><br><span class="line">   #3 = Class              #17            // Test</span><br><span class="line">   #4 = Class              #18            // java/lang/Object</span><br><span class="line">   #5 = Utf8               name</span><br><span class="line">   #6 = Utf8               Ljava/lang/String;</span><br><span class="line">   #7 = Utf8               &lt;init&gt;</span><br><span class="line">   #8 = Utf8               ()V</span><br><span class="line">   #9 = Utf8               Code</span><br><span class="line">  #10 = Utf8               LineNumberTable</span><br><span class="line">  #11 = Utf8               employeeName</span><br><span class="line">  #12 = Utf8               ()Ljava/lang/String;</span><br><span class="line">  #13 = Utf8               SourceFile</span><br><span class="line">  #14 = Utf8               Test.java</span><br><span class="line">  #15 = NameAndType        #7:#8          // &quot;&lt;init&gt;&quot;:()V</span><br><span class="line">  #16 = NameAndType        #5:#6          // name:Ljava/lang/String;</span><br><span class="line">  #17 = Utf8               Test</span><br><span class="line">  #18 = Utf8               java/lang/Object</span><br><span class="line">{</span><br><span class="line">  java.lang.String name;</span><br><span class="line">    descriptor: Ljava/lang/String;</span><br><span class="line">    flags:</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Test</span><span class="params">()</span></span>;</span><br><span class="line">    descriptor: ()V</span><br><span class="line">    flags: ACC_PUBLIC</span><br><span class="line">    Code:</span><br><span class="line">      stack=<span class="number">1</span>, locals=<span class="number">1</span>, args_size=<span class="number">1</span></span><br><span class="line">         <span class="number">0</span>: aload_0</span><br><span class="line">         1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V</span><br><span class="line">         <span class="number">4</span>: <span class="keyword">return</span></span><br><span class="line">      LineNumberTable:</span><br><span class="line">        line <span class="number">1</span>: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> java.lang.<span class="function">String <span class="title">employeeName</span><span class="params">()</span></span>;</span><br><span class="line">    descriptor: ()Ljava/lang/String;</span><br><span class="line">    flags: ACC_PUBLIC</span><br><span class="line">    Code:</span><br><span class="line">      stack=<span class="number">1</span>, locals=<span class="number">1</span>, args_size=<span class="number">1</span></span><br><span class="line">         <span class="number">0</span>: aload_0</span><br><span class="line">         1: getfield      #2                  // Field name:Ljava/lang/String;</span><br><span class="line">         <span class="number">4</span>: areturn</span><br><span class="line">      LineNumberTable:</span><br><span class="line">        line <span class="number">4</span>: <span class="number">0</span></span><br><span class="line">}</span><br><span class="line">SourceFile: <span class="string">&quot;Test.java&quot;</span></span><br></pre></td></tr></table></figure>
<p>&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;(line 44)&#x7684;&#x5B57;&#x8282;&#x7801;&#x6709;&#x4E09;&#x4E2A;&#x64CD;&#x4F5C;&#x7801;&#x7EC4;&#x6210;&#x3002;</p>
<ol type="1">
<li>&#x7B2C;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x7801; aload_0&#xFF0C;&#x7528;&#x4E8E;&#x5C06;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x8868;&#x4E2D;&#x7D22;&#x5F15;&#x4E3A; 0 &#x7684;&#x53D8;&#x91CF;&#x7684;&#x503C;&#x63A8;&#x9001;&#x5230;&#x64CD;&#x4F5C;&#x6808;&#x4E0A;&#x3002;&#x524D;&#x9762;&#x63D0;&#x5230;&#x8FC7;&#xFF0C;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x8868;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x4E3A;&#x65B9;&#x6CD5;&#x4F20;&#x9012;&#x53C2;&#x6570;&#x7684;&#xFF0C;&#x6784;&#x9020;&#x5668;&#x548C;&#x5B9E;&#x4F8B;&#x65B9;&#x6CD5;&#x7684; this &#x5F15;&#x7528;&#x603B;&#x662F;&#x5B58;&#x653E;&#x5728;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x8868;&#x7684;&#x5730;&#x5740; 0 &#x5904;&#xFF0C;this &#x5F15;&#x7528;&#x5FC5;&#x987B;&#x5165;&#x6808;&#xFF0C;&#x56E0;&#x4E3A;&#x65B9;&#x6CD5;&#x9700;&#x8981;&#x8BBF;&#x95EE;&#x5B9E;&#x4F8B;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x540D;&#x79F0;&#x548C;&#x7C7B;&#x3002;</li>
<li>&#x7B2C;&#x4E8C;&#x4E2A;&#x64CD;&#x4F5C;&#x7801; getfield&#xFF0C;&#x7528;&#x4E8E;&#x4ECE;&#x5BF9;&#x8C61;&#x4E2D;&#x63D0;&#x53D6;&#x5B57;&#x6BB5;&#x3002;&#x5F53;&#x8BE5;&#x64CD;&#x4F5C;&#x7801;&#x6267;&#x884C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x64CD;&#x4F5C;&#x6808;&#x9876;&#x7684;&#x503C;&#x5C31;&#x4F1A;&#x5F39;&#x51FA;(pop)&#xFF0C;&#x7136;&#x540E;&#xFF03;2 &#x5C31;&#x7528;&#x6765;&#x5728;&#x7C7B;&#x8FD0;&#x884C;&#x65F6;&#x5E38;&#x91CF;&#x6C60;&#x4E2D;&#x6784;&#x5EFA;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x5B58;&#x653E;&#x5B57;&#x6BB5; name &#x5F15;&#x7528;&#x5730;&#x5740;&#x7684;&#x7D22;&#x5F15;&#xFF0C;&#x5F53;&#x8FD9;&#x4E2A;&#x5F15;&#x7528;&#x88AB;&#x63D0;&#x53D6;&#x65F6;&#xFF0C;&#x5B83;&#x4F1A;&#x88AB;&#x63A8;&#x9001;&#x5230;&#x64CD;&#x4F5C;&#x6808;&#x4E0A;&#x3002;</li>
<li>&#x7B2C;&#x4E09;&#x4E2A;&#x64CD;&#x4F5C;&#x7801; areturn&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x6765;&#x81EA;&#x65B9;&#x6CD5;&#x7684;&#x5F15;&#x7528;&#x3002;&#x6BD4;&#x8F83;&#x7279;&#x6B8A;&#x7684;&#x662F;&#xFF0C;areturn &#x7684;&#x6267;&#x884C;&#x4F1A;&#x5BFC;&#x81F4;&#x64CD;&#x4F5C;&#x6808;&#x9876;&#x7684;&#x503C;&#xFF0C;name &#x5B57;&#x6BB5;&#x7684; &#x5F15;&#x7528;&#x90FD;&#x4F1A;&#x88AB;&#x5F39;&#x51FA;&#xFF0C;&#x7136;&#x540E;&#x63A8;&#x9001;&#x5230;&#x8C03;&#x7528;&#x65B9;&#x6CD5;&#x7684;&#x64CD;&#x4F5C;&#x6808;&#x3002;</li>
</ol>
<p>employeeName &#x7684;&#x65B9;&#x6CD5;&#x76F8;&#x5F53;&#x7B80;&#x5355;&#xFF0C;&#x5728;&#x8003;&#x8651;&#x4E00;&#x4E2A;&#x66F4;&#x590D;&#x6742;&#x7684;&#x4F8B;&#x5B50;&#x4E4B;&#x524D;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x68C0;&#x67E5;&#x6BCF;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x7801;&#x5DE6;&#x8FB9;&#x7684;&#x503C;&#x3002;&#x5728; employeeName &#x7684;&#x65B9;&#x6CD5;&#x7684;&#x5B57;&#x8282;&#x7801;&#x4E2D;&#xFF0C;&#x8FD9;&#x4E9B;&#x503C;&#x662F; 0&#xFF0C;1&#xFF0C;4&#x3002;&#x6BCF;&#x4E2A;&#x65B9;&#x6CD5;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x5BF9;&#x5E94;&#x7684;&#x5B57;&#x8282;&#x7801;&#x6570;&#x7EC4;&#x3002;&#x8FD9;&#x4E9B;&#x503C;&#x5BF9;&#x5E94;&#x6BCF;&#x4E2A;&#x64CD;&#x4F5C;&#x7801;&#x548C;&#x5B83;&#x4EEC;&#x5728;&#x53C2;&#x6570;&#x6570;&#x7EC4;&#x7684;&#x7D22;&#x5F15;&#xFF0C;&#x4E00;&#x4E9B;&#x64CD;&#x4F5C;&#x7801;&#x542B;&#x6709;&#x53C2;&#x6570;&#xFF0C;&#x8FD9;&#x4E9B;&#x53C2;&#x6570;&#x4F1A;&#x5360;&#x636E;&#x5B57;&#x8282;&#x6570;&#x7EC4;&#x7684;&#x7A7A;&#x95F4;&#x3002;aload_0 &#x6CA1;&#x6709;&#x53C2;&#x6570;&#xFF0C;&#x81EA;&#x7136;&#x800C;&#x7136;&#x5C31;&#x5360;&#x636E;&#x4E00;&#x4E2A;&#x5B57;&#x8282;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x4E0B;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x7801; getfield&#xFF0C;&#x5C31;&#x5728;&#x4F4D;&#x7F6E; 1 &#x4E0A;&#xFF0C;&#x7136;&#x800C; areturn &#x5728;&#x4F4D;&#x7F6E; 4 &#x4E0A;&#xFF0C;&#x56E0;&#x4E3A; getfield &#x64CD;&#x4F5C;&#x7801;&#x548C;&#x4ED6;&#x7684;&#x53C2;&#x6570;&#x5360;&#x636E;&#x4E86;&#x4F4D;&#x7F6E; 1&#xFF0C;2&#xFF0C;3&#x3002;&#x4F4D;&#x7F6E; 1 &#x88AB;&#x64CD;&#x4F5C;&#x7801; getfield &#x4F7F;&#x7528;&#xFF0C;&#x4F4D;&#x7F6E; 2&#xFF0C;3 &#x88AB;&#x7528;&#x4E8E;&#x5B58;&#x653E;&#x53C2;&#x6570;&#xFF0C;&#x8FD9;&#x4E9B;&#x53C2;&#x6570;&#x7528;&#x4E8E;&#x6784;&#x6210;&#x5728;&#x7C7B;&#x8FD0;&#x884C;&#x65F6;&#x5E38;&#x91CF;&#x6C60;&#x4E2D;&#x5B58;&#x653E;&#x503C;&#x7684;&#x5730;&#x65B9;&#x7684;&#x4E00;&#x4E2A;&#x7D22;&#x5F15;&#x3002;&#x4E0B;&#x9762;&#x7684;&#x56FE;&#xFF0C;&#x5C55;&#x793A;&#x4E86; employeeName &#x7684;&#x65B9;&#x6CD5;&#x7684;&#x5B57;&#x8282;&#x7801;&#x6570;&#x6570;&#x7EC4;&#x770B;&#x8D77;&#x6765;&#x7684;&#x6837;&#x5B50; <img src="/images/java&#x5B57;&#x8282;&#x7801;_2020-04-23-10-50-00.png" alt="java&#x5B57;&#x8282;&#x7801;_2020-04-23-10-50-00.png"> &#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x5B57;&#x8282;&#x7801;&#x6570;&#x7EC4;&#x5305;&#x542B;&#x4EE3;&#x8868;&#x6307;&#x4EE4;&#x7684;&#x5B57;&#x8282;&#x3002;&#x4F7F;&#x7528;&#x4E00;&#x4E2A; 16 &#x8FDB;&#x5236;&#x7684;&#x7F16;&#x8F91;&#x5668;&#x67E5;&#x770B; class &#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x80FD;&#x770B;&#x5230;&#x5B57;&#x8282;&#x7801;&#x6570;&#x7EC4;&#x4E2D;&#x6709;&#x4E0B;&#x9762;&#x7684;&#x503C; <img src="/images/java&#x5B57;&#x8282;&#x7801;_2020-04-23-10-50-44.png" alt="java&#x5B57;&#x8282;&#x7801;_2020-04-23-10-50-44.png"></p>
<h4 id="&#x901A;&#x8FC7;&#x5B57;&#x8282;&#x7801;&#x5206;&#x6790;synchronized&#x65B9;&#x6CD5;&#x548C;synchronized&#x4EE3;&#x7801;&#x5757;&#x7684;&#x533A;&#x522B;">&#x901A;&#x8FC7;&#x5B57;&#x8282;&#x7801;&#x5206;&#x6790;<code>synchronized</code>&#x65B9;&#x6CD5;&#x548C;<code>synchronized</code>&#x4EE3;&#x7801;&#x5757;&#x7684;&#x533A;&#x522B;</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">int</span> <span class="title">top1</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">  <span class="keyword">return</span> intArr[<span class="number">0</span>];</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">top2</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"> <span class="keyword">synchronized</span> (<span class="keyword">this</span>) {</span><br><span class="line">  <span class="keyword">return</span> intArr[<span class="number">0</span>];</span><br><span class="line"> }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Method <span class="keyword">int</span> <span class="title">top1</span><span class="params">()</span></span></span><br><span class="line"><span class="function">   0 aload_0           <span class="comment">//&#x5C06;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x8868;&#x4E2D;&#x7D22;&#x5F15;&#x4E3A;0&#x7684;&#x5BF9;&#x8C61;&#x5F15;&#x7528;this&#x5165;&#x6808;&#x3002;</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">   1 getfield #6 &lt;Field <span class="keyword">int</span> intArr[]&gt;</span></span><br><span class="line"><span class="function">                       <span class="comment">//&#x5F39;&#x51FA;&#x5BF9;&#x8C61;&#x5F15;&#x7528;this&#xFF0C;&#x5C06;&#x8BBF;&#x95EE;&#x5E38;&#x91CF;&#x6C60;&#x7684;intArr&#x5BF9;&#x8C61;&#x5F15;&#x7528;&#x5165;&#x6808;&#x3002;</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">   4 iconst_0          <span class="comment">//&#x5C06;0&#x5165;&#x6808;&#x3002;</span></span></span><br><span class="line"><span class="function">   5 iaload            <span class="comment">//&#x5F39;&#x51FA;&#x6808;&#x9876;&#x7684;&#x4E24;&#x4E2A;&#x503C;&#xFF0C;&#x5C06;intArr&#x4E2D;&#x7D22;&#x5F15;&#x4E3A;0&#x7684;&#x503C;&#x5165;&#x6808;&#x3002;</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">   6 ireturn           <span class="comment">//&#x5F39;&#x51FA;&#x6808;&#x9876;&#x7684;&#x503C;&#xFF0C;&#x5C06;&#x5176;&#x538B;&#x5165;&#x8C03;&#x7528;&#x65B9;&#x6CD5;&#x7684;&#x64CD;&#x4F5C;&#x6808;&#xFF0C;&#x5E76;&#x9000;&#x51FA;&#x3002;</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">Method <span class="keyword">int</span> <span class="title">top2</span><span class="params">()</span></span></span><br><span class="line"><span class="function">   0 aload_0           <span class="comment">//&#x5C06;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x8868;&#x4E2D;&#x7D22;&#x5F15;&#x4E3A;0&#x7684;&#x5BF9;&#x8C61;&#x5F15;&#x7528;this&#x5165;&#x6808;&#x3002;</span></span></span><br><span class="line"><span class="function">   1 astore_2          <span class="comment">//&#x5F39;&#x51FA;this&#x5F15;&#x7528;&#xFF0C;&#x5B58;&#x653E;&#x5230;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x8868;&#x4E2D;&#x7D22;&#x5F15;&#x4E3A;2&#x7684;&#x5730;&#x65B9;&#x3002;</span></span></span><br><span class="line"><span class="function">   2 aload_2           <span class="comment">//&#x5C06;this&#x5F15;&#x7528;&#x5165;&#x6808;&#x3002;</span></span></span><br><span class="line"><span class="function">   3 monitorenter      <span class="comment">//&#x5F39;&#x51FA;this&#x5F15;&#x7528;&#xFF0C;&#x83B7;&#x53D6;&#x5BF9;&#x8C61;&#x7684;&#x76D1;&#x89C6;&#x5668;&#x3002;</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">   4 aload_0           <span class="comment">//&#x5F00;&#x59CB;&#x8FDB;&#x5165;&#x540C;&#x6B65;&#x5757;&#x3002;&#x5C06;this&#x5F15;&#x7528;&#x538B;&#x5165;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x8868;&#x7D22;&#x5F15;&#x4E3A;0&#x7684;&#x5730;&#x65B9;&#x3002;</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">   5 getfield #6 &lt;Field <span class="keyword">int</span> intArr[]&gt;</span></span><br><span class="line"><span class="function">                       <span class="comment">//&#x5F39;&#x51FA;this&#x5F15;&#x7528;&#xFF0C;&#x538B;&#x5165;&#x8BBF;&#x95EE;&#x5E38;&#x91CF;&#x6C60;&#x7684;intArr&#x5F15;&#x7528;&#x3002;</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">   8 iconst_0          <span class="comment">//&#x538B;&#x5165;0&#x3002;</span></span></span><br><span class="line"><span class="function">   9 iaload            <span class="comment">//&#x5F39;&#x51FA;&#x9876;&#x90E8;&#x7684;&#x4E24;&#x4E2A;&#x503C;&#xFF0C;&#x538B;&#x5165;intArr&#x7D22;&#x5F15;&#x4E3A;0&#x7684;&#x503C;&#x3002;</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">  10 istore_1          <span class="comment">//&#x5F39;&#x51FA;&#x503C;&#xFF0C;&#x5C06;&#x5B83;&#x5B58;&#x653E;&#x5230;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x8868;&#x7D22;&#x5F15;&#x4E3A;1&#x7684;&#x5730;&#x65B9;&#x3002;</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">  11 jsr 19            <span class="comment">//&#x538B;&#x5165;&#x4E0B;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x7801;(14)&#x7684;&#x5730;&#x5740;&#xFF0C;&#x5E76;&#x8DF3;&#x8F6C;&#x5230;&#x4F4D;&#x7F6E;19&#x3002;</span></span></span><br><span class="line"><span class="function">  14 iload_1           <span class="comment">//&#x538B;&#x5165;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x8868;&#x4E2D;&#x7D22;&#x5F15;&#x4E3A;1&#x7684;&#x503C;&#x3002;</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">  15 ireturn           <span class="comment">//&#x5F39;&#x51FA;&#x9876;&#x90E8;&#x7684;&#x503C;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x538B;&#x5165;&#x5230;&#x8C03;&#x7528;&#x65B9;&#x6CD5;&#x7684;&#x64CD;&#x4F5C;&#x6808;&#x4E2D;&#xFF0C;&#x9000;&#x51FA;&#x3002;</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">  16 aload_2           <span class="comment">//&#x540C;&#x6B65;&#x5757;&#x7ED3;&#x675F;&#x3002;&#x5C06;this&#x5F15;&#x7528;&#x538B;&#x5165;&#x5230;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x8868;&#x7D22;&#x5F15;&#x4E3A;2&#x7684;&#x5730;&#x65B9;&#x3002;</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">  17 monitorexit       <span class="comment">//&#x5F39;&#x51FA;this&#x5F15;&#x7528;&#xFF0C;&#x9000;&#x51FA;&#x76D1;&#x89C6;&#x5668;&#x3002;</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">  18 athrow            <span class="comment">//&#x5F39;&#x51FA;this&#x5F15;&#x7528;&#xFF0C;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x3002;</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">  19 astore_3          <span class="comment">//&#x5F39;&#x51FA;&#x8FD4;&#x56DE;&#x5730;&#x5740;(14)&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x5B58;&#x653E;&#x5230;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x8868;&#x7D22;&#x5F15;&#x4E3A;3&#x7684;&#x5730;&#x65B9;&#x3002;</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">  20 aload_2           <span class="comment">//&#x5C06;this&#x5F15;&#x7528;&#x538B;&#x5165;&#x5230;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x7D22;&#x5F15;&#x4E3A;2&#x7684;&#x5730;&#x65B9;&#x3002;</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">  21 monitorexit       <span class="comment">//&#x5F39;&#x51FA;this&#x5F15;&#x7528;&#xFF0C;&#x5E76;&#x9000;&#x51FA;&#x76D1;&#x89C6;&#x5668;&#x3002;</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">  22 ret 3             <span class="comment">//&#x4ECE;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x8868;&#x7D22;&#x5F15;&#x4E3A;3&#x7684;&#x503C;(14)&#x6307;&#x793A;&#x7684;&#x5730;&#x65B9;&#x8FD4;&#x56DE;&#x3002;</span></span></span><br><span class="line"><span class="function">Exception table:       <span class="comment">//&#x5982;&#x679C;&#x5728;&#x4F4D;&#x7F6E;4(&#x5305;&#x62EC;4)&#x548C;&#x4F4D;&#x7F6E;16(&#x6392;&#x9664;16)&#x4E2D;&#x51FA;&#x73B0;&#x5F02;&#x5E38;&#xFF0C;&#x5219;&#x8DF3;&#x8F6C;&#x5230;&#x4F4D;&#x7F6E;16.</span></span></span><br><span class="line"><span class="function">from to target type</span></span><br><span class="line"><span class="function"> 4   16   16   any</span></span><br></pre></td></tr></table></figure>
<p>top2 &#x6BD4; top1 &#x5927;&#xFF0C;&#x6267;&#x884C;&#x8FD8;&#x6162;&#xFF0C;&#x662F;&#x56E0;&#x4E3A; top2 &#x91C7;&#x53D6;&#x7684;&#x540C;&#x6B65;&#x548C;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x65B9;&#x5F0F;&#x3002;&#x6CE8;&#x610F;&#x5230; top1 &#x91C7;&#x7528; synchronized &#x65B9;&#x6CD5;&#x4FEE;&#x9970;&#x7B26;&#xFF0C;&#x8FD9;&#x4E0D;&#x4F1A;&#x4EA7;&#x751F;&#x989D;&#x5916;&#x7684;&#x5B57;&#x8282;&#x7801;&#x3002;&#x76F8;&#x53CD; top2 &#x5728;&#x65B9;&#x6CD5;&#x4F53;&#x5185;&#x4F7F;&#x7528; synchronized &#x540C;&#x6B65;&#x4EE3;&#x7801;&#x5757;&#xFF0C;&#x4F1A;&#x4EA7;&#x751F; monitorenter &#x548C; monitorexit &#x64CD;&#x4F5C;&#x7801;&#x7684;&#x5B57;&#x8282;&#x7801;&#xFF0C;&#x8FD8;&#x6709;&#x989D;&#x5916;&#x7684;&#x7528;&#x4E8E;&#x5904;&#x7406;&#x5F02;&#x5E38;&#x7684;&#x5B57;&#x8282;&#x7801;&#x3002;&#x5982;&#x679C;&#x6267;&#x884C;&#x5230;&#x4E00;&#x4E2A;&#x540C;&#x6B65;&#x9501;&#x7684;&#x5757;(&#x4E00;&#x4E2A;&#x76D1;&#x89C6;&#x5668;)&#x5185;&#x90E8;&#x65F6;&#xFF0C;&#x629B;&#x51FA;&#x4E86;&#x4E00;&#x4E2A;&#x5F02;&#x5E38;&#xFF0C;&#x8FD9;&#x4E2A;&#x9501;&#x8981;&#x4FDD;&#x8BC1;&#x5728;&#x9000;&#x51FA;&#x540C;&#x6B65;&#x4EE3;&#x7801;&#x5757;&#x524D;&#x88AB;&#x91CA;&#x653E;&#x3002;top1 &#x7684;&#x5B9E;&#x73B0;&#x8981;&#x6BD4; top2 &#x7684;&#x6548;&#x7387;&#x9AD8;&#x4E00;&#x4E9B;&#xFF0C;&#x8FD9;&#x80FD;&#x83B7;&#x53D6;&#x4E00;&#x4E01;&#x70B9;&#x7684;&#x6027;&#x80FD;&#x63D0;&#x5347;&#x3002;</p>
<p>&#x5F53; synchronized &#x65B9;&#x6CD5;&#x4FEE;&#x9970;&#x7B26;&#x51FA;&#x73B0;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x9501;&#x7684;&#x83B7;&#x53D6;&#x548C;&#x91CA;&#x653E;&#x4E0D;&#x662F;&#x901A;&#x8FC7; monitorenter &#x548C; monitorexit &#x64CD;&#x4F5C;&#x7801;&#x6765;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x800C;&#x662F;&#x5728; JVM &#x8C03;&#x7528;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x65F6;&#xFF0C;&#x5B83;&#x68C0;&#x67E5; ACC_SYNCHRONIZED &#x5C5E;&#x6027;&#x7684;&#x6807;&#x8BC6;&#x3002;&#x5982;&#x679C;&#x6709;&#x8FD9;&#x4E2A;&#x6807;&#x8BC6;&#xFF0C;&#x6B63;&#x5728;&#x6267;&#x884C;&#x7684;&#x7EBF;&#x7A0B;&#x5C06;&#x4F1A;&#x5148;&#x83B7;&#x53D6;&#x4E00;&#x4E2A;&#x9501;&#xFF0C;&#x8C03;&#x7528;&#x65B9;&#x6CD5;&#x7136;&#x540E;&#x5728;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x65F6;&#x91CA;&#x653E;&#x9501;&#x3002;&#x5982;&#x679C;&#x540C;&#x6B65;&#x65B9;&#x6CD5;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#xFF0C;&#x5728;&#x5F02;&#x5E38;&#x79BB;&#x5F00;&#x65B9;&#x6CD5;&#x524D;&#x4F1A;&#x81EA;&#x52A8;&#x91CA;&#x653E;&#x9501;&#x3002;</p>
<h2 id="&#x5E38;&#x7528;&#x5B57;&#x8282;&#x7801;&#x6307;&#x4EE4;&#x96C6;">&#x5E38;&#x7528;&#x5B57;&#x8282;&#x7801;&#x6307;&#x4EE4;&#x96C6;</h2>
<p><em>Note that any referenced &quot;value&quot; refers to a 32-bit int as per the Java instruction set.</em></p>
<table>
<colgroup>
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 31%">
<col style="width: 15%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Mnemonic</th>
<th style="text-align: center;">Opcode <em>(in hex)</em></th>
<th style="text-align: center;">Opcode (in binary)</th>
<th style="text-align: center;">Other bytes [count]: [operand labels]</th>
<th style="text-align: center;">Stack [before]&#x2192;[after]</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><em>(no name)</em></td>
<td style="text-align: center;">cb-fd</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: left;">these values are currently unassigned for opcodes and are reserved for future use</td>
</tr>
<tr class="even">
<td style="text-align: center;">aaload</td>
<td style="text-align: center;">32</td>
<td style="text-align: center;">0011 0010</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">arrayref, index &#x2192; value</td>
<td style="text-align: left;">load onto the stack a reference from an array</td>
</tr>
<tr class="odd">
<td style="text-align: center;">aastore</td>
<td style="text-align: center;">53</td>
<td style="text-align: center;">0101 0011</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">arrayref, index, value &#x2192;</td>
<td style="text-align: left;">store into a reference in an array</td>
</tr>
<tr class="even">
<td style="text-align: center;">aconst_null</td>
<td style="text-align: center;">01</td>
<td style="text-align: center;">0000 0001</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; null</td>
<td style="text-align: left;">push a <em>null</em> reference onto the stack</td>
</tr>
<tr class="odd">
<td style="text-align: center;">aload</td>
<td style="text-align: center;">19</td>
<td style="text-align: center;">0001 1001</td>
<td style="text-align: center;">1: index</td>
<td style="text-align: center;">&#x2192; objectref</td>
<td style="text-align: left;">load a reference onto the stack from a local variable <em>#index</em></td>
</tr>
<tr class="even">
<td style="text-align: center;">aload_0</td>
<td style="text-align: center;">2a</td>
<td style="text-align: center;">0010 1010</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; objectref</td>
<td style="text-align: left;">load a reference onto the stack from local variable 0</td>
</tr>
<tr class="odd">
<td style="text-align: center;">aload_1</td>
<td style="text-align: center;">2b</td>
<td style="text-align: center;">0010 1011</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; objectref</td>
<td style="text-align: left;">load a reference onto the stack from local variable 1</td>
</tr>
<tr class="even">
<td style="text-align: center;">aload_2</td>
<td style="text-align: center;">2c</td>
<td style="text-align: center;">0010 1100</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; objectref</td>
<td style="text-align: left;">load a reference onto the stack from local variable 2</td>
</tr>
<tr class="odd">
<td style="text-align: center;">aload_3</td>
<td style="text-align: center;">2d</td>
<td style="text-align: center;">0010 1101</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; objectref</td>
<td style="text-align: left;">load a reference onto the stack from local variable 3</td>
</tr>
<tr class="even">
<td style="text-align: center;">anewarray</td>
<td style="text-align: center;">bd</td>
<td style="text-align: center;">1011 1101</td>
<td style="text-align: center;">2: indexbyte1, indexbyte2</td>
<td style="text-align: center;">count &#x2192; arrayref</td>
<td style="text-align: left;">create a new array of references of length <em>count</em> and component type identified by the class reference <em>index</em> (indexbyte1 &lt;&lt; 8 + indexbyte2) in the constant pool</td>
</tr>
<tr class="odd">
<td style="text-align: center;">areturn</td>
<td style="text-align: center;">b0</td>
<td style="text-align: center;">1011 0000</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">objectref &#x2192; [empty]</td>
<td style="text-align: left;">return a reference from a method</td>
</tr>
<tr class="even">
<td style="text-align: center;">arraylength</td>
<td style="text-align: center;">be</td>
<td style="text-align: center;">1011 1110</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">arrayref &#x2192; length</td>
<td style="text-align: left;">get the length of an array</td>
</tr>
<tr class="odd">
<td style="text-align: center;">astore</td>
<td style="text-align: center;">3a</td>
<td style="text-align: center;">0011 1010</td>
<td style="text-align: center;">1: index</td>
<td style="text-align: center;">objectref &#x2192;</td>
<td style="text-align: left;">store a reference into a local variable <em>#index</em></td>
</tr>
<tr class="even">
<td style="text-align: center;">astore_0</td>
<td style="text-align: center;">4b</td>
<td style="text-align: center;">0100 1011</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">objectref &#x2192;</td>
<td style="text-align: left;">store a reference into local variable 0</td>
</tr>
<tr class="odd">
<td style="text-align: center;">astore_1</td>
<td style="text-align: center;">4c</td>
<td style="text-align: center;">0100 1100</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">objectref &#x2192;</td>
<td style="text-align: left;">store a reference into local variable 1</td>
</tr>
<tr class="even">
<td style="text-align: center;">astore_2</td>
<td style="text-align: center;">4d</td>
<td style="text-align: center;">0100 1101</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">objectref &#x2192;</td>
<td style="text-align: left;">store a reference into local variable 2</td>
</tr>
<tr class="odd">
<td style="text-align: center;">astore_3</td>
<td style="text-align: center;">4e</td>
<td style="text-align: center;">0100 1110</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">objectref &#x2192;</td>
<td style="text-align: left;">store a reference into local variable 3</td>
</tr>
<tr class="even">
<td style="text-align: center;">athrow</td>
<td style="text-align: center;">bf</td>
<td style="text-align: center;">1011 1111</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">objectref &#x2192; [empty], objectref</td>
<td style="text-align: left;">throws an error or exception (notice that the rest of the stack is cleared, leaving only a reference to the Throwable)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">baload</td>
<td style="text-align: center;">33</td>
<td style="text-align: center;">0011 0011</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">arrayref, index &#x2192; value</td>
<td style="text-align: left;">load a byte or Boolean value from an array</td>
</tr>
<tr class="even">
<td style="text-align: center;">bastore</td>
<td style="text-align: center;">54</td>
<td style="text-align: center;">0101 0100</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">arrayref, index, value &#x2192;</td>
<td style="text-align: left;">store a byte or Boolean value into an array</td>
</tr>
<tr class="odd">
<td style="text-align: center;">bipush</td>
<td style="text-align: center;">10</td>
<td style="text-align: center;">0001 0000</td>
<td style="text-align: center;">1: byte</td>
<td style="text-align: center;">&#x2192; value</td>
<td style="text-align: left;">push a <em>byte</em> onto the stack as an integer <em>value</em></td>
</tr>
<tr class="even">
<td style="text-align: center;">breakpoint</td>
<td style="text-align: center;">ca</td>
<td style="text-align: center;">1100 1010</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: left;">reserved for breakpoints in Java debuggers; should not appear in any class file</td>
</tr>
<tr class="odd">
<td style="text-align: center;">caload</td>
<td style="text-align: center;">34</td>
<td style="text-align: center;">0011 0100</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">arrayref, index &#x2192; value</td>
<td style="text-align: left;">load a char from an array</td>
</tr>
<tr class="even">
<td style="text-align: center;">castore</td>
<td style="text-align: center;">55</td>
<td style="text-align: center;">0101 0101</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">arrayref, index, value &#x2192;</td>
<td style="text-align: left;">store a char into an array</td>
</tr>
<tr class="odd">
<td style="text-align: center;">checkcast</td>
<td style="text-align: center;">c0</td>
<td style="text-align: center;">1100 0000</td>
<td style="text-align: center;">2: indexbyte1, indexbyte2</td>
<td style="text-align: center;">objectref &#x2192; objectref</td>
<td style="text-align: left;">checks whether an <em>objectref</em> is of a certain type, the class reference of which is in the constant pool at <em>index</em> (indexbyte1 &lt;&lt; 8 + indexbyte2)</td>
</tr>
<tr class="even">
<td style="text-align: center;">d2f</td>
<td style="text-align: center;">90</td>
<td style="text-align: center;">1001 0000</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192; result</td>
<td style="text-align: left;">convert a double to a float</td>
</tr>
<tr class="odd">
<td style="text-align: center;">d2i</td>
<td style="text-align: center;">8e</td>
<td style="text-align: center;">1000 1110</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192; result</td>
<td style="text-align: left;">convert a double to an int</td>
</tr>
<tr class="even">
<td style="text-align: center;">d2l</td>
<td style="text-align: center;">8f</td>
<td style="text-align: center;">1000 1111</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192; result</td>
<td style="text-align: left;">convert a double to a long</td>
</tr>
<tr class="odd">
<td style="text-align: center;">dadd</td>
<td style="text-align: center;">63</td>
<td style="text-align: center;">0110 0011</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">add two doubles</td>
</tr>
<tr class="even">
<td style="text-align: center;">daload</td>
<td style="text-align: center;">31</td>
<td style="text-align: center;">0011 0001</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">arrayref, index &#x2192; value</td>
<td style="text-align: left;">load a double from an array</td>
</tr>
<tr class="odd">
<td style="text-align: center;">dastore</td>
<td style="text-align: center;">52</td>
<td style="text-align: center;">0101 0010</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">arrayref, index, value &#x2192;</td>
<td style="text-align: left;">store a double into an array</td>
</tr>
<tr class="even">
<td style="text-align: center;">dcmpg</td>
<td style="text-align: center;">98</td>
<td style="text-align: center;">1001 1000</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">compare two doubles</td>
</tr>
<tr class="odd">
<td style="text-align: center;">dcmpl</td>
<td style="text-align: center;">97</td>
<td style="text-align: center;">1001 0111</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">compare two doubles</td>
</tr>
<tr class="even">
<td style="text-align: center;">dconst_0</td>
<td style="text-align: center;">0e</td>
<td style="text-align: center;">0000 1110</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; 0.0</td>
<td style="text-align: left;">push the constant <em>0.0</em> (a <em>double</em>) onto the stack</td>
</tr>
<tr class="odd">
<td style="text-align: center;">dconst_1</td>
<td style="text-align: center;">0f</td>
<td style="text-align: center;">0000 1111</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; 1.0</td>
<td style="text-align: left;">push the constant <em>1.0</em> (a <em>double</em>) onto the stack</td>
</tr>
<tr class="even">
<td style="text-align: center;">ddiv</td>
<td style="text-align: center;">6f</td>
<td style="text-align: center;">0110 1111</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">divide two doubles</td>
</tr>
<tr class="odd">
<td style="text-align: center;">dload</td>
<td style="text-align: center;">18</td>
<td style="text-align: center;">0001 1000</td>
<td style="text-align: center;">1: index</td>
<td style="text-align: center;">&#x2192; value</td>
<td style="text-align: left;">load a double <em>value</em> from a local variable <em>#index</em></td>
</tr>
<tr class="even">
<td style="text-align: center;">dload_0</td>
<td style="text-align: center;">26</td>
<td style="text-align: center;">0010 0110</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; value</td>
<td style="text-align: left;">load a double from local variable 0</td>
</tr>
<tr class="odd">
<td style="text-align: center;">dload_1</td>
<td style="text-align: center;">27</td>
<td style="text-align: center;">0010 0111</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; value</td>
<td style="text-align: left;">load a double from local variable 1</td>
</tr>
<tr class="even">
<td style="text-align: center;">dload_2</td>
<td style="text-align: center;">28</td>
<td style="text-align: center;">0010 1000</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; value</td>
<td style="text-align: left;">load a double from local variable 2</td>
</tr>
<tr class="odd">
<td style="text-align: center;">dload_3</td>
<td style="text-align: center;">29</td>
<td style="text-align: center;">0010 1001</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; value</td>
<td style="text-align: left;">load a double from local variable 3</td>
</tr>
<tr class="even">
<td style="text-align: center;">dmul</td>
<td style="text-align: center;">6b</td>
<td style="text-align: center;">0110 1011</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">multiply two doubles</td>
</tr>
<tr class="odd">
<td style="text-align: center;">dneg</td>
<td style="text-align: center;">77</td>
<td style="text-align: center;">0111 0111</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192; result</td>
<td style="text-align: left;">negate a double</td>
</tr>
<tr class="even">
<td style="text-align: center;">drem</td>
<td style="text-align: center;">73</td>
<td style="text-align: center;">0111 0011</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">get the remainder from a division between two doubles</td>
</tr>
<tr class="odd">
<td style="text-align: center;">dreturn</td>
<td style="text-align: center;">af</td>
<td style="text-align: center;">1010 1111</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192; [empty]</td>
<td style="text-align: left;">return a double from a method</td>
</tr>
<tr class="even">
<td style="text-align: center;">dstore</td>
<td style="text-align: center;">39</td>
<td style="text-align: center;">0011 1001</td>
<td style="text-align: center;">1: index</td>
<td style="text-align: center;">value &#x2192;</td>
<td style="text-align: left;">store a double <em>value</em> into a local variable <em>#index</em></td>
</tr>
<tr class="odd">
<td style="text-align: center;">dstore_0</td>
<td style="text-align: center;">47</td>
<td style="text-align: center;">0100 0111</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192;</td>
<td style="text-align: left;">store a double into local variable 0</td>
</tr>
<tr class="even">
<td style="text-align: center;">dstore_1</td>
<td style="text-align: center;">48</td>
<td style="text-align: center;">0100 1000</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192;</td>
<td style="text-align: left;">store a double into local variable 1</td>
</tr>
<tr class="odd">
<td style="text-align: center;">dstore_2</td>
<td style="text-align: center;">49</td>
<td style="text-align: center;">0100 1001</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192;</td>
<td style="text-align: left;">store a double into local variable 2</td>
</tr>
<tr class="even">
<td style="text-align: center;">dstore_3</td>
<td style="text-align: center;">4a</td>
<td style="text-align: center;">0100 1010</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192;</td>
<td style="text-align: left;">store a double into local variable 3</td>
</tr>
<tr class="odd">
<td style="text-align: center;">dsub</td>
<td style="text-align: center;">67</td>
<td style="text-align: center;">0110 0111</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">subtract a double from another</td>
</tr>
<tr class="even">
<td style="text-align: center;">dup</td>
<td style="text-align: center;">59</td>
<td style="text-align: center;">0101 1001</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192; value, value</td>
<td style="text-align: left;">duplicate the value on top of the stack</td>
</tr>
<tr class="odd">
<td style="text-align: center;">dup2</td>
<td style="text-align: center;">5c</td>
<td style="text-align: center;">0101 1100</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">{value2, value1} &#x2192; {value2, value1}, {value2, value1}</td>
<td style="text-align: left;">duplicate top two stack words (two values, if value1 is not double nor long; a single value, if value1 is double or long)</td>
</tr>
<tr class="even">
<td style="text-align: center;">dup2_x1</td>
<td style="text-align: center;">5d</td>
<td style="text-align: center;">0101 1101</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value3, {value2, value1} &#x2192; {value2, value1}, value3, {value2, value1}</td>
<td style="text-align: left;">duplicate two words and insert beneath third word (see explanation above)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">dup2_x2</td>
<td style="text-align: center;">5e</td>
<td style="text-align: center;">0101 1110</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">{value4, value3}, {value2, value1} &#x2192; {value2, value1}, {value4, value3}, {value2, value1}</td>
<td style="text-align: left;">duplicate two words and insert beneath fourth word</td>
</tr>
<tr class="even">
<td style="text-align: center;">dup_x1</td>
<td style="text-align: center;">5a</td>
<td style="text-align: center;">0101 1010</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value2, value1 &#x2192; value1, value2, value1</td>
<td style="text-align: left;">insert a copy of the top value into the stack two values from the top. value1 and value2 must not be of the type double or long.</td>
</tr>
<tr class="odd">
<td style="text-align: center;">dup_x2</td>
<td style="text-align: center;">5b</td>
<td style="text-align: center;">0101 1011</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value3, value2, value1 &#x2192; value1, value3, value2, value1</td>
<td style="text-align: left;">insert a copy of the top value into the stack two (if value2 is double or long it takes up the entry of value3, too) or three values (if value2 is neither double nor long) from the top</td>
</tr>
<tr class="even">
<td style="text-align: center;">f2d</td>
<td style="text-align: center;">8d</td>
<td style="text-align: center;">1000 1101</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192; result</td>
<td style="text-align: left;">convert a float to a double</td>
</tr>
<tr class="odd">
<td style="text-align: center;">f2i</td>
<td style="text-align: center;">8b</td>
<td style="text-align: center;">1000 1011</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192; result</td>
<td style="text-align: left;">convert a float to an int</td>
</tr>
<tr class="even">
<td style="text-align: center;">f2l</td>
<td style="text-align: center;">8c</td>
<td style="text-align: center;">1000 1100</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192; result</td>
<td style="text-align: left;">convert a float to a long</td>
</tr>
<tr class="odd">
<td style="text-align: center;">fadd</td>
<td style="text-align: center;">62</td>
<td style="text-align: center;">0110 0010</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">add two floats</td>
</tr>
<tr class="even">
<td style="text-align: center;">faload</td>
<td style="text-align: center;">30</td>
<td style="text-align: center;">0011 0000</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">arrayref, index &#x2192; value</td>
<td style="text-align: left;">load a float from an array</td>
</tr>
<tr class="odd">
<td style="text-align: center;">fastore</td>
<td style="text-align: center;">51</td>
<td style="text-align: center;">0101 0001</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">arrayref, index, value &#x2192;</td>
<td style="text-align: left;">store a float in an array</td>
</tr>
<tr class="even">
<td style="text-align: center;">fcmpg</td>
<td style="text-align: center;">96</td>
<td style="text-align: center;">1001 0110</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">compare two floats</td>
</tr>
<tr class="odd">
<td style="text-align: center;">fcmpl</td>
<td style="text-align: center;">95</td>
<td style="text-align: center;">1001 0101</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">compare two floats</td>
</tr>
<tr class="even">
<td style="text-align: center;">fconst_0</td>
<td style="text-align: center;">0b</td>
<td style="text-align: center;">0000 1011</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; 0.0f</td>
<td style="text-align: left;">push <em>0.0f</em> on the stack</td>
</tr>
<tr class="odd">
<td style="text-align: center;">fconst_1</td>
<td style="text-align: center;">0c</td>
<td style="text-align: center;">0000 1100</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; 1.0f</td>
<td style="text-align: left;">push <em>1.0f</em> on the stack</td>
</tr>
<tr class="even">
<td style="text-align: center;">fconst_2</td>
<td style="text-align: center;">0d</td>
<td style="text-align: center;">0000 1101</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; 2.0f</td>
<td style="text-align: left;">push <em>2.0f</em> on the stack</td>
</tr>
<tr class="odd">
<td style="text-align: center;">fdiv</td>
<td style="text-align: center;">6e</td>
<td style="text-align: center;">0110 1110</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">divide two floats</td>
</tr>
<tr class="even">
<td style="text-align: center;">fload</td>
<td style="text-align: center;">17</td>
<td style="text-align: center;">0001 0111</td>
<td style="text-align: center;">1: index</td>
<td style="text-align: center;">&#x2192; value</td>
<td style="text-align: left;">load a float <em>value</em> from a local variable <em>#index</em></td>
</tr>
<tr class="odd">
<td style="text-align: center;">fload_0</td>
<td style="text-align: center;">22</td>
<td style="text-align: center;">0010 0010</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; value</td>
<td style="text-align: left;">load a float <em>value</em> from local variable 0</td>
</tr>
<tr class="even">
<td style="text-align: center;">fload_1</td>
<td style="text-align: center;">23</td>
<td style="text-align: center;">0010 0011</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; value</td>
<td style="text-align: left;">load a float <em>value</em> from local variable 1</td>
</tr>
<tr class="odd">
<td style="text-align: center;">fload_2</td>
<td style="text-align: center;">24</td>
<td style="text-align: center;">0010 0100</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; value</td>
<td style="text-align: left;">load a float <em>value</em> from local variable 2</td>
</tr>
<tr class="even">
<td style="text-align: center;">fload_3</td>
<td style="text-align: center;">25</td>
<td style="text-align: center;">0010 0101</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; value</td>
<td style="text-align: left;">load a float <em>value</em> from local variable 3</td>
</tr>
<tr class="odd">
<td style="text-align: center;">fmul</td>
<td style="text-align: center;">6a</td>
<td style="text-align: center;">0110 1010</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">multiply two floats</td>
</tr>
<tr class="even">
<td style="text-align: center;">fneg</td>
<td style="text-align: center;">76</td>
<td style="text-align: center;">0111 0110</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192; result</td>
<td style="text-align: left;">negate a float</td>
</tr>
<tr class="odd">
<td style="text-align: center;">frem</td>
<td style="text-align: center;">72</td>
<td style="text-align: center;">0111 0010</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">get the remainder from a division between two floats</td>
</tr>
<tr class="even">
<td style="text-align: center;">freturn</td>
<td style="text-align: center;">ae</td>
<td style="text-align: center;">1010 1110</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192; [empty]</td>
<td style="text-align: left;">return a float</td>
</tr>
<tr class="odd">
<td style="text-align: center;">fstore</td>
<td style="text-align: center;">38</td>
<td style="text-align: center;">0011 1000</td>
<td style="text-align: center;">1: index</td>
<td style="text-align: center;">value &#x2192;</td>
<td style="text-align: left;">store a float <em>value</em> into a local variable <em>#index</em></td>
</tr>
<tr class="even">
<td style="text-align: center;">fstore_0</td>
<td style="text-align: center;">43</td>
<td style="text-align: center;">0100 0011</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192;</td>
<td style="text-align: left;">store a float <em>value</em> into local variable 0</td>
</tr>
<tr class="odd">
<td style="text-align: center;">fstore_1</td>
<td style="text-align: center;">44</td>
<td style="text-align: center;">0100 0100</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192;</td>
<td style="text-align: left;">store a float <em>value</em> into local variable 1</td>
</tr>
<tr class="even">
<td style="text-align: center;">fstore_2</td>
<td style="text-align: center;">45</td>
<td style="text-align: center;">0100 0101</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192;</td>
<td style="text-align: left;">store a float <em>value</em> into local variable 2</td>
</tr>
<tr class="odd">
<td style="text-align: center;">fstore_3</td>
<td style="text-align: center;">46</td>
<td style="text-align: center;">0100 0110</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192;</td>
<td style="text-align: left;">store a float <em>value</em> into local variable 3</td>
</tr>
<tr class="even">
<td style="text-align: center;">fsub</td>
<td style="text-align: center;">66</td>
<td style="text-align: center;">0110 0110</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">subtract two floats</td>
</tr>
<tr class="odd">
<td style="text-align: center;">getfield</td>
<td style="text-align: center;">b4</td>
<td style="text-align: center;">1011 0100</td>
<td style="text-align: center;">2: indexbyte1, indexbyte2</td>
<td style="text-align: center;">objectref &#x2192; value</td>
<td style="text-align: left;">get a field <em>value</em> of an object <em>objectref</em>, where the field is identified by field reference in the constant pool <em>index</em> (indexbyte1 &lt;&lt; 8 + indexbyte2)</td>
</tr>
<tr class="even">
<td style="text-align: center;">getstatic</td>
<td style="text-align: center;">b2</td>
<td style="text-align: center;">1011 0010</td>
<td style="text-align: center;">2: indexbyte1, indexbyte2</td>
<td style="text-align: center;">&#x2192; value</td>
<td style="text-align: left;">get a static field <em>value</em> of a class, where the field is identified by field reference in the constant pool <em>index</em> (indexbyte1 &lt;&lt; 8 + indexbyte2)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">goto</td>
<td style="text-align: center;">a7</td>
<td style="text-align: center;">1010 0111</td>
<td style="text-align: center;">2: branchbyte1, branchbyte2</td>
<td style="text-align: center;">[no change]</td>
<td style="text-align: left;">goes to another instruction at <em>branchoffset</em> (signed short constructed from unsigned bytes branchbyte1 &lt;&lt; 8 + branchbyte2)</td>
</tr>
<tr class="even">
<td style="text-align: center;">goto_w</td>
<td style="text-align: center;">c8</td>
<td style="text-align: center;">1100 1000</td>
<td style="text-align: center;">4: branchbyte1, branchbyte2, branchbyte3, branchbyte4</td>
<td style="text-align: center;">[no change]</td>
<td style="text-align: left;">goes to another instruction at <em>branchoffset</em> (signed int constructed from unsigned bytes branchbyte1 &lt;&lt; 24 + branchbyte2 &lt;&lt; 16 + branchbyte3 &lt;&lt; 8 + branchbyte4)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">i2b</td>
<td style="text-align: center;">91</td>
<td style="text-align: center;">1001 0001</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192; result</td>
<td style="text-align: left;">convert an int into a byte</td>
</tr>
<tr class="even">
<td style="text-align: center;">i2c</td>
<td style="text-align: center;">92</td>
<td style="text-align: center;">1001 0010</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192; result</td>
<td style="text-align: left;">convert an int into a character</td>
</tr>
<tr class="odd">
<td style="text-align: center;">i2d</td>
<td style="text-align: center;">87</td>
<td style="text-align: center;">1000 0111</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192; result</td>
<td style="text-align: left;">convert an int into a double</td>
</tr>
<tr class="even">
<td style="text-align: center;">i2f</td>
<td style="text-align: center;">86</td>
<td style="text-align: center;">1000 0110</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192; result</td>
<td style="text-align: left;">convert an int into a float</td>
</tr>
<tr class="odd">
<td style="text-align: center;">i2l</td>
<td style="text-align: center;">85</td>
<td style="text-align: center;">1000 0101</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192; result</td>
<td style="text-align: left;">convert an int into a long</td>
</tr>
<tr class="even">
<td style="text-align: center;">i2s</td>
<td style="text-align: center;">93</td>
<td style="text-align: center;">1001 0011</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192; result</td>
<td style="text-align: left;">convert an int into a short</td>
</tr>
<tr class="odd">
<td style="text-align: center;">iadd</td>
<td style="text-align: center;">60</td>
<td style="text-align: center;">0110 0000</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">add two ints</td>
</tr>
<tr class="even">
<td style="text-align: center;">iaload</td>
<td style="text-align: center;">2e</td>
<td style="text-align: center;">0010 1110</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">arrayref, index &#x2192; value</td>
<td style="text-align: left;">load an int from an array</td>
</tr>
<tr class="odd">
<td style="text-align: center;">iand</td>
<td style="text-align: center;">7e</td>
<td style="text-align: center;">0111 1110</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">perform a bitwise AND on two integers</td>
</tr>
<tr class="even">
<td style="text-align: center;">iastore</td>
<td style="text-align: center;">4f</td>
<td style="text-align: center;">0100 1111</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">arrayref, index, value &#x2192;</td>
<td style="text-align: left;">store an int into an array</td>
</tr>
<tr class="odd">
<td style="text-align: center;">iconst_0</td>
<td style="text-align: center;">03</td>
<td style="text-align: center;">0000 0011</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; 0</td>
<td style="text-align: left;">load the int value 0 onto the stack</td>
</tr>
<tr class="even">
<td style="text-align: center;">iconst_1</td>
<td style="text-align: center;">04</td>
<td style="text-align: center;">0000 0100</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; 1</td>
<td style="text-align: left;">load the int value 1 onto the stack</td>
</tr>
<tr class="odd">
<td style="text-align: center;">iconst_2</td>
<td style="text-align: center;">05</td>
<td style="text-align: center;">0000 0101</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; 2</td>
<td style="text-align: left;">load the int value 2 onto the stack</td>
</tr>
<tr class="even">
<td style="text-align: center;">iconst_3</td>
<td style="text-align: center;">06</td>
<td style="text-align: center;">0000 0110</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; 3</td>
<td style="text-align: left;">load the int value 3 onto the stack</td>
</tr>
<tr class="odd">
<td style="text-align: center;">iconst_4</td>
<td style="text-align: center;">07</td>
<td style="text-align: center;">0000 0111</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; 4</td>
<td style="text-align: left;">load the int value 4 onto the stack</td>
</tr>
<tr class="even">
<td style="text-align: center;">iconst_5</td>
<td style="text-align: center;">08</td>
<td style="text-align: center;">0000 1000</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; 5</td>
<td style="text-align: left;">load the int value 5 onto the stack</td>
</tr>
<tr class="odd">
<td style="text-align: center;">iconst_m1</td>
<td style="text-align: center;">02</td>
<td style="text-align: center;">0000 0010</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; -1</td>
<td style="text-align: left;">load the int value &#x2212;1 onto the stack</td>
</tr>
<tr class="even">
<td style="text-align: center;">idiv</td>
<td style="text-align: center;">6c</td>
<td style="text-align: center;">0110 1100</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">divide two integers</td>
</tr>
<tr class="odd">
<td style="text-align: center;">if_acmpeq</td>
<td style="text-align: center;">a5</td>
<td style="text-align: center;">1010 0101</td>
<td style="text-align: center;">2: branchbyte1, branchbyte2</td>
<td style="text-align: center;">value1, value2 &#x2192;</td>
<td style="text-align: left;">if references are equal, branch to instruction at <em>branchoffset</em> (signed short constructed from unsigned bytes branchbyte1 &lt;&lt; 8 + branchbyte2)</td>
</tr>
<tr class="even">
<td style="text-align: center;">if_acmpne</td>
<td style="text-align: center;">a6</td>
<td style="text-align: center;">1010 0110</td>
<td style="text-align: center;">2: branchbyte1, branchbyte2</td>
<td style="text-align: center;">value1, value2 &#x2192;</td>
<td style="text-align: left;">if references are not equal, branch to instruction at <em>branchoffset</em>(signed short constructed from unsigned bytes branchbyte1 &lt;&lt; 8 + branchbyte2)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">if_icmpeq</td>
<td style="text-align: center;">9f</td>
<td style="text-align: center;">1001 1111</td>
<td style="text-align: center;">2: branchbyte1, branchbyte2</td>
<td style="text-align: center;">value1, value2 &#x2192;</td>
<td style="text-align: left;">if ints are equal, branch to instruction at <em>branchoffset</em> (signed short constructed from unsigned bytes branchbyte1 &lt;&lt; 8 + branchbyte2)</td>
</tr>
<tr class="even">
<td style="text-align: center;">if_icmpge</td>
<td style="text-align: center;">a2</td>
<td style="text-align: center;">1010 0010</td>
<td style="text-align: center;">2: branchbyte1, branchbyte2</td>
<td style="text-align: center;">value1, value2 &#x2192;</td>
<td style="text-align: left;">if <em>value1</em> is greater than or equal to <em>value2</em>, branch to instruction at <em>branchoffset</em> (signed short constructed from unsigned bytes branchbyte1 &lt;&lt; 8 + branchbyte2)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">if_icmpgt</td>
<td style="text-align: center;">a3</td>
<td style="text-align: center;">1010 0011</td>
<td style="text-align: center;">2: branchbyte1, branchbyte2</td>
<td style="text-align: center;">value1, value2 &#x2192;</td>
<td style="text-align: left;">if <em>value1</em> is greater than <em>value2</em>, branch to instruction at <em>branchoffset</em>(signed short constructed from unsigned bytes branchbyte1 &lt;&lt; 8 + branchbyte2)</td>
</tr>
<tr class="even">
<td style="text-align: center;">if_icmple</td>
<td style="text-align: center;">a4</td>
<td style="text-align: center;">1010 0100</td>
<td style="text-align: center;">2: branchbyte1, branchbyte2</td>
<td style="text-align: center;">value1, value2 &#x2192;</td>
<td style="text-align: left;">if <em>value1</em> is less than or equal to <em>value2</em>, branch to instruction at <em>branchoffset</em> (signed short constructed from unsigned bytes branchbyte1 &lt;&lt; 8 + branchbyte2)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">if_icmplt</td>
<td style="text-align: center;">a1</td>
<td style="text-align: center;">1010 0001</td>
<td style="text-align: center;">2: branchbyte1, branchbyte2</td>
<td style="text-align: center;">value1, value2 &#x2192;</td>
<td style="text-align: left;">if <em>value1</em> is less than <em>value2</em>, branch to instruction at <em>branchoffset</em>(signed short constructed from unsigned bytes branchbyte1 &lt;&lt; 8 + branchbyte2)</td>
</tr>
<tr class="even">
<td style="text-align: center;">if_icmpne</td>
<td style="text-align: center;">a0</td>
<td style="text-align: center;">1010 0000</td>
<td style="text-align: center;">2: branchbyte1, branchbyte2</td>
<td style="text-align: center;">value1, value2 &#x2192;</td>
<td style="text-align: left;">if ints are not equal, branch to instruction at <em>branchoffset</em> (signed short constructed from unsigned bytes branchbyte1 &lt;&lt; 8 + branchbyte2)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">ifeq</td>
<td style="text-align: center;">99</td>
<td style="text-align: center;">1001 1001</td>
<td style="text-align: center;">2: branchbyte1, branchbyte2</td>
<td style="text-align: center;">value &#x2192;</td>
<td style="text-align: left;">if <em>value</em> is 0, branch to instruction at <em>branchoffset</em> (signed short constructed from unsigned bytes branchbyte1 &lt;&lt; 8 + branchbyte2)</td>
</tr>
<tr class="even">
<td style="text-align: center;">ifge</td>
<td style="text-align: center;">9c</td>
<td style="text-align: center;">1001 1100</td>
<td style="text-align: center;">2: branchbyte1, branchbyte2</td>
<td style="text-align: center;">value &#x2192;</td>
<td style="text-align: left;">if <em>value</em> is greater than or equal to 0, branch to instruction at <em>branchoffset</em> (signed short constructed from unsigned bytes branchbyte1 &lt;&lt; 8 + branchbyte2)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">ifgt</td>
<td style="text-align: center;">9d</td>
<td style="text-align: center;">1001 1101</td>
<td style="text-align: center;">2: branchbyte1, branchbyte2</td>
<td style="text-align: center;">value &#x2192;</td>
<td style="text-align: left;">if <em>value</em> is greater than 0, branch to instruction at <em>branchoffset</em> (signed short constructed from unsigned bytes branchbyte1 &lt;&lt; 8 + branchbyte2)</td>
</tr>
<tr class="even">
<td style="text-align: center;">ifle</td>
<td style="text-align: center;">9e</td>
<td style="text-align: center;">1001 1110</td>
<td style="text-align: center;">2: branchbyte1, branchbyte2</td>
<td style="text-align: center;">value &#x2192;</td>
<td style="text-align: left;">if <em>value</em> is less than or equal to 0, branch to instruction at <em>branchoffset</em>(signed short constructed from unsigned bytes branchbyte1 &lt;&lt; 8 + branchbyte2)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">iflt</td>
<td style="text-align: center;">9b</td>
<td style="text-align: center;">1001 1011</td>
<td style="text-align: center;">2: branchbyte1, branchbyte2</td>
<td style="text-align: center;">value &#x2192;</td>
<td style="text-align: left;">if <em>value</em> is less than 0, branch to instruction at <em>branchoffset</em> (signed short constructed from unsigned bytes branchbyte1 &lt;&lt; 8 + branchbyte2)</td>
</tr>
<tr class="even">
<td style="text-align: center;">ifne</td>
<td style="text-align: center;">9a</td>
<td style="text-align: center;">1001 1010</td>
<td style="text-align: center;">2: branchbyte1, branchbyte2</td>
<td style="text-align: center;">value &#x2192;</td>
<td style="text-align: left;">if <em>value</em> is not 0, branch to instruction at <em>branchoffset</em> (signed short constructed from unsigned bytes branchbyte1 &lt;&lt; 8 + branchbyte2)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">ifnonnull</td>
<td style="text-align: center;">c7</td>
<td style="text-align: center;">1100 0111</td>
<td style="text-align: center;">2: branchbyte1, branchbyte2</td>
<td style="text-align: center;">value &#x2192;</td>
<td style="text-align: left;">if <em>value</em> is not null, branch to instruction at <em>branchoffset</em> (signed short constructed from unsigned bytes branchbyte1 &lt;&lt; 8 + branchbyte2)</td>
</tr>
<tr class="even">
<td style="text-align: center;">ifnull</td>
<td style="text-align: center;">c6</td>
<td style="text-align: center;">1100 0110</td>
<td style="text-align: center;">2: branchbyte1, branchbyte2</td>
<td style="text-align: center;">value &#x2192;</td>
<td style="text-align: left;">if <em>value</em> is null, branch to instruction at <em>branchoffset</em> (signed short constructed from unsigned bytes branchbyte1 &lt;&lt; 8 + branchbyte2)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">iinc</td>
<td style="text-align: center;">84</td>
<td style="text-align: center;">1000 0100</td>
<td style="text-align: center;">2: index, const</td>
<td style="text-align: center;">[No change]</td>
<td style="text-align: left;">increment local variable <em>#index</em> by signed byte <em>const</em></td>
</tr>
<tr class="even">
<td style="text-align: center;">iload</td>
<td style="text-align: center;">15</td>
<td style="text-align: center;">0001 0101</td>
<td style="text-align: center;">1: index</td>
<td style="text-align: center;">&#x2192; value</td>
<td style="text-align: left;">load an int <em>value</em> from a local variable <em>#index</em></td>
</tr>
<tr class="odd">
<td style="text-align: center;">iload_0</td>
<td style="text-align: center;">1a</td>
<td style="text-align: center;">0001 1010</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; value</td>
<td style="text-align: left;">load an int <em>value</em> from local variable 0</td>
</tr>
<tr class="even">
<td style="text-align: center;">iload_1</td>
<td style="text-align: center;">1b</td>
<td style="text-align: center;">0001 1011</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; value</td>
<td style="text-align: left;">load an int <em>value</em> from local variable 1</td>
</tr>
<tr class="odd">
<td style="text-align: center;">iload_2</td>
<td style="text-align: center;">1c</td>
<td style="text-align: center;">0001 1100</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; value</td>
<td style="text-align: left;">load an int <em>value</em> from local variable 2</td>
</tr>
<tr class="even">
<td style="text-align: center;">iload_3</td>
<td style="text-align: center;">1d</td>
<td style="text-align: center;">0001 1101</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; value</td>
<td style="text-align: left;">load an int <em>value</em> from local variable 3</td>
</tr>
<tr class="odd">
<td style="text-align: center;">impdep1</td>
<td style="text-align: center;">fe</td>
<td style="text-align: center;">1111 1110</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: left;">reserved for implementation-dependent operations within debuggers; should not appear in any class file</td>
</tr>
<tr class="even">
<td style="text-align: center;">impdep2</td>
<td style="text-align: center;">ff</td>
<td style="text-align: center;">1111 1111</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: left;">reserved for implementation-dependent operations within debuggers; should not appear in any class file</td>
</tr>
<tr class="odd">
<td style="text-align: center;">imul</td>
<td style="text-align: center;">68</td>
<td style="text-align: center;">0110 1000</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">multiply two integers</td>
</tr>
<tr class="even">
<td style="text-align: center;">ineg</td>
<td style="text-align: center;">74</td>
<td style="text-align: center;">0111 0100</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192; result</td>
<td style="text-align: left;">negate int</td>
</tr>
<tr class="odd">
<td style="text-align: center;">instanceof</td>
<td style="text-align: center;">c1</td>
<td style="text-align: center;">1100 0001</td>
<td style="text-align: center;">2: indexbyte1, indexbyte2</td>
<td style="text-align: center;">objectref &#x2192; result</td>
<td style="text-align: left;">determines if an object <em>objectref</em> is of a given type, identified by class reference <em>index</em> in constant pool (indexbyte1 &lt;&lt; 8 + indexbyte2)</td>
</tr>
<tr class="even">
<td style="text-align: center;">invokedynamic</td>
<td style="text-align: center;">ba</td>
<td style="text-align: center;">1011 1010</td>
<td style="text-align: center;">4: indexbyte1, indexbyte2, 0, 0</td>
<td style="text-align: center;">[arg1, [arg2 ...]] &#x2192; result</td>
<td style="text-align: left;">invokes a dynamic method and puts the result on the stack (might be void); the method is identified by method reference <em>index</em> in constant pool (indexbyte1 &lt;&lt; 8 + indexbyte2)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">invokeinterface</td>
<td style="text-align: center;">b9</td>
<td style="text-align: center;">1011 1001</td>
<td style="text-align: center;">4: indexbyte1, indexbyte2, count, 0</td>
<td style="text-align: center;">objectref, [arg1, arg2, ...] &#x2192; result</td>
<td style="text-align: left;">invokes an interface method on object <em>objectref</em> and puts the result on the stack (might be void); the interface method is identified by method reference <em>index</em> in constant pool (indexbyte1 &lt;&lt; 8 + indexbyte2)</td>
</tr>
<tr class="even">
<td style="text-align: center;">invokespecial</td>
<td style="text-align: center;">b7</td>
<td style="text-align: center;">1011 0111</td>
<td style="text-align: center;">2: indexbyte1, indexbyte2</td>
<td style="text-align: center;">objectref, [arg1, arg2, ...] &#x2192; result</td>
<td style="text-align: left;">invoke instance method on object <em>objectref</em> and puts the result on the stack (might be void); the method is identified by method reference <em>index</em> in constant pool (indexbyte1 &lt;&lt; 8 + indexbyte2)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">invokestatic</td>
<td style="text-align: center;">b8</td>
<td style="text-align: center;">1011 1000</td>
<td style="text-align: center;">2: indexbyte1, indexbyte2</td>
<td style="text-align: center;">[arg1, arg2, ...] &#x2192; result</td>
<td style="text-align: left;">invoke a static method and puts the result on the stack (might be void); the method is identified by method reference <em>index</em> in constant pool (indexbyte1 &lt;&lt; 8 + indexbyte2)</td>
</tr>
<tr class="even">
<td style="text-align: center;">invokevirtual</td>
<td style="text-align: center;">b6</td>
<td style="text-align: center;">1011 0110</td>
<td style="text-align: center;">2: indexbyte1, indexbyte2</td>
<td style="text-align: center;">objectref, [arg1, arg2, ...] &#x2192; result</td>
<td style="text-align: left;">invoke virtual method on object <em>objectref</em> and puts the result on the stack (might be void); the method is identified by method reference <em>index</em> in constant pool (indexbyte1 &lt;&lt; 8 + indexbyte2)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">ior</td>
<td style="text-align: center;">80</td>
<td style="text-align: center;">1000 0000</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">bitwise int OR</td>
</tr>
<tr class="even">
<td style="text-align: center;">irem</td>
<td style="text-align: center;">70</td>
<td style="text-align: center;">0111 0000</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">logical int remainder</td>
</tr>
<tr class="odd">
<td style="text-align: center;">ireturn</td>
<td style="text-align: center;">ac</td>
<td style="text-align: center;">1010 1100</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192; [empty]</td>
<td style="text-align: left;">return an integer from a method</td>
</tr>
<tr class="even">
<td style="text-align: center;">ishl</td>
<td style="text-align: center;">78</td>
<td style="text-align: center;">0111 1000</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">int shift left</td>
</tr>
<tr class="odd">
<td style="text-align: center;">ishr</td>
<td style="text-align: center;">7a</td>
<td style="text-align: center;">0111 1010</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">int arithmetic shift right</td>
</tr>
<tr class="even">
<td style="text-align: center;">istore</td>
<td style="text-align: center;">36</td>
<td style="text-align: center;">0011 0110</td>
<td style="text-align: center;">1: index</td>
<td style="text-align: center;">value &#x2192;</td>
<td style="text-align: left;">store int <em>value</em> into variable <em>#index</em></td>
</tr>
<tr class="odd">
<td style="text-align: center;">istore_0</td>
<td style="text-align: center;">3b</td>
<td style="text-align: center;">0011 1011</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192;</td>
<td style="text-align: left;">store int <em>value</em> into variable 0</td>
</tr>
<tr class="even">
<td style="text-align: center;">istore_1</td>
<td style="text-align: center;">3c</td>
<td style="text-align: center;">0011 1100</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192;</td>
<td style="text-align: left;">store int <em>value</em> into variable 1</td>
</tr>
<tr class="odd">
<td style="text-align: center;">istore_2</td>
<td style="text-align: center;">3d</td>
<td style="text-align: center;">0011 1101</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192;</td>
<td style="text-align: left;">store int <em>value</em> into variable 2</td>
</tr>
<tr class="even">
<td style="text-align: center;">istore_3</td>
<td style="text-align: center;">3e</td>
<td style="text-align: center;">0011 1110</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192;</td>
<td style="text-align: left;">store int <em>value</em> into variable 3</td>
</tr>
<tr class="odd">
<td style="text-align: center;">isub</td>
<td style="text-align: center;">64</td>
<td style="text-align: center;">0110 0100</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">int subtract</td>
</tr>
<tr class="even">
<td style="text-align: center;">iushr</td>
<td style="text-align: center;">7c</td>
<td style="text-align: center;">0111 1100</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">int logical shift right</td>
</tr>
<tr class="odd">
<td style="text-align: center;">ixor</td>
<td style="text-align: center;">82</td>
<td style="text-align: center;">1000 0010</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">int xor</td>
</tr>
<tr class="even">
<td style="text-align: center;">jsr</td>
<td style="text-align: center;">a8</td>
<td style="text-align: center;">1010 1000</td>
<td style="text-align: center;">2: branchbyte1, branchbyte2</td>
<td style="text-align: center;">&#x2192; address</td>
<td style="text-align: left;">jump to subroutine at <em>branchoffset</em> (signed short constructed from unsigned bytes branchbyte1 &lt;&lt; 8 + branchbyte2) and place the return address on the stack</td>
</tr>
<tr class="odd">
<td style="text-align: center;">jsr_w</td>
<td style="text-align: center;">c9</td>
<td style="text-align: center;">1100 1001</td>
<td style="text-align: center;">4: branchbyte1, branchbyte2, branchbyte3, branchbyte4</td>
<td style="text-align: center;">&#x2192; address</td>
<td style="text-align: left;">jump to subroutine at <em>branchoffset</em> (signed int constructed from unsigned bytes branchbyte1 &lt;&lt; 24 + branchbyte2 &lt;&lt; 16 + branchbyte3 &lt;&lt; 8 + branchbyte4) and place the return address on the stack</td>
</tr>
<tr class="even">
<td style="text-align: center;">l2d</td>
<td style="text-align: center;">8a</td>
<td style="text-align: center;">1000 1010</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192; result</td>
<td style="text-align: left;">convert a long to a double</td>
</tr>
<tr class="odd">
<td style="text-align: center;">l2f</td>
<td style="text-align: center;">89</td>
<td style="text-align: center;">1000 1001</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192; result</td>
<td style="text-align: left;">convert a long to a float</td>
</tr>
<tr class="even">
<td style="text-align: center;">l2i</td>
<td style="text-align: center;">88</td>
<td style="text-align: center;">1000 1000</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192; result</td>
<td style="text-align: left;">convert a long to a int</td>
</tr>
<tr class="odd">
<td style="text-align: center;">ladd</td>
<td style="text-align: center;">61</td>
<td style="text-align: center;">0110 0001</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">add two longs</td>
</tr>
<tr class="even">
<td style="text-align: center;">laload</td>
<td style="text-align: center;">2f</td>
<td style="text-align: center;">0010 1111</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">arrayref, index &#x2192; value</td>
<td style="text-align: left;">load a long from an array</td>
</tr>
<tr class="odd">
<td style="text-align: center;">land</td>
<td style="text-align: center;">7f</td>
<td style="text-align: center;">0111 1111</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;"><a href="https://en.wikipedia.org/wiki/Bitwise_operation" target="_blank" rel="noopener">bitwise</a> AND of two longs</td>
</tr>
<tr class="even">
<td style="text-align: center;">lastore</td>
<td style="text-align: center;">50</td>
<td style="text-align: center;">0101 0000</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">arrayref, index, value &#x2192;</td>
<td style="text-align: left;">store a long to an array</td>
</tr>
<tr class="odd">
<td style="text-align: center;">lcmp</td>
<td style="text-align: center;">94</td>
<td style="text-align: center;">1001 0100</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">push 0 if the two longs are the same, 1 if value1 is greater than value2, -1 otherwise</td>
</tr>
<tr class="even">
<td style="text-align: center;">lconst_0</td>
<td style="text-align: center;">09</td>
<td style="text-align: center;">0000 1001</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; 0L</td>
<td style="text-align: left;">push <em>0L</em> (the number <a href="https://en.wikipedia.org/wiki/Zero" target="_blank" rel="noopener">zero</a> with type <em>long</em>) onto the stack</td>
</tr>
<tr class="odd">
<td style="text-align: center;">lconst_1</td>
<td style="text-align: center;">0a</td>
<td style="text-align: center;">0000 1010</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; 1L</td>
<td style="text-align: left;">push <em>1L</em> (the number <a href="https://en.wikipedia.org/wiki/One" target="_blank" rel="noopener">one</a> with type <em>long</em>) onto the stack</td>
</tr>
<tr class="even">
<td style="text-align: center;">ldc</td>
<td style="text-align: center;">12</td>
<td style="text-align: center;">0001 0010</td>
<td style="text-align: center;">1: index</td>
<td style="text-align: center;">&#x2192; value</td>
<td style="text-align: left;">push a constant <em>#index</em> from a constant pool (String, int, float, Class, java.lang.invoke.MethodType, or java.lang.invoke.MethodHandle) onto the stack</td>
</tr>
<tr class="odd">
<td style="text-align: center;">ldc2_w</td>
<td style="text-align: center;">14</td>
<td style="text-align: center;">0001 0100</td>
<td style="text-align: center;">2: indexbyte1, indexbyte2</td>
<td style="text-align: center;">&#x2192; value</td>
<td style="text-align: left;">push a constant <em>#index</em> from a constant pool (double or long) onto the stack (wide <em>index</em> is constructed as indexbyte1 &lt;&lt; 8 + indexbyte2)</td>
</tr>
<tr class="even">
<td style="text-align: center;">ldc_w</td>
<td style="text-align: center;">13</td>
<td style="text-align: center;">0001 0011</td>
<td style="text-align: center;">2: indexbyte1, indexbyte2</td>
<td style="text-align: center;">&#x2192; value</td>
<td style="text-align: left;">push a constant <em>#index</em> from a constant pool (String, int, float, Class, java.lang.invoke.MethodType, or java.lang.invoke.MethodHandle) onto the stack (wide <em>index</em> is constructed as indexbyte1 &lt;&lt; 8 + indexbyte2)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">ldiv</td>
<td style="text-align: center;">6d</td>
<td style="text-align: center;">0110 1101</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">divide two longs</td>
</tr>
<tr class="even">
<td style="text-align: center;">lload</td>
<td style="text-align: center;">16</td>
<td style="text-align: center;">0001 0110</td>
<td style="text-align: center;">1: index</td>
<td style="text-align: center;">&#x2192; value</td>
<td style="text-align: left;">load a long value from a local variable <em>#index</em></td>
</tr>
<tr class="odd">
<td style="text-align: center;">lload_0</td>
<td style="text-align: center;">1e</td>
<td style="text-align: center;">0001 1110</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; value</td>
<td style="text-align: left;">load a long value from a local variable 0</td>
</tr>
<tr class="even">
<td style="text-align: center;">lload_1</td>
<td style="text-align: center;">1f</td>
<td style="text-align: center;">0001 1111</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; value</td>
<td style="text-align: left;">load a long value from a local variable 1</td>
</tr>
<tr class="odd">
<td style="text-align: center;">lload_2</td>
<td style="text-align: center;">20</td>
<td style="text-align: center;">0010 0000</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; value</td>
<td style="text-align: left;">load a long value from a local variable 2</td>
</tr>
<tr class="even">
<td style="text-align: center;">lload_3</td>
<td style="text-align: center;">21</td>
<td style="text-align: center;">0010 0001</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; value</td>
<td style="text-align: left;">load a long value from a local variable 3</td>
</tr>
<tr class="odd">
<td style="text-align: center;">lmul</td>
<td style="text-align: center;">69</td>
<td style="text-align: center;">0110 1001</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">multiply two longs</td>
</tr>
<tr class="even">
<td style="text-align: center;">lneg</td>
<td style="text-align: center;">75</td>
<td style="text-align: center;">0111 0101</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192; result</td>
<td style="text-align: left;">negate a long</td>
</tr>
<tr class="odd">
<td style="text-align: center;">lookupswitch</td>
<td style="text-align: center;">ab</td>
<td style="text-align: center;">1010 1011</td>
<td style="text-align: center;">8+: &lt;0&#x2013;3 bytes padding&gt;, defaultbyte1, defaultbyte2, defaultbyte3, defaultbyte4, npairs1, npairs2, npairs3, npairs4, match-offset pairs...</td>
<td style="text-align: center;">key &#x2192;</td>
<td style="text-align: left;">a target address is looked up from a table using a key and execution continues from the instruction at that address</td>
</tr>
<tr class="even">
<td style="text-align: center;">lor</td>
<td style="text-align: center;">81</td>
<td style="text-align: center;">1000 0001</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">bitwise OR of two longs</td>
</tr>
<tr class="odd">
<td style="text-align: center;">lrem</td>
<td style="text-align: center;">71</td>
<td style="text-align: center;">0111 0001</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">remainder of division of two longs</td>
</tr>
<tr class="even">
<td style="text-align: center;">lreturn</td>
<td style="text-align: center;">ad</td>
<td style="text-align: center;">1010 1101</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192; [empty]</td>
<td style="text-align: left;">return a long value</td>
</tr>
<tr class="odd">
<td style="text-align: center;">lshl</td>
<td style="text-align: center;">79</td>
<td style="text-align: center;">0111 1001</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">bitwise shift left of a long <em>value1</em> by int <em>value2</em> positions</td>
</tr>
<tr class="even">
<td style="text-align: center;">lshr</td>
<td style="text-align: center;">7b</td>
<td style="text-align: center;">0111 1011</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">bitwise shift right of a long <em>value1</em> by int <em>value2</em> positions</td>
</tr>
<tr class="odd">
<td style="text-align: center;">lstore</td>
<td style="text-align: center;">37</td>
<td style="text-align: center;">0011 0111</td>
<td style="text-align: center;">1: index</td>
<td style="text-align: center;">value &#x2192;</td>
<td style="text-align: left;">store a long <em>value</em> in a local variable <em>#index</em></td>
</tr>
<tr class="even">
<td style="text-align: center;">lstore_0</td>
<td style="text-align: center;">3f</td>
<td style="text-align: center;">0011 1111</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192;</td>
<td style="text-align: left;">store a long <em>value</em> in a local variable 0</td>
</tr>
<tr class="odd">
<td style="text-align: center;">lstore_1</td>
<td style="text-align: center;">40</td>
<td style="text-align: center;">0100 0000</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192;</td>
<td style="text-align: left;">store a long <em>value</em> in a local variable 1</td>
</tr>
<tr class="even">
<td style="text-align: center;">lstore_2</td>
<td style="text-align: center;">41</td>
<td style="text-align: center;">0100 0001</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192;</td>
<td style="text-align: left;">store a long <em>value</em> in a local variable 2</td>
</tr>
<tr class="odd">
<td style="text-align: center;">lstore_3</td>
<td style="text-align: center;">42</td>
<td style="text-align: center;">0100 0010</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192;</td>
<td style="text-align: left;">store a long <em>value</em> in a local variable 3</td>
</tr>
<tr class="even">
<td style="text-align: center;">lsub</td>
<td style="text-align: center;">65</td>
<td style="text-align: center;">0110 0101</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">subtract two longs</td>
</tr>
<tr class="odd">
<td style="text-align: center;">lushr</td>
<td style="text-align: center;">7d</td>
<td style="text-align: center;">0111 1101</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">bitwise shift right of a long <em>value1</em> by int <em>value2</em> positions, unsigned</td>
</tr>
<tr class="even">
<td style="text-align: center;">lxor</td>
<td style="text-align: center;">83</td>
<td style="text-align: center;">1000 0011</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value1, value2 &#x2192; result</td>
<td style="text-align: left;">bitwise XOR of two longs</td>
</tr>
<tr class="odd">
<td style="text-align: center;">monitorenter</td>
<td style="text-align: center;">c2</td>
<td style="text-align: center;">1100 0010</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">objectref &#x2192;</td>
<td style="text-align: left;">enter monitor for object (&quot;grab the lock&quot; &#x2013; start of synchronized() section)</td>
</tr>
<tr class="even">
<td style="text-align: center;">monitorexit</td>
<td style="text-align: center;">c3</td>
<td style="text-align: center;">1100 0011</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">objectref &#x2192;</td>
<td style="text-align: left;">exit monitor for object (&quot;release the lock&quot; &#x2013; end of synchronized() section)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">multianewarray</td>
<td style="text-align: center;">c5</td>
<td style="text-align: center;">1100 0101</td>
<td style="text-align: center;">3: indexbyte1, indexbyte2, dimensions</td>
<td style="text-align: center;">count1, [count2,...] &#x2192; arrayref</td>
<td style="text-align: left;">create a new array of <em>dimensions</em> dimensions of type identified by class reference in constant pool <em>index</em> (indexbyte1 &lt;&lt; 8 + indexbyte2); the sizes of each dimension is identified by <em>count1</em>, [<em>count2</em>, etc.]</td>
</tr>
<tr class="even">
<td style="text-align: center;">new</td>
<td style="text-align: center;">bb</td>
<td style="text-align: center;">1011 1011</td>
<td style="text-align: center;">2: indexbyte1, indexbyte2</td>
<td style="text-align: center;">&#x2192; objectref</td>
<td style="text-align: left;">create new object of type identified by class reference in constant pool <em>index</em> (indexbyte1 &lt;&lt; 8 + indexbyte2)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">newarray</td>
<td style="text-align: center;">bc</td>
<td style="text-align: center;">1011 1100</td>
<td style="text-align: center;">1: atype</td>
<td style="text-align: center;">count &#x2192; arrayref</td>
<td style="text-align: left;">create new array with <em>count</em> elements of primitive type identified by <em>atype</em></td>
</tr>
<tr class="even">
<td style="text-align: center;">nop</td>
<td style="text-align: center;">00</td>
<td style="text-align: center;">0000 0000</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">[No change]</td>
<td style="text-align: left;">perform no operation</td>
</tr>
<tr class="odd">
<td style="text-align: center;">pop</td>
<td style="text-align: center;">57</td>
<td style="text-align: center;">0101 0111</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value &#x2192;</td>
<td style="text-align: left;">discard the top value on the stack</td>
</tr>
<tr class="even">
<td style="text-align: center;">pop2</td>
<td style="text-align: center;">58</td>
<td style="text-align: center;">0101 1000</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">{value2, value1} &#x2192;</td>
<td style="text-align: left;">discard the top two values on the stack (or one value, if it is a double or long)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">putfield</td>
<td style="text-align: center;">b5</td>
<td style="text-align: center;">1011 0101</td>
<td style="text-align: center;">2: indexbyte1, indexbyte2</td>
<td style="text-align: center;">objectref, value &#x2192;</td>
<td style="text-align: left;">set field to <em>value</em> in an object <em>objectref</em>, where the field is identified by a field reference <em>index</em> in constant pool (indexbyte1 &lt;&lt; 8 + indexbyte2)</td>
</tr>
<tr class="even">
<td style="text-align: center;">putstatic</td>
<td style="text-align: center;">b3</td>
<td style="text-align: center;">1011 0011</td>
<td style="text-align: center;">2: indexbyte1, indexbyte2</td>
<td style="text-align: center;">value &#x2192;</td>
<td style="text-align: left;">set static field to <em>value</em> in a class, where the field is identified by a field reference <em>index</em> in constant pool (indexbyte1 &lt;&lt; 8 + indexbyte2)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">ret</td>
<td style="text-align: center;">a9</td>
<td style="text-align: center;">1010 1001</td>
<td style="text-align: center;">1: index</td>
<td style="text-align: center;">[No change]</td>
<td style="text-align: left;">continue execution from address taken from a local variable <em>#index</em>(the asymmetry with jsr is intentional)</td>
</tr>
<tr class="even">
<td style="text-align: center;">return</td>
<td style="text-align: center;">b1</td>
<td style="text-align: center;">1011 0001</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">&#x2192; [empty]</td>
<td style="text-align: left;">return void from method</td>
</tr>
<tr class="odd">
<td style="text-align: center;">saload</td>
<td style="text-align: center;">35</td>
<td style="text-align: center;">0011 0101</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">arrayref, index &#x2192; value</td>
<td style="text-align: left;">load short from array</td>
</tr>
<tr class="even">
<td style="text-align: center;">sastore</td>
<td style="text-align: center;">56</td>
<td style="text-align: center;">0101 0110</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">arrayref, index, value &#x2192;</td>
<td style="text-align: left;">store short to array</td>
</tr>
<tr class="odd">
<td style="text-align: center;">sipush</td>
<td style="text-align: center;">11</td>
<td style="text-align: center;">0001 0001</td>
<td style="text-align: center;">2: byte1, byte2</td>
<td style="text-align: center;">&#x2192; value</td>
<td style="text-align: left;">push a short onto the stack as an integer <em>value</em></td>
</tr>
<tr class="even">
<td style="text-align: center;">swap</td>
<td style="text-align: center;">5f</td>
<td style="text-align: center;">0101 1111</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">value2, value1 &#x2192; value1, value2</td>
<td style="text-align: left;">swaps two top words on the stack (note that value1 and value2 must not be double or long)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">tableswitch</td>
<td style="text-align: center;">aa</td>
<td style="text-align: center;">1010 1010</td>
<td style="text-align: center;">16+: [0&#x2013;3 bytes padding], defaultbyte1, defaultbyte2, defaultbyte3, defaultbyte4, lowbyte1, lowbyte2, lowbyte3, lowbyte4, highbyte1, highbyte2, highbyte3, highbyte4, jump offsets...</td>
<td style="text-align: center;">index &#x2192;</td>
<td style="text-align: left;">continue execution from an address in the table at offset <em>index</em></td>
</tr>
<tr class="even">
<td style="text-align: center;">wide</td>
<td style="text-align: center;">c4</td>
<td style="text-align: center;">1100 0100</td>
<td style="text-align: center;">3/5: opcode, indexbyte1, indexbyte2 or iinc, indexbyte1, indexbyte2, countbyte1, countbyte2</td>
<td style="text-align: center;">[same as for corresponding instructions]</td>
<td style="text-align: left;">execute <em>opcode</em>, where <em>opcode</em> is either iload, fload, aload, lload, dload, istore, fstore, astore, lstore, dstore, or ret, but assume the <em>index</em>is 16 bit; or execute iinc, where the <em>index</em> is 16 bits and the constant to increment by is a signed 16 bit short</td>
</tr>
</tbody>
</table>
<h2 id="&#x63CF;&#x8FF0;&#x7B26;">&#x63CF;&#x8FF0;&#x7B26;</h2>
<p>&#x63CF;&#x8FF0;&#x7B26;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x7528;&#x6765;&#x63CF;&#x8FF0;&#x5B57;&#x6BB5;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3001;&#x65B9;&#x6CD5;&#x7684;&#x53C2;&#x6570;&#x5217;&#x8868;&#xFF08;&#x5305;&#x62EC;&#x6570;&#x91CF;&#x3001;&#x7C7B;&#x578B;&#x4EE5;&#x53CA;&#x987A;&#x5E8F;&#xFF09;&#x548C;&#x8FD4;&#x56DE;&#x503C;&#x3002;&#x6839;&#x636E;&#x63CF;&#x8FF0;&#x7B26;&#x89C4;&#x5219;&#xFF0C;&#x57FA;&#x672C;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF08;byte&#x3001;char&#x3001;double&#x3001;float&#x3001;int&#x3001;long&#x3001;short&#x3001;boolean&#xFF09;&#x4EE5;&#x53CA;&#x4EE3;&#x8868;&#x65E0;&#x8FD4;&#x56DE;&#x503C;&#x7684; void &#x7C7B;&#x578B;&#x90FD;&#x7528;&#x4E00;&#x4E2A;&#x5927;&#x5199;&#x5B57;&#x7B26;&#x6765;&#x8868;&#x793A;&#xFF0C;&#x800C;&#x5BF9;&#x8C61;&#x7C7B;&#x578B;&#x5219;&#x7528;&#x5B57;&#x7B26; L &#x52A0;&#x5BF9;&#x8C61;&#x7684;&#x5168;&#x9650;&#x5B9A;&#x540D;&#x6765;&#x8868;&#x793A;&#xFF0C;&#x8BE6;&#x89C1;&#x4E0B;&#x8868;:</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">&#x6807;&#x5FD7;&#x7B26;</th>
<th style="text-align: left;">&#x542B;&#x4E49;</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">B</td>
<td style="text-align: left;">&#x57FA;&#x672C;&#x6570;&#x636E;&#x7C7B;&#x578B; byte</td>
</tr>
<tr class="even">
<td style="text-align: left;">C</td>
<td style="text-align: left;">&#x57FA;&#x672C;&#x6570;&#x636E;&#x7C7B;&#x578B; char</td>
</tr>
<tr class="odd">
<td style="text-align: left;">D</td>
<td style="text-align: left;">&#x57FA;&#x672C;&#x6570;&#x636E;&#x7C7B;&#x578B; double</td>
</tr>
<tr class="even">
<td style="text-align: left;">F</td>
<td style="text-align: left;">&#x57FA;&#x672C;&#x6570;&#x636E;&#x7C7B;&#x578B; float</td>
</tr>
<tr class="odd">
<td style="text-align: left;">I</td>
<td style="text-align: left;">&#x57FA;&#x672C;&#x6570;&#x636E;&#x7C7B;&#x578B; int</td>
</tr>
<tr class="even">
<td style="text-align: left;">J</td>
<td style="text-align: left;">&#x57FA;&#x672C;&#x6570;&#x636E;&#x7C7B;&#x578B; long</td>
</tr>
<tr class="odd">
<td style="text-align: left;">S</td>
<td style="text-align: left;">&#x57FA;&#x672C;&#x6570;&#x636E;&#x7C7B;&#x578B; short</td>
</tr>
<tr class="even">
<td style="text-align: left;">Z</td>
<td style="text-align: left;">&#x57FA;&#x672C;&#x6570;&#x636E;&#x7C7B;&#x578B; boolean</td>
</tr>
<tr class="odd">
<td style="text-align: left;">V</td>
<td style="text-align: left;">&#x57FA;&#x672C;&#x6570;&#x636E;&#x7C7B;&#x578B; void</td>
</tr>
<tr class="even">
<td style="text-align: left;">L</td>
<td style="text-align: left;">&#x5BF9;&#x8C61;&#x7C7B;&#x578B;,&#x5982; Ljava/lang/Object</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[*</td>
<td style="text-align: left;">&#x6570;&#x7EC4;&#x7C7B;&#x578B;,&#x5982; [Ljava/lang/Object</td>
</tr>
</tbody>
</table>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://leaderli.github.io/2020/04/18/大学计算机笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lijun">
      <meta itemprop="description" content="与其感慨路难行，不如马上就出发">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="大狗哥传奇">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2020/04/18/大学计算机笔记/" class="post-title-link" itemprop="url">大学计算机笔记</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-04-18 10:19:11" itemprop="dateCreated datePublished" datetime="2020-04-18T10:19:11+08:00">2020-04-18</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-06-30 23:59:15" itemprop="dateModified" datetime="2020-06-30T23:59:15+08:00">2020-06-30</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/计算机基础/" itemprop="url" rel="index"><span itemprop="name">计算机基础</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.css" integrity="sha384-dbVIfZGuN1Yq7/1Ocstc1lUEm+AT+/rCkibIcC/OmWo5f0EA48Vf8CytHzGrSwbQ" crossorigin="anonymous"><h2 id="&#x8FD0;&#x7B97;&#x51CF;&#x6CD5;&#x8865;&#x7801;&#x53CD;&#x7801;">&#x8FD0;&#x7B97;&#x51CF;&#x6CD5;(&#x8865;&#x7801;&#x53CD;&#x7801;)</h2>
<p>&#x5BF9;&#x4E8E;&#x5341;&#x4E8C;&#x523B;&#x65F6;&#x7684;&#x65F6;&#x949F;&#x6765;&#x8BF4;&#xFF0C;&#x5B83;&#x7684;&#x4E00;&#x4E2A;&#x5468;&#x671F;&#x4E3A; 12 &#x4E2A;&#x5C0F;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x79F0;&#x4E4B;&#x4E3A;&#x6A21;&#x3002;<code>9-3</code>&#x5373;&#x4ECE; 9 &#x70B9;&#x5411;&#x540E;&#x62E8; 3 &#x4E2A;&#x5C0F;&#x65F6;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x662F; 6 &#x70B9;&#xFF0C;&#x540C;&#x65F6;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x5411;&#x524D;&#x62E8; 9 &#x4E2A;&#x5C0F;&#x65F6;&#xFF0C;&#x90A3;&#x4E48;&#x4E5F;&#x662F; 6 &#x70B9;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x51CF;&#x6CD5;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0E;&#x6A21;&#x6765;&#x53D8;&#x6362;&#x6210;&#x52A0;&#x6CD5;&#x3002;&#x5BF9;&#x4E8E;&#x65F6;&#x949F;&#x6765;&#x8BF4;&#x6A21;<code>R = 12</code>,<code>-3</code>&#x4E0E;&#x6A21;&#x76F8;&#x5DEE;<code>9</code>&#x3002;&#x90A3;&#x4E48;<code>-3</code>&#x7B49;&#x540C;&#x4E8E;<code>+9</code>&#x3002;&#x8FD9;&#x4E2A;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5982;&#x4E0B;&#x516C;&#x5F0F;&#x6765;&#x8BC1;&#x660E;</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>&#x2212;</mo><mi>b</mi><mo>=</mo><mi>a</mi><mo>&#x2212;</mo><mi>b</mi><mo>+</mo><mi>R</mi><mo>=</mo><mi>a</mi><mo>+</mo><mo stretchy="false">(</mo><mi>R</mi><mo>&#x2212;</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">
   a-b=a-b+R=a+(R-b)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">&#x2212;</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">&#x2212;</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">&#x2212;</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span></span></span></span></span></p>
<p>&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;<code>n</code>&#x4F4D;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x6765;&#x8BF4;&#xFF0C;&#x5B83;&#x7684;&#x6A21; R = <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">2^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.664392em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span></span></span></span>&#xFF0C;&#x5B83;&#x7684;&#x51CF;&#x6CD5;&#x53EF;&#x4EE5;&#x7528;&#x4EE5;&#x4E0B;&#x516C;&#x5F0F;&#x6765;&#x6362;&#x7B97;</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>&#x2212;</mo><mi>b</mi><mo>=</mo><mi>a</mi><mo>&#x2212;</mo><mi>b</mi><mo>+</mo><msup><mn>2</mn><mi>n</mi></msup><mo>=</mo><mi>a</mi><mo>+</mo><mo stretchy="false">(</mo><msup><mn>2</mn><mi>n</mi></msup><mo>&#x2212;</mo><mi>b</mi><mo stretchy="false">)</mo><mo>=</mo><mi>a</mi><mo>+</mo><mo stretchy="false">(</mo><msup><mn>2</mn><mi>n</mi></msup><mo>&#x2212;</mo><mn>1</mn><mo>+</mo><mn>1</mn><mo>&#x2212;</mo><mi>b</mi><mo stretchy="false">)</mo><mo>=</mo><mi>a</mi><mo>+</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><msup><mn>2</mn><mi>n</mi></msup><mo>&#x2212;</mo><mn>1</mn><mo stretchy="false">)</mo><mo>&#x2212;</mo><mi>b</mi><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">
   a-b=a-b+2^n=a+(2^n-b)=a+(2^n-1+1-b)=a+((2^n-1)-b)+1
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">&#x2212;</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">&#x2212;</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7143919999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">&#x2212;</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">&#x2212;</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">&#x2212;</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">&#x2212;</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">&#x2212;</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mi>n</mi></msup><mo>&#x2212;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.747722em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">&#x2212;</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>&#x7528;&#x4E8C;&#x8FDB;&#x5236;&#x8868;&#x8FBE;&#x5C31;&#x662F; n &#x4F4D; 1,<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msup><mn>2</mn><mi>n</mi></msup><mo>&#x2212;</mo><mn>1</mn><mo stretchy="false">)</mo><mo>&#x2212;</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">(2^n-1) - b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">&#x2212;</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">&#x2212;</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span>&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x8BA1;&#x7B97;<code>-b</code>&#x7684;&#x8865;&#x7801;&#x6240;&#x4EE5;&#x4E0A;&#x8FF0;&#x8868;&#x793A;&#x5F0F;&#x6700;&#x7EC8;&#x53EF;&#x4EE5;&#x8868;&#x73B0;&#x4E3A;<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>+</mo><mover accent="true"><mi>b</mi><mo stretchy="true">&#x203E;</mo></mover><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">a+\overline{b}+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.97777em;vertical-align:-0.08333em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.89444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">b</span></span></span><span style="top:-3.81444em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>&#xFF0C;&#x8FD9;&#x4E2A;&#x5C31;&#x662F;&#x4FD7;&#x79F0;&#x7684;&#x53CD;&#x7801;</p>
<h2 id="&#x4E0E;&#x975E;&#x95E8;&#x5B9E;&#x73B0;&#x771F;&#x503C;&#x8868;&#x8FBE;&#x5F0F;">&#x4E0E;&#x975E;&#x95E8;&#x5B9E;&#x73B0;&#x771F;&#x503C;&#x8868;&#x8FBE;&#x5F0F;</h2>
<p><img src="/images/&#x5927;&#x5B66;&#x8BA1;&#x7B97;&#x673A;&#x7B14;&#x8BB0;_2020-04-18-17-50-17.png" alt="&#x5927;&#x5B66;&#x8BA1;&#x7B97;&#x673A;&#x7B14;&#x8BB0;_2020-04-18-17-50-17.png"> <img src="/images/&#x5927;&#x5B66;&#x8BA1;&#x7B97;&#x673A;&#x7B14;&#x8BB0;_2020-04-18-17-51-41.png" alt="&#x5927;&#x5B66;&#x8BA1;&#x7B97;&#x673A;&#x7B14;&#x8BB0;_2020-04-18-17-51-41.png"></p>
<h2 id="&#x4E2D;&#x6587;ascii&#x7801;">&#x4E2D;&#x6587;<code>ASCII</code>&#x7801;</h2>
<p><code>html</code>&#x4E2D;&#x4EE5;<code>&amp;#x</code>&#x5F00;&#x5934;&#x7684;&#x7279;&#x6B8A;&#x5B57;&#x7B26;</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://leaderli.github.io/2020/03/16/spring配置类加载yaml配置项的模拟实现/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lijun">
      <meta itemprop="description" content="与其感慨路难行，不如马上就出发">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="大狗哥传奇">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2020/03/16/spring配置类加载yaml配置项的模拟实现/" class="post-title-link" itemprop="url">spring配置类加载yaml配置项的模拟实现</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-03-16 14:27:04" itemprop="dateCreated datePublished" datetime="2020-03-16T14:27:04+08:00">2020-03-16</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-06-30 23:59:15" itemprop="dateModified" datetime="2020-06-30T23:59:15+08:00">2020-06-30</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/spring/" itemprop="url" rel="index"><span itemprop="name">spring</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x6838;&#x5FC3;&#x601D;&#x8DEF;&#x5C31;&#x662F;&#x81EA;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x6CE8;&#x89E3;&#x7528;&#x4EE5;<code>Spring</code>&#x542F;&#x52A8;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5C06;&#x5176;&#x624B;&#x52A8;&#x6CE8;&#x5165;&#x5230;<code>Spring</code>&#x5BB9;&#x5668;&#x4E2D;&#xFF0C;&#x5E76;&#x5E72;&#x9884;&#x8BE5;&#x7C7B;&#x7684;&#x5B9E;&#x4F8B;&#x5316;&#x8FC7;&#x7A0B;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target</span>({ElementType.TYPE})</span><br><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> YamlBean {</span><br><span class="line">    <span class="function">String <span class="title">value</span><span class="params">()</span></span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.support.BeanDefinitionRegistry;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.ImportBeanDefinitionRegistrar;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.type.AnnotationMetadata;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.type.filter.AnnotationTypeFilter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Objects;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">YamlBeanRegistrar</span> <span class="keyword">implements</span> <span class="title">ImportBeanDefinitionRegistrar</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">registerBeanDefinitions</span><span class="params">(AnnotationMetadata importingClassMetadata, BeanDefinitionRegistry registry)</span> </span>{</span><br><span class="line">        createComponentScanner().findCandidateComponents(<span class="string">&quot;com.leaderli.yaml&quot;</span>).forEach(beanDefinition -&gt; {</span><br><span class="line">            System.out.println(<span class="string">&quot;beanDefinition = &quot;</span> + beanDefinition);</span><br><span class="line">            beanDefinition.getConstructorArgumentValues().addGenericArgumentValue(Objects.requireNonNull(beanDefinition.getBeanClassName()));</span><br><span class="line">            beanDefinition.setBeanClassName(ProxyFactoryBean.class.getName()); <span class="comment">//&#x6307;&#x5B9A;&#x8BE5;&#x7C7B;&#x7684;&#x751F;&#x6210;&#x5DE5;&#x5382;&#x7C7B;</span></span><br><span class="line">            registry.registerBeanDefinition(Objects.requireNonNull(beanDefinition.getBeanClassName()), beanDefinition);</span><br><span class="line">        });</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> ClassPathScanningCandidateComponentProvider <span class="title">createComponentScanner</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="comment">// &#x626B;&#x63CF;YamlBean&#x6CE8;&#x89E3;&#x7684;&#x7C7B;</span></span><br><span class="line">        ClassPathScanningCandidateComponentProvider provider</span><br><span class="line">                = <span class="keyword">new</span> ClassPathScanningCandidateComponentProvider(<span class="keyword">false</span>);</span><br><span class="line">        provider.addIncludeFilter(<span class="keyword">new</span> AnnotationTypeFilter(YamlBean.class));</span><br><span class="line">        <span class="keyword">return</span> provider;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.FactoryBean;</span><br><span class="line"><span class="keyword">import</span> org.yaml.snakeyaml.Yaml;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProxyFactoryBean</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">FactoryBean</span>&lt;<span class="title">T</span>&gt; </span>{</span><br><span class="line">    <span class="keyword">private</span> Class&lt;T&gt; interfaceClass;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ProxyFactoryBean</span><span class="params">(Class&lt;T&gt; interfaceClass)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.interfaceClass = interfaceClass;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getObject</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>{</span><br><span class="line">        YamlBean annotation = interfaceClass.getAnnotation(YamlBean.class);</span><br><span class="line"></span><br><span class="line">        InputStream inputStream = ClassLoader.getSystemResourceAsStream(<span class="string">&quot;bean.yml&quot;</span>);</span><br><span class="line">        Yaml yaml = <span class="keyword">new</span> Yaml();</span><br><span class="line">        Map&lt;String,Object&gt; load = yaml.load(inputStream);</span><br><span class="line"></span><br><span class="line">        String prefix = annotation.value();</span><br><span class="line">        System.out.println(<span class="string">&quot;prefix = &quot;</span> + prefix);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (String key : prefix.split(<span class="string">&quot;\\.&quot;</span>)) {</span><br><span class="line">            load= (Map&lt;String, Object&gt;) load.get(key);</span><br><span class="line">            System.out.println(<span class="string">&quot;load = &quot;</span> + load);</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">        yaml = <span class="keyword">new</span> Yaml();</span><br><span class="line">        String dump = yaml.dump(load);</span><br><span class="line">        System.out.println(<span class="string">&quot;dump = &quot;</span> + dump);</span><br><span class="line"></span><br><span class="line">        T bean = yaml.loadAs(dump, interfaceClass);</span><br><span class="line">        System.out.println(<span class="string">&quot;bean = &quot;</span> + bean);</span><br><span class="line">        <span class="keyword">return</span> bean;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Class&lt;?&gt; getObjectType() {</span><br><span class="line">        <span class="keyword">return</span> interfaceClass;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSingleton</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x5728;<code>Spring</code>&#x7684;&#x914D;&#x7F6E;&#x7C7B;&#x5C06;&#x626B;&#x63CF;&#x5668;&#x5BFC;&#x5165;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@Import</span>(YamlBeanRegistrar.class)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SpringConfig</span> </span>{</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/6/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><a class="extend next" rel="next" href="/page/8/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">lijun</p>
              <div class="site-description motion-element" itemprop="description">与其感慨路难行，不如马上就出发</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">137</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">29</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">119</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2019 – <span itemprop="copyrightYear">2020</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">lijun</span>

  

  
</div>











        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=3.4.1"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.2.0"></script>

  <script src="/js/motion.js?v=7.2.0"></script>



  
  


  <script src="/js/affix.js?v=7.2.0"></script>

  <script src="/js/schemes/pisces.js?v=7.2.0"></script>



  

  


  <script src="/js/next-boot.js?v=7.2.0"></script>


  

  

  

  


// gitalk






  



  
<script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.json";
    if (search_path.length === 0) {
        search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
        isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
        $('.popup').hide();
        $('#local-search-input').val('');
        $('.search-result-list').remove();
        $('#no-result').remove();
        $(".local-search-pop-overlay").remove();
        $('body').css('overflow', '');
    }

    function proceedsearch() {
        $("body")
            .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
            .css('overflow', 'hidden');
        $('.search-popup-overlay').click(onPopupClose);
        $('.popup').toggle();
        var $localSearchInput = $('#local-search-input');
        $localSearchInput.attr("autocapitalize", "none");
        $localSearchInput.attr("autocorrect", "off");
        $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function (path, search_id, content_id) {
        'use strict';

        // start loading animation
        $("body")
            .append('<div class="search-popup-overlay local-search-pop-overlay">' +
                '<div id="search-loading-icon">' +
                '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
                '</div>' +
                '</div>')
            .css('overflow', 'hidden');
        $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

        $.ajax({
            url: path,
            dataType: isXml ? "xml" : "json",
            async: true,
            success: function (res) {
                // get the contents from search data
                isfetched = true;
                $('.popup').detach().appendTo('.header-inner');
                var datas = isXml ? $("entry", res).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get() : res;
                var input = document.getElementById(search_id);
                var resultContent = document.getElementById(content_id);
                var inputEventFunction = function () {
                    var searchText = input.value.toLowerCase();
                    if (searchText.length < 1) {
                        return
                    }
                    var keywords = []
                    var first_keyword;
                    if (searchText.charAt(0) === '/') {
                        if (searchText.indexOf('/', 1) == 1) {
                            keywords.push(searchText.substring(1))
                        } else if (searchText.length > 2 && searchText.charAt(searchText.length - 1) === '/') {
                            keywords.push('$$')
                            try {
                                eval('first_keyword = ' + searchText + 'g');
                            } catch (err) {
                                console.error(err)
                                return
                            }
                            input.value = searchText.substring(0,searchText.length-1)
                        } else {
                            return
                        }
                    } else {
                        keywords.push(searchText);
                    }
                    var resultItems = [];
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = false;
                        var hitCount = 0;
                        var searchTextCount = 0;
                        if(!data.title){
                            return
                        }
                        var title = data.title.trim();
                        var titleInLowerCase = title.toLowerCase();
                        if (!data.content){
                            console.log(title,'内容为空')
                            return
                        }
                        var content = data.content.trim();
                        var contentInLowerCase = content.toLowerCase();
                        var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                        var indexOfTitle = [];
                        var indexOfContent = [];
                        // only match articles with not empty titles
                        if (title != '') {
                            if (first_keyword) {
                                keywords = contentInLowerCase.match(first_keyword)
                            }
                            if (!keywords) {
                                keywords = []
                            }
                            keywords.forEach(function (keyword) {
                            
                                function getIndexByWord(word, text, caseSensitive) {
                                    var wordLen = word.length;
                                    if (wordLen === 0) {
                                        return [];
                                    }
                                    var startPosition = 0, position = [], index = [];
                                    if (!caseSensitive) {
                                        text = text.toLowerCase();
                                        word = word.toLowerCase();
                                    }
                                    while ((position = text.indexOf(word, startPosition)) > -1) {

                                        index.push({ position: position, word: word });
                                        startPosition = position + wordLen;
                                    }
                                    return index;
                                }

                                indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                                indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                            });
                            if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                                isMatch = true;
                                hitCount = indexOfTitle.length + indexOfContent.length;
                            }
                        }

                        // show search results

                        if (isMatch) {
                            // sort index by position of keyword

                            [indexOfTitle, indexOfContent].forEach(function (index) {
                                index.sort(function (itemLeft, itemRight) {
                                    if (itemRight.position !== itemLeft.position) {
                                        return itemRight.position - itemLeft.position;
                                    } else {
                                        return itemLeft.word.length - itemRight.word.length;
                                    }
                                });
                            });

                            // merge hits into slices

                            function mergeIntoSlice(text, start, end, index) {
                                var item = index[index.length - 1];
                                var position = item.position;
                                var word = item.word;
                                var hits = [];
                                var searchTextCountInSlice = 0;
                                while (position + word.length <= end && index.length != 0) {
                                    if (word === searchText) {
                                        searchTextCountInSlice++;
                                    }
                                    hits.push({ position: position, length: word.length });
                                    var wordEnd = position + word.length;

                                    // move to next position of hit

                                    index.pop();
                                    while (index.length != 0) {
                                        item = index[index.length - 1];
                                        position = item.position;
                                        word = item.word;
                                        if (wordEnd > position) {
                                            index.pop();
                                        } else {
                                            break;
                                        }
                                    }
                                }
                                searchTextCount += searchTextCountInSlice;
                                return {
                                    hits: hits,
                                    start: start,
                                    end: end,
                                    searchTextCount: searchTextCountInSlice
                                };
                            }

                            var slicesOfTitle = [];
                            if (indexOfTitle.length != 0) {
                                slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                            }

                            var slicesOfContent = [];
                            while (indexOfContent.length != 0) {
                                var item = indexOfContent[indexOfContent.length - 1];
                                var position = item.position;
                                var word = item.word;
                                // cut out 100 characters
                                var start = position - 20;
                                var end = position + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (end < position + word.length) {
                                    end = position + word.length;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                            }

                            // sort slices in content by search text's count and hits' count

                            slicesOfContent.sort(function (sliceLeft, sliceRight) {
                                if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                                    return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                                } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                                    return sliceRight.hits.length - sliceLeft.hits.length;
                                } else {
                                    return sliceLeft.start - sliceRight.start;
                                }
                            });

                            // select top N slices in content
                            var upperBound = parseInt('1');
                            if (upperBound >= 0) {
                                slicesOfContent = slicesOfContent.slice(0, upperBound);
                            }

                            // highlight title and content

                            function highlightKeyword(text, slice) {
                                var result = '';
                                var prevEnd = slice.start;
                                slice.hits.forEach(function (hit) {
                                    result += text.substring(prevEnd, hit.position);
                                    var end = hit.position + hit.length;
                                    result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                                    prevEnd = end;
                                });
                                result += text.substring(prevEnd, slice.end);
                                
                                return result;
                            }

                            var resultItem = '';

                            if (slicesOfTitle.length != 0) {
                                resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                            } else {
                                resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                            }

                            slicesOfContent.forEach(function (slice) {
                                resultItem += "<a href='" + articleUrl + "'>" +
                                    "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                                    "...</p>" + "</a>";
                            });

                            resultItem += "</li>";
                            resultItems.push({
                                item: resultItem,
                                searchTextCount: searchTextCount,
                                hitCount: hitCount,
                                id: resultItems.length
                            });
                        }
                    })
                    if (keywords.length === 1 && keywords[0] === "") {
                        resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
                    } else if (resultItems.length === 0) {
                        resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
                    } else {
                        resultItems.sort(function (resultLeft, resultRight) {
                            if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                                return resultRight.searchTextCount - resultLeft.searchTextCount;
                            } else if (resultLeft.hitCount !== resultRight.hitCount) {
                                return resultRight.hitCount - resultLeft.hitCount;
                            } else {
                                return resultRight.id - resultLeft.id;
                            }
                        });
                        var searchResultList = '<ul class=\"search-result-list\">';
                        resultItems.forEach(function (result) {
                            searchResultList += result.item;
                        })
                        searchResultList += "</ul>";
                        resultContent.innerHTML = searchResultList;
                    }
                }

                if ('auto' === 'auto') {
                    input.addEventListener('input', inputEventFunction);
                } else {
                    $('.search-icon').click(inputEventFunction);
                    input.addEventListener('keypress', function (event) {
                        if (event.keyCode === 13) {
                            inputEventFunction();
                        }
                    });
                }

                // remove loading animation
                $(".local-search-pop-overlay").remove();
                $('body').css('overflow', '');

                proceedsearch();
            }
        });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function (e) {
        e.stopPropagation();
        if (isfetched === false) {
            searchFunc(path, 'local-search-input', 'local-search-result');
        } else {
            proceedsearch();
        };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function (e) {
        e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
        var shouldDismissSearchPopup = event.which === 27 &&
            $('.search-popup').is(':visible');
        if (shouldDismissSearchPopup) {
            onPopupClose();
        }
    });
</script>



  

  

  

  

  
<script>
if ($('body').find('pre.mermaid').length) {
  $.ajax({
    type: 'GET',
    //url: '',
    url: '/js/mermaid.min.js',
    dataType: 'script',
    cache: true,
    success: function() {
      mermaid.initialize({
        theme: '',
        logLevel: 3,
        flowchart: { curve: 'linear' },
        gantt: { axisFormat: '%m/%d/%Y' },
        sequence: { actorMargin: 50 }
      });
    }
  });
}
</script>


  

  

  

  

  

  

  

  

  


   <!-- 代码块复制功能 -->
  <script type="text/javascript" src="/js/src/clipboard.min.js"></script>  
  <script type="text/javascript" src="/js/src/clipboard-use.js"></script>
</body>
</html>
